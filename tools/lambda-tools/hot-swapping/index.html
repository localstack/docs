<!doctype html><html lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=generator content="Hugo 0.83.1"><meta name=ROBOTS content="INDEX, FOLLOW"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Hot Swapping | Docs</title><meta name=description content="Hot code swapping for Lambda functions using LocalStack's code mounting
"><meta property="og:title" content="Hot Swapping"><meta property="og:description" content="Hot code swapping for Lambda functions using LocalStack's code mounting
"><meta property="og:type" content="article"><meta property="og:url" content="/tools/lambda-tools/hot-swapping/"><meta property="article:section" content="tools"><meta property="article:published_time" content="2021-09-27T00:00:00+00:00"><meta property="article:modified_time" content="2021-10-12T15:57:12+02:00"><meta property="og:site_name" content="Docs"><meta itemprop=name content="Hot Swapping"><meta itemprop=description content="Hot code swapping for Lambda functions using LocalStack's code mounting
"><meta itemprop=datePublished content="2021-09-27T00:00:00+00:00"><meta itemprop=dateModified content="2021-10-12T15:57:12+02:00"><meta itemprop=wordCount content="1261"><meta itemprop=keywords content><meta name=twitter:card content="summary"><meta name=twitter:title content="Hot Swapping"><meta name=twitter:description content="Hot code swapping for Lambda functions using LocalStack's code mounting
"><link rel=preload href=/scss/main.min.3a26818be31cae62a05338b29d85a6a08e1dd57ba9895c177ca1651bf15c0b0c.css as=style><link href=/scss/main.min.3a26818be31cae62a05338b29d85a6a08e1dd57ba9895c177ca1651bf15c0b0c.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.5.1.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://unpkg.com/lunr@2.3.8/lunr.min.js integrity=sha384-vRQ9bDyE0Wnu+lMfm57BlYLO0/XauFuKpVsZPs7KEDwYKktWi5+Kz3MP8++DFlRY crossorigin=anonymous></script><script type=application/javascript>var doNotTrack=!1;doNotTrack||(window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga('create','UA-101988473-1','auto'),ga('send','pageview'))</script><script async src=https://www.google-analytics.com/analytics.js></script></head><body class=td-page><header><div class="header-bar fixed-top"></div><nav class="js-navbar-scroll navbar navbar-expand flex-column flex-md-row td-navbar"><div class=navbar-brand><a class=brand-link href=https://localstack.cloud><span class=navbar-logo><svg xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:cc="http://creativecommons.org/ns#" xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#" xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd" xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape" viewBox="0 0 991.48739 170.37541" id="svg112" inkscape:version="0.92.5 (2060ec1f9f, 2020-04-08)" sodipodi:docname="logo.svg"><defs id="defs106"/><sodipodi:namedview id="base" pagecolor="#ffffff" bordercolor="#666666" borderopacity="1" inkscape:pageopacity="0" inkscape:pageshadow="2" inkscape:zoom="1.4" inkscape:cx="727.30332" inkscape:cy="-61.558035" inkscape:document-units="mm" inkscape:current-layer="layer1" inkscape:document-rotation="0" showgrid="false" fit-margin-top="10" fit-margin-left="5" fit-margin-right="5" fit-margin-bottom="10" inkscape:window-width="1920" inkscape:window-height="1028" inkscape:window-x="1920" inkscape:window-y="203" inkscape:window-maximized="1" scale-x="2"/><g inkscape:label="Layer 1" inkscape:groupmode="layer" id="layer1" transform="translate(54.061547,-118.86469)"><g id="g176" transform="translate(0,57.731311)"><path style="clip-rule:evenodd;fill:#fff;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:7.42143011;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;image-rendering:optimizeQuality;shape-rendering:geometricPrecision;text-rendering:geometricPrecision" d="m-52.720752 220.5092 316.511842.4325-3.19199 3.12456-310.250997.0504z" id="rect849" inkscape:connector-curvature="0" sodipodi:nodetypes="ccccc"/><g id="g4" transform="matrix(0.26458333,0,0,0.26458333,-53.576623,-15.198916)" style="clip-rule:evenodd;fill-rule:evenodd;image-rendering:optimizeQuality;shape-rendering:geometricPrecision;text-rendering:geometricPrecision"><path style="opacity:.98200001;fill:#000" d="m1199.5 887.5v5c-23.63 1.553-47.3 2.386-71 2.5H74.5c-22.0173-.196-44.0173-.863-66-2-1.66667-.333-3.33333-.667-5-1-1.10997-3.916.5567-5.916 5-6 37.6351-1.989 76.5517-2.822 114.25-2.5V309.75c-.04-6.6885 3.1055-9.7305 9.75-9.75l947-1.5c7.3614.12608 7.2097 3.82062 7.5 9.25l1.5 573.75c32.66.99 65.33 2.157 98 3.5 4.47.265 8.8 1.099 13 2.5z" id="path2" inkscape:connector-curvature="0" sodipodi:nodetypes="ccccccccccccccc"/></g><rect style="clip-rule:evenodd;fill:#f2f2f2;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:3.73213005;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;image-rendering:optimizeQuality;shape-rendering:geometricPrecision;text-rendering:geometricPrecision" id="rect828" width="228.24132" height="133.6264" x="-8.5944328" y="77.649414"/><g id="g8" transform="matrix(0.26458333,0,0,0.26458333,-53.576623,-15.198916)" style="clip-rule:evenodd;fill-rule:evenodd;image-rendering:optimizeQuality;shape-rendering:geometricPrecision;text-rendering:geometricPrecision"/><g id="g12" transform="matrix(0.26458333,0,0,0.26458333,-54.229541,-9.9072564)" style="clip-rule:evenodd;fill:#fff;fill-rule:evenodd;stroke:#000;stroke-width:15.11810017;stroke-miterlimit:4;stroke-dasharray:none;image-rendering:optimizeQuality;shape-rendering:geometricPrecision;text-rendering:geometricPrecision"><path style="opacity:.93199978;fill:#fff;stroke:#000;stroke-width:15.11810017;stroke-miterlimit:4;stroke-dasharray:none" d="m495.5 376.5c60.781-1.864 107.614 22.469 140.5 73 21.52-2.759 43.02-2.592 64.5.5 25.105 5.551 47.105 16.884 66 34 10.018 10.418 20.018 20.751 30 31 45.148-4.501 85.148 7.499 120 36 48.038 47.186 60.205 102.353 36.5 165.5-19.361 40.693-50.527 67.86-93.5 81.5-5.617 1.052-11.284 1.718-17 2l-447 1c-15.382-.28-30.715-1.28-46-3-13.855-2.061-26.521-7.061-38-15-58.123-41.126-79.29-96.626-63.5-166.5 14.085-41.423 40.918-71.589 80.5-90.5 13.98737-6.81937 23.112-7.777 35-10.5 5.245-53.345 30.579-93.845 76-121.5 17.69-9.399 36.357-15.233 56-17.5z" id="path10" inkscape:connector-curvature="0" sodipodi:nodetypes="ccccccccccccccccc"/></g><g id="g36" transform="matrix(0.26458333,0,0,0.26458333,-54.811272,-15.198916)" style="clip-rule:evenodd;fill-rule:evenodd;image-rendering:optimizeQuality;shape-rendering:geometricPrecision;text-rendering:geometricPrecision"><path style="opacity:.947;fill:#000" d="m1094.5 902.85355c36.05.026 62.05-.16155 98 1.14645-2.39 1.861-5.05 3.194-8 4-24.21 6.792-48.88 10.792-74 12-311.997 2.874-623.997 3.208-936 1-31.348-.147-62.682-.814-94-2C62.2602 916.485 52.83387 915.47065 35.07367 910.65165 32.46137 910.01265 21.5543 906.194 19.5 904.5c12.019293-1.00178 62.256885-1.55984 107.86396-1.64645z" id="path34" inkscape:connector-curvature="0" sodipodi:nodetypes="cccccccccc"/></g><g id="g843" transform="matrix(0.26458333,0,0,0.26458333,-57.712197,62.314814)" style="clip-rule:evenodd;fill-rule:evenodd;image-rendering:optimizeQuality;shape-rendering:geometricPrecision;text-rendering:geometricPrecision"><rect transform="matrix(0.88450881,0.4665235,-0.88450881,0.4665235,0,0)" y="-103.65459" x="595.69012" height="142.05777" width="142.05777" id="rect858" style="fill:none;fill-opacity:.72361797;stroke:#4d4d4d;stroke-width:10.40100002;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/><path inkscape:connector-curvature="0" id="rect858-3" d="m712.79775 341.47217 26.4242 13.93713-125.65134 66.27329-125.65135-66.27329 31.42905-16.57687" style="clip-rule:evenodd;fill:none;fill-opacity:.72361797;fill-rule:evenodd;stroke:#4d4d4d;stroke-width:9.44882011;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;image-rendering:optimizeQuality;shape-rendering:geometricPrecision;text-rendering:geometricPrecision"/><path inkscape:connector-curvature="0" style="clip-rule:evenodd;fill:none;fill-opacity:.72361797;fill-rule:evenodd;stroke:#4d4d4d;stroke-width:9.44882011;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;image-rendering:optimizeQuality;shape-rendering:geometricPrecision;text-rendering:geometricPrecision" d="m712.79775 403.47217 26.4242 13.93713-125.65134 66.27329-125.65135-66.27329 31.42905-16.57687" id="path895"/></g><circle style="clip-rule:evenodd;fill:#e6e6e6;fill-opacity:.72361797;fill-rule:evenodd;stroke:none;stroke-width:2.46213007;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;image-rendering:optimizeQuality;shape-rendering:geometricPrecision;text-rendering:geometricPrecision" id="path897" cx="105.52623" cy="70.32399" r="3.3732591"/></g><g aria-label="LocalStack" style="font-style:normal;font-weight:400;font-size:121.94495392px;line-height:0;font-family:sans-serif;letter-spacing:0;word-spacing:0;fill:#1d2d35;fill-opacity:1;stroke:none;stroke-width:.99999994" id="text829-3"><path d="m309.80715 151.7474v85.36147h51.46077V221.86575H327.24528V151.7474z" style="font-style:normal;font-variant:normal;font-weight:600;font-stretch:normal;font-family:Jost;-inkscape-font-specification:'Jost Semi-Bold';fill:#1d2d35;fill-opacity:1;stroke-width:.99999994" id="path830"/><path d="m366.02374 209.06153q0 8.65809 4.02418 15.36507 4.14613 6.58502 11.097 10.24337 7.0728 3.65835 15.97478 3.65835 8.90199.0 15.85285-3.65835 7.07281-3.65835 11.09699-10.24337 4.14613-6.70698 4.14613-15.36507.0-8.78003-4.14613-15.36506-4.02418-6.58503-11.09699-10.24338-6.95086-3.65835-15.85285-3.65835-8.90198.0-15.97478 3.65835-6.95087 3.65835-11.097 10.24338-4.02418 6.58503-4.02418 15.36506zm16.09673.0q0-4.75585 1.95112-8.4142 2.07307-3.65835 5.48753-5.60947 3.41446-1.95112 7.56058-1.95112 4.14613.0 7.56059 1.95112 3.41446 1.95112 5.36558 5.60947 2.07306 3.65835 2.07306 8.4142.0 4.75586-2.07306 8.4142-1.95112 3.53641-5.36558 5.60947-3.41446 1.95112-7.56059 1.95112-4.14612.0-7.56058-1.95112-3.41446-2.07306-5.48753-5.60947-1.95112-3.65834-1.95112-8.4142z" style="font-style:normal;font-variant:normal;font-weight:600;font-stretch:normal;font-family:Jost;-inkscape-font-specification:'Jost Semi-Bold';fill:#1d2d35;fill-opacity:1;stroke-width:.99999994" id="path832"/><path d="m451.99474 209.06153q0-4.75585 2.19501-8.4142 2.19501-3.65835 5.85335-5.73141 3.7803-2.19501 8.29226-2.19501 3.41446.0 6.82892 1.0975 3.41446 1.09751 6.21919 3.17057 2.92668 1.95112 4.39002 4.63391v-16.21868q-2.92668-2.56084-7.68253-4.02418-4.63391-1.58529-10.8531-1.58529-8.90199.0-16.09674 3.65835-7.0728 3.65835-11.21893 10.24338-4.02419 6.58503-4.02419 15.36506.0 8.65809 4.02419 15.36507 4.14613 6.58502 11.21893 10.24337 7.19475 3.65835 16.09674 3.65835 6.21919.0 10.8531-1.46334 4.75585-1.58528 7.68253-4.26807v-16.21868q-1.46334 2.68279-4.26807 4.75585-2.68279 1.95112-6.09725 3.17057-3.41446 1.09751-7.07281 1.09751-4.51196.0-8.29226-2.07307-3.65834-2.07306-5.85335-5.73141-2.19501-3.65835-2.19501-8.53615z" style="font-style:normal;font-variant:normal;font-weight:600;font-stretch:normal;font-family:Jost;-inkscape-font-specification:'Jost Semi-Bold';fill:#1d2d35;fill-opacity:1;stroke-width:.99999994" id="path834"/><path d="m510.89396 219.67074q0-2.4389 1.0975-4.02418 1.09751-1.70723 3.41446-2.56084 2.31695-.97556 5.9753-.97556 4.51197.0 8.53615 1.21945 4.14613 1.21944 7.43864 3.65834v-7.31669q-1.21945-1.46334-4.02418-3.04863-2.80474-1.58528-6.95086-2.68279-4.02419-1.0975-9.38977-1.0975-10.48726.0-16.21867 4.75585-5.73142 4.75586-5.73142 12.92617.0 5.73141 2.68279 9.75559 2.80474 3.90224 7.3167 5.97531 4.51196 2.07306 9.7556 2.07306 5.12168.0 9.75559-1.82917 4.75586-1.82918 7.68253-5.48753 3.04863-3.65834 3.04863-9.02392l-1.95112-7.3167q0 4.02418-1.82918 6.95086-1.82917 2.80474-4.75585 4.39002-2.92668 1.46334-6.58503 1.46334-2.56084.0-4.75585-.85361-2.07306-.97556-3.29251-2.68279-1.21945-1.82918-1.21945-4.26808zm-6.09725-22.8037q1.21945-.85362 3.78029-2.07307 2.56085-1.21945 6.09725-2.07306 3.5364-.85362 7.43864-.85362 2.56085.0 4.63391.48778 2.07307.48778 3.5364 1.58529 1.58529 1.0975 2.31696 2.80473.73167 1.58529.73167 3.90224v36.46154h15.24312v-39.75405q0-5.73142-3.17057-9.63365-3.17057-4.02419-8.78004-6.09725-5.60947-2.07307-12.80422-2.07307-7.80447.0-14.14561 2.19501-6.34114 2.07307-10.73116 4.39002z" style="font-style:normal;font-variant:normal;font-weight:600;font-stretch:normal;font-family:Jost;-inkscape-font-specification:'Jost Semi-Bold';fill:#1d2d35;fill-opacity:1;stroke-width:.99999994" id="path836"/><path d="m563.20832 141.99181v95.11706h15.85284v-95.11706z" style="font-style:normal;font-variant:normal;font-weight:600;font-stretch:normal;font-family:Jost;-inkscape-font-specification:'Jost Semi-Bold';fill:#1d2d35;fill-opacity:1;stroke-width:.99999994" id="path838"/><path d="m603.57203 208.45181-12.43839 8.78003q2.80474 5.97531 7.80448 11.09699 4.99974 5.12169 11.70672 8.17032 6.82891 2.92668 14.63339 2.92668 5.85336.0 11.09699-1.82918 5.36558-1.70723 9.63365-4.99974 4.26808-3.41446 6.70698-8.29226 2.43889-4.8778 2.43889-11.09699.0-5.48752-1.82917-9.63365-1.70723-4.26807-4.8778-7.3167-3.04862-3.17057-6.95086-5.36558-3.78029-2.19501-7.92642-3.65834-6.46309-2.19501-10.73116-4.26808-4.26807-2.19501-6.34114-4.51196-2.07306-2.4389-2.07306-5.60947t2.56084-5.48752q2.56085-2.4389 7.68254-2.4389 3.90223.0 6.95086 1.58528 3.04862 1.46334 5.36558 4.02419 2.4389 2.4389 4.14612 5.48752l13.65784-7.56059q-2.19501-4.51196-6.21919-8.65809-3.90224-4.26807-9.87754-6.95086-5.85336-2.80474-14.02367-2.80474-7.92643.0-14.38951 2.92668-6.34114 2.80474-10.12143 8.17032-3.65835 5.24363-3.65835 12.56033.0 6.09724 2.31696 10.48726 2.31695 4.26807 5.85335 7.3167 3.53641 2.92668 7.43865 4.8778 4.02418 1.82917 7.0728 2.92668 5.73142 2.195 9.63365 4.14612 4.02419 1.82918 5.97531 4.26808 2.07306 2.4389 2.07306 6.46308.0 4.63391-3.29251 7.3167-3.29252 2.68279-8.53615 2.68279-4.51196.0-8.4142-1.95112t-7.19475-5.48753q-3.17057-3.5364-5.85336-8.29225z" style="font-style:normal;font-variant:normal;font-weight:600;font-stretch:normal;font-family:Jost;-inkscape-font-specification:'Jost Semi-Bold';fill:#1d2d35;fill-opacity:1;stroke-width:.99999994" id="path840"/><path d="m660.7642 181.01419v13.292h34.63237v-13.292zm9.63366-19.51119v75.60587h15.24312V161.503z" style="font-style:normal;font-variant:normal;font-weight:600;font-stretch:normal;font-family:Jost;-inkscape-font-specification:'Jost Semi-Bold';fill:#1d2d35;fill-opacity:1;stroke-width:.99999994" id="path842"/><path d="m715.02955 219.67074q0-2.4389 1.0975-4.02418 1.09751-1.70723 3.41446-2.56084 2.31695-.97556 5.9753-.97556 4.51197.0 8.53615 1.21945 4.14613 1.21944 7.43864 3.65834v-7.31669q-1.21945-1.46334-4.02418-3.04863-2.80474-1.58528-6.95086-2.68279-4.02419-1.0975-9.38977-1.0975-10.48726.0-16.21867 4.75585-5.73142 4.75586-5.73142 12.92617.0 5.73141 2.68279 9.75559 2.80474 3.90224 7.3167 5.97531 4.51196 2.07306 9.7556 2.07306 5.12168.0 9.75559-1.82917 4.75585-1.82918 7.68253-5.48753 3.04863-3.65834 3.04863-9.02392l-1.95112-7.3167q0 4.02418-1.82918 6.95086-1.82917 2.80474-4.75585 4.39002-2.92668 1.46334-6.58503 1.46334-2.56084.0-4.75585-.85361-2.07306-.97556-3.29251-2.68279-1.21945-1.82918-1.21945-4.26808zm-6.09725-22.8037q1.21945-.85362 3.78029-2.07307 2.56085-1.21945 6.09725-2.07306 3.5364-.85362 7.43864-.85362 2.56085.0 4.63391.48778 2.07307.48778 3.5364 1.58529 1.58529 1.0975 2.31696 2.80473.73167 1.58529.73167 3.90224v36.46154h15.24312v-39.75405q0-5.73142-3.17057-9.63365-3.17057-4.02419-8.78004-6.09725-5.60947-2.07307-12.80422-2.07307-7.80448.0-14.14561 2.19501-6.34114 2.07307-10.73116 4.39002z" style="font-style:normal;font-variant:normal;font-weight:600;font-stretch:normal;font-family:Jost;-inkscape-font-specification:'Jost Semi-Bold';fill:#1d2d35;fill-opacity:1;stroke-width:.99999994" id="path844"/><path d="m779.29451 209.06153q0-4.75585 2.19501-8.4142 2.19501-3.65835 5.85336-5.73141 3.78029-2.19501 8.29226-2.19501 3.41445.0 6.82891 1.0975 3.41446 1.09751 6.2192 3.17057 2.92667 1.95112 4.39001 4.63391v-16.21868q-2.92668-2.56084-7.68253-4.02418-4.63391-1.58529-10.8531-1.58529-8.90198.0-16.09673 3.65835-7.07281 3.65835-11.21894 10.24338-4.02418 6.58503-4.02418 15.36506.0 8.65809 4.02418 15.36507 4.14613 6.58502 11.21894 10.24337 7.19475 3.65835 16.09673 3.65835 6.21919.0 10.8531-1.46334 4.75585-1.58528 7.68253-4.26807v-16.21868q-1.46334 2.68279-4.26807 4.75585-2.68279 1.95112-6.09725 3.17057-3.41446 1.09751-7.0728 1.09751-4.51197.0-8.29226-2.07307-3.65835-2.07306-5.85336-5.73141-2.19501-3.65835-2.19501-8.53615z" style="font-style:normal;font-variant:normal;font-weight:600;font-stretch:normal;font-family:Jost;-inkscape-font-specification:'Jost Semi-Bold';fill:#1d2d35;fill-opacity:1;stroke-width:.99999994" id="path846"/><path d="m826.60896 141.99181v95.11706h15.24312v-95.11706zm35.85182 39.02238-24.1451 23.16954 26.70594 32.92514h18.77952l-26.584-32.92514 24.14511-23.16954z" style="font-style:normal;font-variant:normal;font-weight:600;font-stretch:normal;font-family:Jost;-inkscape-font-specification:'Jost Semi-Bold';fill:#1d2d35;fill-opacity:1;stroke-width:.99999994" id="path848"/></g><path style="fill:#000;fill-opacity:1;stroke:#666;stroke-width:14;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1" d="M929.10217 140.68845V250.75684" id="path882" inkscape:connector-curvature="0"/></g></svg></span></a><a class=home-link href=/><span class="text-lowercase font-weight-bold">Docs</span></a></div><div class="td-navbar-nav-scroll ml-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-lg-0"><li><div class="navbar-nav d-none d-lg-block"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site‚Ä¶" aria-label="Search this site‚Ä¶" autocomplete=off data-offline-search-index-json-src=/offline-search-index.80e2670a916ac16695162852a8279e6a.json data-offline-search-base-href=/ data-offline-search-max-results=10></div></li><li class=nav-item><a class=nav-link target=_blank href=https://twitter.com/_localstack><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg></a></li><li class=nav-item><a class=nav-link target=_blank href=https://github.com/localstack><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg></a></li><li class=nav-item><a class="btn btn-doks" type=link href=https://app.localstack.cloud><i class="fa fa-laptop"></i> Sign up</a></li></ul></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><form class="td-sidebar__search d-flex align-items-center"><input type=search class="form-control td-search-input" placeholder="&#xf002; Search this site‚Ä¶" aria-label="Search this site‚Ä¶" autocomplete=off data-offline-search-index-json-src=/offline-search-index.80e2670a916ac16695162852a8279e6a.json data-offline-search-base-href=/ data-offline-search-max-results=10>
<button class="btn btn-link td-sidebar__toggle d-md-none p-0 ml-3 fas fa-bars" type=button data-toggle=collapse data-target=#td-section-nav aria-controls=td-docs-nav aria-expanded=false aria-label="Toggle section navigation"></button></form><nav class="collapse td-sidebar-nav foldable-nav" id=td-section-nav><ul class="td-sidebar-nav__section pr-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m--li><a href=/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-><span>Documentation</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-overview-li><input type=checkbox id=m-overview-check>
<label for=m-overview-check><a href=/overview/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-overview><span>Overview</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-get-started-li><input type=checkbox id=m-get-started-check>
<label for=m-get-started-check><a href=/get-started/ title="Get Started" class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-get-started><span>üöÄ Get Started</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-get-startedpro-li><input type=checkbox id=m-get-startedpro-check>
<label for=m-get-startedpro-check><a href=/get-started/pro/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-get-startedpro><span>LocalStack Pro</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-integrations-li><input type=checkbox id=m-integrations-check>
<label for=m-integrations-check><a href=/integrations/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-integrations><span>Integrations</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationsaws-cli-li><input type=checkbox id=m-integrationsaws-cli-check>
<label for=m-integrationsaws-cli-check><a href=/integrations/aws-cli/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationsaws-cli><span>AWS Command Line Interface</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationsserverless-framework-li><input type=checkbox id=m-integrationsserverless-framework-check>
<label for=m-integrationsserverless-framework-check><a href=/integrations/serverless-framework/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationsserverless-framework><span>Serverless Framework</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationsspring-cloud-function-li><input type=checkbox id=m-integrationsspring-cloud-function-check>
<label for=m-integrationsspring-cloud-function-check><a href=/integrations/spring-cloud-function/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationsspring-cloud-function><span>Spring Cloud Function</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationsarchitect-li><input type=checkbox id=m-integrationsarchitect-check>
<label for=m-integrationsarchitect-check><a href=/integrations/architect/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationsarchitect><span>Architect</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationscopilot-li><input type=checkbox id=m-integrationscopilot-check>
<label for=m-integrationscopilot-check><a href=/integrations/copilot/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationscopilot><span>AWS Copilot CLI</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationsterraform-li><input type=checkbox id=m-integrationsterraform-check>
<label for=m-integrationsterraform-check><a href=/integrations/terraform/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationsterraform><span>Terraform</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationsthundra-li><input type=checkbox id=m-integrationsthundra-check>
<label for=m-integrationsthundra-check><a href=/integrations/thundra/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationsthundra><span>Thundra</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationsaws-sam-li><input type=checkbox id=m-integrationsaws-sam-check>
<label for=m-integrationsaws-sam-check><a href=/integrations/aws-sam/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationsaws-sam><span>AWS SAM</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationsaws-cdk-li><input type=checkbox id=m-integrationsaws-cdk-check>
<label for=m-integrationsaws-cdk-check><a href=/integrations/aws-cdk/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationsaws-cdk><span>AWS CDK</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationspulumi-li><input type=checkbox id=m-integrationspulumi-check>
<label for=m-integrationspulumi-check><a href=/integrations/pulumi/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationspulumi><span>Pulumi</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-integrationssdks-li><input type=checkbox id=m-integrationssdks-check>
<label for=m-integrationssdks-check><a href=/integrations/sdks/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-integrationssdks><span>Language SDKs</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationssdksgo-li><input type=checkbox id=m-integrationssdksgo-check>
<label for=m-integrationssdksgo-check><a href=/integrations/sdks/go/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationssdksgo><span>Go</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationssdksphp-li><input type=checkbox id=m-integrationssdksphp-check>
<label for=m-integrationssdksphp-check><a href=/integrations/sdks/php/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationssdksphp><span>PHP</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-integrationssdkspython-li><input type=checkbox id=m-integrationssdkspython-check>
<label for=m-integrationssdkspython-check><a href=/integrations/sdks/python/ title="Python Boto3" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-integrationssdkspython><span>Python: Boto3</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-ci-li><input type=checkbox id=m-ci-check>
<label for=m-ci-check><a href=/ci/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-ci><span>LocalStack in CI</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-cicircle-ci-li><input type=checkbox id=m-cicircle-ci-check>
<label for=m-cicircle-ci-check><a href=/ci/circle-ci/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-cicircle-ci><span>CircleCI</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-cigithub-actions-li><input type=checkbox id=m-cigithub-actions-check>
<label for=m-cigithub-actions-check><a href=/ci/github-actions/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-cigithub-actions><span>GitHub Actions</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-citravis-ci-li><input type=checkbox id=m-citravis-ci-check>
<label for=m-citravis-ci-check><a href=/ci/travis-ci/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-citravis-ci><span>Travis CI</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-aws-li><input type=checkbox id=m-aws-check>
<label for=m-aws-check><a href=/aws/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-aws><span>Local AWS Services</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsfeature-coverage-li><input type=checkbox id=m-awsfeature-coverage-check>
<label for=m-awsfeature-coverage-check><a href=/aws/feature-coverage/ title="AWS Service Feature Coverage" class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsfeature-coverage><span>‚≠ê Feature Coverage</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsamplify-li><input type=checkbox id=m-awsamplify-check>
<label for=m-awsamplify-check><a href=/aws/amplify/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsamplify><span>Amplify</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsapigatewayv2-li><input type=checkbox id=m-awsapigatewayv2-check>
<label for=m-awsapigatewayv2-check><a href=/aws/apigatewayv2/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsapigatewayv2><span>API Gateway V2</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsappsync-li><input type=checkbox id=m-awsappsync-check>
<label for=m-awsappsync-check><a href=/aws/appsync/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsappsync><span>AppSync</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsathena-li><input type=checkbox id=m-awsathena-check>
<label for=m-awsathena-check><a href=/aws/athena/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsathena><span>Athena</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsbackup-li><input type=checkbox id=m-awsbackup-check>
<label for=m-awsbackup-check><a href=/aws/backup/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsbackup><span>Backup</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awscloudformation-li><input type=checkbox id=m-awscloudformation-check>
<label for=m-awscloudformation-check><a href=/aws/cloudformation/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awscloudformation><span>CloudFormation</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awscloudfront-li><input type=checkbox id=m-awscloudfront-check>
<label for=m-awscloudfront-check><a href=/aws/cloudfront/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awscloudfront><span>CloudFront</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awscodecommit-li><input type=checkbox id=m-awscodecommit-check>
<label for=m-awscodecommit-check><a href=/aws/codecommit/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awscodecommit><span>CodeCommit</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awscognito-li><input type=checkbox id=m-awscognito-check>
<label for=m-awscognito-check><a href=/aws/cognito/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awscognito><span>Cognito</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awselastic-container-registry-li><input type=checkbox id=m-awselastic-container-registry-check>
<label for=m-awselastic-container-registry-check><a href=/aws/elastic-container-registry/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awselastic-container-registry><span>Elastic Container Registry (ECR)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awselastic-container-service-li><input type=checkbox id=m-awselastic-container-service-check>
<label for=m-awselastic-container-service-check><a href=/aws/elastic-container-service/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awselastic-container-service><span>Elastic Container Service (ECS)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awselastic-kubernetes-service-li><input type=checkbox id=m-awselastic-kubernetes-service-check>
<label for=m-awselastic-kubernetes-service-check><a href=/aws/elastic-kubernetes-service/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awselastic-kubernetes-service><span>Elastic Kubernetes Service (EKS)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awselastic-mapreduce-li><input type=checkbox id=m-awselastic-mapreduce-check>
<label for=m-awselastic-mapreduce-check><a href=/aws/elastic-mapreduce/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awselastic-mapreduce><span>Elastic MapReduce (EMR)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awselasticache-li><input type=checkbox id=m-awselasticache-check>
<label for=m-awselasticache-check><a href=/aws/elasticache/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awselasticache><span>ElastiCache</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awselasticsearch-li><input type=checkbox id=m-awselasticsearch-check>
<label for=m-awselasticsearch-check><a href=/aws/elasticsearch/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awselasticsearch><span>Elasticsearch Service</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsglue-li><input type=checkbox id=m-awsglue-check>
<label for=m-awsglue-check><a href=/aws/glue/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsglue><span>Glue</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsiam-li><input type=checkbox id=m-awsiam-check>
<label for=m-awsiam-check><a href=/aws/iam/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsiam><span>Identity and Access Management (IAM)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsiot-li><input type=checkbox id=m-awsiot-check>
<label for=m-awsiot-check><a href=/aws/iot/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsiot><span>IoT</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awskinesis-li><input type=checkbox id=m-awskinesis-check>
<label for=m-awskinesis-check><a href=/aws/kinesis/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awskinesis><span>Kinesis</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awskinesis-analytics-li><input type=checkbox id=m-awskinesis-analytics-check>
<label for=m-awskinesis-analytics-check><a href=/aws/kinesis-analytics/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awskinesis-analytics><span>Kinesis Data Analytics</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awslambda-layers-li><input type=checkbox id=m-awslambda-layers-check>
<label for=m-awslambda-layers-check><a href=/aws/lambda-layers/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awslambda-layers><span>Lambda Layers</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsmulti-account-setups-li><input type=checkbox id=m-awsmulti-account-setups-check>
<label for=m-awsmulti-account-setups-check><a href=/aws/multi-account-setups/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsmulti-account-setups><span>Multi-Account Setups</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsmulti-region-support-li><input type=checkbox id=m-awsmulti-region-support-check>
<label for=m-awsmulti-region-support-check><a href=/aws/multi-region-support/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsmulti-region-support><span>Multi-Region Support</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsneptune-li><input type=checkbox id=m-awsneptune-check>
<label for=m-awsneptune-check><a href=/aws/neptune/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsneptune><span>Neptune</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsqldb-li><input type=checkbox id=m-awsqldb-check>
<label for=m-awsqldb-check><a href=/aws/qldb/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsqldb><span>Quantum Ledger Database (QLDB)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsrds-li><input type=checkbox id=m-awsrds-check>
<label for=m-awsrds-check><a href=/aws/rds/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsrds><span>Relational Database Service (RDS)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsroute53-li><input type=checkbox id=m-awsroute53-check>
<label for=m-awsroute53-check><a href=/aws/route53/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsroute53><span>Route 53</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awss3-li><input type=checkbox id=m-awss3-check>
<label for=m-awss3-check><a href=/aws/s3/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awss3><span>S3</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awssagemaker-li><input type=checkbox id=m-awssagemaker-check>
<label for=m-awssagemaker-check><a href=/aws/sagemaker/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awssagemaker><span>SageMaker</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsses-li><input type=checkbox id=m-awsses-check>
<label for=m-awsses-check><a href=/aws/ses/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsses><span>Simple Email Service (SES)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awssqs-li><input type=checkbox id=m-awssqs-check>
<label for=m-awssqs-check><a href=/aws/sqs/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awssqs><span>Simple Queue Service (SQS)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awstransfer-li><input type=checkbox id=m-awstransfer-check>
<label for=m-awstransfer-check><a href=/aws/transfer/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awstransfer><span>Transfer</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-awsxray-tracing-li><input type=checkbox id=m-awsxray-tracing-check>
<label for=m-awsxray-tracing-check><a href=/aws/xray-tracing/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-awsxray-tracing><span>XRay Tracing</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-tools-li><input type=checkbox id=m-tools-check checked>
<label for=m-tools-check><a href=/tools/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-tools><span>LocalStack Tools</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-toolsanalytics-dashboard-li><input type=checkbox id=m-toolsanalytics-dashboard-check>
<label for=m-toolsanalytics-dashboard-check><a href=/tools/analytics-dashboard/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-toolsanalytics-dashboard><span>Analytics Dashboard</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-toolscloud-pods-li><input type=checkbox id=m-toolscloud-pods-check>
<label for=m-toolscloud-pods-check><a href=/tools/cloud-pods/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-toolscloud-pods><span>Cloud Pods</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-toolstesting-tools-li><input type=checkbox id=m-toolstesting-tools-check>
<label for=m-toolstesting-tools-check><a href=/tools/testing-tools/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-toolstesting-tools><span>LocalStack Testing Tools</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m-toolslambda-tools-li><input type=checkbox id=m-toolslambda-tools-check checked>
<label for=m-toolslambda-tools-check><a href=/tools/lambda-tools/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-toolslambda-tools><span>Lambda Tools</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-toolslambda-toolshot-swapping-li><input type=checkbox id=m-toolslambda-toolshot-swapping-check checked>
<label for=m-toolslambda-toolshot-swapping-check><a href=/tools/lambda-tools/hot-swapping/ class="align-left pl-0 active td-sidebar-link td-sidebar-link__page" id=m-toolslambda-toolshot-swapping><span class=td-sidebar-nav-active-item>Hot Swapping</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-toolslambda-toolsdebugging-li><input type=checkbox id=m-toolslambda-toolsdebugging-check>
<label for=m-toolslambda-toolsdebugging-check><a href=/tools/lambda-tools/debugging/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-toolslambda-toolsdebugging><span>Remote Debugging</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-toolslocal-endpoint-injection-li><input type=checkbox id=m-toolslocal-endpoint-injection-check>
<label for=m-toolslocal-endpoint-injection-check><a href=/tools/local-endpoint-injection/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-toolslocal-endpoint-injection><span>Local Endpoint Injection</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-toolslocal-endpoint-injectiondns-server-li><input type=checkbox id=m-toolslocal-endpoint-injectiondns-server-check>
<label for=m-toolslocal-endpoint-injectiondns-server-check><a href=/tools/local-endpoint-injection/dns-server/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-toolslocal-endpoint-injectiondns-server><span>DNS Server</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-toolslocal-endpoint-injectionpatched-sdks-li><input type=checkbox id=m-toolslocal-endpoint-injectionpatched-sdks-check>
<label for=m-toolslocal-endpoint-injectionpatched-sdks-check><a href=/tools/local-endpoint-injection/patched-sdks/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-toolslocal-endpoint-injectionpatched-sdks><span>Patched AWS SDKs for Lambdas</span></a></label></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-localstack-li><input type=checkbox id=m-localstack-check>
<label for=m-localstack-check><a href=/localstack/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-localstack><span>Understanding LocalStack</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-localstackconfiguration-li><input type=checkbox id=m-localstackconfiguration-check>
<label for=m-localstackconfiguration-check><a href=/localstack/configuration/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-localstackconfiguration><span>Configuration</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-localstacklambda-executors-li><input type=checkbox id=m-localstacklambda-executors-check>
<label for=m-localstacklambda-executors-check><a href=/localstack/lambda-executors/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-localstacklambda-executors><span>Lambda Executor Modes</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-localstackpersistence-mechanism-li><input type=checkbox id=m-localstackpersistence-mechanism-check>
<label for=m-localstackpersistence-mechanism-check><a href=/localstack/persistence-mechanism/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-localstackpersistence-mechanism><span>Persistence Mechanism Configuration</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-localstacklimitations-li><input type=checkbox id=m-localstacklimitations-check>
<label for=m-localstacklimitations-check><a href=/localstack/limitations/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-localstacklimitations><span>LocalStack Limitations</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-developer-guide-li><input type=checkbox id=m-developer-guide-check>
<label for=m-developer-guide-check><a href=/developer-guide/ class="align-left pl-0 td-sidebar-link td-sidebar-link__section" id=m-developer-guide><span>Developer Guide</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-developer-guidebasics-li><input type=checkbox id=m-developer-guidebasics-check>
<label for=m-developer-guidebasics-check><a href=/developer-guide/basics/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-developer-guidebasics><span>Basics</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-developer-guidesetup-li><input type=checkbox id=m-developer-guidesetup-check>
<label for=m-developer-guidesetup-check><a href=/developer-guide/setup/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-developer-guidesetup><span>Setup and requirements</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-developer-guideintegration-tests-li><input type=checkbox id=m-developer-guideintegration-tests-check>
<label for=m-developer-guideintegration-tests-check><a href=/developer-guide/integration-tests/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-developer-guideintegration-tests><span>Integration tests</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-developer-guideterraform-tests-li><input type=checkbox id=m-developer-guideterraform-tests-check>
<label for=m-developer-guideterraform-tests-check><a href=/developer-guide/terraform-tests/ class="align-left pl-0 td-sidebar-link td-sidebar-link__page" id=m-developer-guideterraform-tests><span>Terraform test suite</span></a></label></li></ul></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ml-2 pb-1 pt-2 mb-0"><a href=https://github.com/localstack/docs/edit/main/content/en/tools/lambda-tools/hot-swapping/index.md target=_blank><i class="fa fa-edit fa-fw"></i> Edit this page</a>
<a href="https://github.com/localstack/docs/new/main/content/en/tools/lambda-tools/hot-swapping/index.md?filename=change-me.md&value=---%0Atitle%3A+%22Long+Page+Title%22%0AlinkTitle%3A+%22Short+Nav+Title%22%0Aweight%3A+100%0Adescription%3A+%3E-%0A+++++Page+description+for+heading+and+indexes.%0A---%0A%0A%23%23+Heading%0A%0AEdit+this+template+to+create+your+new+page.%0A%0A%2A+Give+it+a+good+name%2C+ending+in+%60.md%60+-+e.g.+%60getting-started.md%60%0A%2A+Edit+the+%22front+matter%22+section+at+the+top+of+the+page+%28weight+controls+how+its+ordered+amongst+other+pages+in+the+same+directory%3B+lowest+number+first%29.%0A%2A+Add+a+good+commit+message+at+the+bottom+of+the+page+%28%3C80+characters%3B+use+the+extended+description+field+for+more+detail%29.%0A%2A+Create+a+new+branch+so+you+can+preview+your+new+file+and+request+a+review+via+Pull+Request.%0A" target=_blank><i class="fa fa-edit fa-fw"></i> Create child page</a>
<a href="https://github.com/localstack/docs/issues/new?title=Hot%20Swapping" target=_blank><i class="fab fa-github fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/localstack/localstack/issues/new target=_blank><i class="fas fa-tasks fa-fw"></i> Create project issue</a></div><h5 class=toc-title>Table of Contents</h5><div class=td-toc><nav id=TableOfContents><ul><li><a href=#covered-topics>Covered Topics</a></li><li><a href=#application-configuration-examples>Application Configuration Examples</a><ul><li><a href=#code-hot-swapping-for-jvm-lambdas>Code hot-swapping for JVM Lambdas</a></li><li><a href=#code-hot-swapping-for-python-lambdas>Code hot-swapping for Python Lambdas</a></li></ul></li><li><a href=#deployment-configuration-examples>Deployment Configuration Examples</a><ul><li><a href=#serverless-framework-configuration>Serverless Framework Configuration</a></li><li><a href=#aws-cloud-development-kit-cdk-configuration>AWS Cloud Development Kit (CDK) Configuration</a></li><li><a href=#terraform-configuration>Terraform Configuration</a></li></ul></li><li><a href=#useful-links>Useful Links</a></li></ul></nav></div><div class="taxonomy taxonomy-terms-cloud taxo-tags"><h5 class=taxonomy-title>Tag Cloud</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=/tags/architect/ data-taxonomy-term=architect><span class=taxonomy-label>architect</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/cdk/ data-taxonomy-term=cdk><span class=taxonomy-label>cdk</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/ci/ data-taxonomy-term=ci><span class=taxonomy-label>ci</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=/tags/cloudformation/ data-taxonomy-term=cloudformation><span class=taxonomy-label>cloudformation</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=/tags/continuous-delivery/ data-taxonomy-term=continuous-delivery><span class=taxonomy-label>continuous-delivery</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=/tags/continuous-integration/ data-taxonomy-term=continuous-integration><span class=taxonomy-label>continuous-integration</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=/tags/infrastructure-as-code/ data-taxonomy-term=infrastructure-as-code><span class=taxonomy-label>infrastructure-as-code</span><span class=taxonomy-count>6</span></a></li><li><a class=taxonomy-term href=/tags/jvm/ data-taxonomy-term=jvm><span class=taxonomy-label>jvm</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/kotlin/ data-taxonomy-term=kotlin><span class=taxonomy-label>kotlin</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/observability/ data-taxonomy-term=observability><span class=taxonomy-label>observability</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/pulumi/ data-taxonomy-term=pulumi><span class=taxonomy-label>pulumi</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/sam/ data-taxonomy-term=sam><span class=taxonomy-label>sam</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/sdk/ data-taxonomy-term=sdk><span class=taxonomy-label>sdk</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=/tags/serverless-framework/ data-taxonomy-term=serverless-framework><span class=taxonomy-label>serverless-framework</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=/tags/spring/ data-taxonomy-term=spring><span class=taxonomy-label>spring</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/spring-cloud/ data-taxonomy-term=spring-cloud><span class=taxonomy-label>spring-cloud</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/spring-cloud-function/ data-taxonomy-term=spring-cloud-function><span class=taxonomy-label>spring-cloud-function</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/terraform/ data-taxonomy-term=terraform><span class=taxonomy-label>terraform</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/testing/ data-taxonomy-term=testing><span class=taxonomy-label>testing</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=/tags/thundra/ data-taxonomy-term=thundra><span class=taxonomy-label>thundra</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/tracing/ data-taxonomy-term=tracing><span class=taxonomy-label>tracing</span><span class=taxonomy-count>1</span></a></li></ul></div><div class="taxonomy taxonomy-terms-cloud taxo-categories"><h5 class=taxonomy-title>Categories</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=/categories/dns/ data-taxonomy-term=dns><span class=taxonomy-label>DNS</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/categories/localstack-community/ data-taxonomy-term=localstack-community><span class=taxonomy-label>LocalStack Community</span><span class=taxonomy-count>8</span></a></li><li><a class=taxonomy-term href=/categories/localstack-pro/ data-taxonomy-term=localstack-pro><span class=taxonomy-label>LocalStack Pro</span><span class=taxonomy-count>37</span></a></li><li><a class=taxonomy-term href=/categories/persistence/ data-taxonomy-term=persistence><span class=taxonomy-label>Persistence</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/categories/stub/ data-taxonomy-term=stub><span class=taxonomy-label>Stub</span><span class=taxonomy-count>6</span></a></li><li><a class=taxonomy-term href=/categories/tools/ data-taxonomy-term=tools><span class=taxonomy-label>Tools</span><span class=taxonomy-count>3</span></a></li></ul></div></aside><main class="col-12 col-md-9 col-xl-8 pl-md-5" role=main><nav aria-label=breadcrumb class="d-none d-md-block d-print-none"><ol class="breadcrumb spb-1"><li class=breadcrumb-item><a href=/tools/>LocalStack Tools</a></li><li class=breadcrumb-item><a href=/tools/lambda-tools/>Lambda Tools</a></li><li class="breadcrumb-item active" aria-current=page><a href=/tools/lambda-tools/hot-swapping/>Hot Swapping</a></li></ol></nav><div class=td-content><h1>Hot Swapping</h1><div class=lead>Hot code swapping for Lambda functions using LocalStack&rsquo;s code mounting</div><header class=article-meta><div class="taxonomy taxonomy-terms-article taxo-categories"><h5 class=taxonomy-title>Categories:</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=/categories/localstack-community/ data-taxonomy-term=localstack-community><span class=taxonomy-label>LocalStack Community</span></a></li><li><a class=taxonomy-term href=/categories/localstack-pro/ data-taxonomy-term=localstack-pro><span class=taxonomy-label>LocalStack Pro</span></a></li></ul></div></header><table><thead><tr><th>Complexity</th><th>‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ</th></tr></thead><tbody><tr><td>Time to read</td><td>5 minutes</td></tr><tr><td>Edition</td><td>community/pro</td></tr><tr><td>Platform</td><td>any</td></tr></tbody></table><p>Quickly iterating over Lambda function code can be quite cumbersome, as you need to deploy your function on every change.
With LocalStack you can avoid this hurdle by mounting your code directly from the source folder.
This way, any saved change inside your source file directly affects the already deployed Lambda function &ndash; without any redeployment!</p><h2 id=covered-topics>Covered Topics</h2><p><a href=#application-configuration-examples>Application Configuration Examples</a>:</p><ul><li><a href=#code-hot-swapping-for-jvm-lambdas>Code hot-swapping for JVM Lambdas</a></li><li><a href=#code-hot-swapping-for-python-lambdas>Code hot-swapping for Python Lambdas</a></li><li>Debugging Nodejs lambdas (under development)</li></ul><p><a href=#deployment-configuration-examples>Deployment Configuration Examples</a>:</p><ul><li><a href=#serverless-framework-configuration>Serverless Framework Configuration</a></li><li><a href=#aws-cloud-development-kit-cdk-configuration>AWS Cloud Development Kit (CDK) Configuration</a></li><li><a href=#terraform-configuration>Terraform Configuration</a></li></ul><p><a href=#useful-links>Useful Links</a></p><h2 id=application-configuration-examples>Application Configuration Examples</h2><h3 id=code-hot-swapping-for-jvm-lambdas>Code hot-swapping for JVM Lambdas</h3><p>Since lambda containers lifetime is usually limited, regular hot code swapping
techniques are not applicable here.</p><p>In our implementation, we will be watching for fs changes under the project folder,
then build a <code>FatJar</code>, unzip it, and mount it into the Lambda Docker Container.</p><p>We assume you already have:</p><ul><li><a href=https://facebook.github.io/watchman/>watchman</a></li><li>configured JVM project capable of building FatJars using your preferred build tool</li></ul><p>First, create a watchman wrapper by using
<a href=https://github.com/localstack/localstack-pro-samples/tree/master/spring-cloud-function-microservice/bin/watchman.sh>one of our examples</a></p><p>Don&rsquo;t forget to adjust permissions:<div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span class=command-prefix>$ </span>chmod +x bin/watchman.sh</code></pre></div></p><p>Now configure your build tool to unzip the FatJar to some folder, which will be
then mounted to LocalStack. We are using <code>Gradle</code> build tool to unpack the
<code>FatJar</code> into the <code>build/hot</code> folder:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-gradle data-lang=gradle><span style=color:#8f5902;font-style:italic>// We assume you are using something like `Shadow` plugin that comes with `shadowJar` task
</span><span style=color:#8f5902;font-style:italic></span><span style=color:#000>task</span> <span style=color:#000>buildHot</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#f57900>type:</span> <span style=color:#000>Copy</span><span style=color:#ce5c00;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>{</span>
    <span style=color:#000>from</span> <span style=color:#000>zipTree</span><span style=color:#ce5c00;font-weight:700>(</span><span style=color:#4e9a06>&#34;${project.buildDir}/libs/${project.name}-all.jar&#34;</span><span style=color:#ce5c00;font-weight:700>)</span>
    <span style=color:#000>into</span> <span style=color:#4e9a06>&#34;${project.buildDir}/hot&#34;</span>
<span style=color:#ce5c00;font-weight:700>}</span>
<span style=color:#000>buildHot</span><span style=color:#ce5c00;font-weight:700>.</span><span style=color:#c4a000>dependsOn</span> <span style=color:#000>shadowJar</span>
</code></pre></div><p>Now run the following command to start watching your project in a hot-swapping mode:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span class=command-prefix>$ </span>bin/watchman.sh src &#34;./gradlew buildHot&#34;</code></pre></div><p>Please note that you still need to configure your deployment tool to use
local code mounting. Read the &ldquo;<a href=#deployment-configuration-examples>Deployment Configuration Examples</a>&rdquo;
for more information.</p><h3 id=code-hot-swapping-for-python-lambdas>Code hot-swapping for Python Lambdas</h3><p>We will show you how you can do this with a simple example function, taken directly from the
<a href=https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/python/example_code/lambda/boto_client_examples/lambda_handler_basic.py>AWS Lambda developer guide</a>.</p><p>You can check out that code, or use your own lambda functions to follow along. To use the example just do:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span class=command-prefix>$ </span>cd /tmp
<span class=command-prefix>$ </span>git clone git@github.com:awsdocs/aws-doc-sdk-examples.git</code></pre></div><h4 id=starting-up-localstack>Starting up LocalStack</h4><p>First, we need to make sure we start LocalStack with the right configuration.
This is as simple as setting <code>LAMBDA_REMOTE_DOCKER</code>(see the <a href=/localstack/configuration/#lambda>Configuration Documentation</a> for more information):</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span class=command-prefix>$ </span>LAMBDA_REMOTE_DOCKER=0 localstack start</code></pre></div><p>Accordingly, if you are launching LocalStack via Docker or Docker Compose:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#8f5902;font-style:italic>#docker-compose.yml</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>services</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>localstack</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>...</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>environment</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#000>...</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>LAMBDA_REMOTE_DOCKER=false</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><h4 id=creating-the-lambda-function>Creating the Lambda Function</h4><p>To create the Lambda function, you just need to take care of two things:</p><ol><li>Deploy via an S3 Bucket. You need to use the magic variable <code>__local__</code> as the bucket.</li><li>Set the S3 key to the path of the directory your lambda function resides in.
The handler is then referenced by the filename of your lambda code and the function in that code that needs to be invoked.</li></ol><p>So, using the AWS example, this would be:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span class=command-prefix>$ </span>awslocal lambda create-function --function-name my-cool-local-function \
    --code S3Bucket=&#34;__local__&#34;,S3Key=&#34;/tmp/aws-doc-sdk-examples/python/example_code/lambda/boto_client_examples&#34; \
    --handler lambda_handler_basic.lambda_handler \
    --runtime python3.8 \
    --role cool-stacklifter</code></pre></div><p>You can also check out some of our &ldquo;<a href=#deployment-configuration-examples>Deployment Configuration Examples</a>&rdquo;.</p><p>We can also quickly make sure that it works by invoking it with a simple payload:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span class=command-prefix>$ </span>awslocal lambda invoke --function-name my-cool-local-function --payload &#39;{&#34;action&#34;: &#34;square&#34;, &#34;number&#34;: 3}&#39; output.txt</code></pre></div><p>The invocation returns itself returns:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=color:#000;font-weight:700>{</span>
    <span style=color:#204a87;font-weight:700>&#34;StatusCode&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#0000cf;font-weight:700>200</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;LogResult&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>,</span>
    <span style=color:#204a87;font-weight:700>&#34;ExecutedVersion&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;$LATEST&#34;</span>
<span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>and <code>output.txt</code> contains:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;result&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>9</span><span style=color:#000;font-weight:700>}</span>
</code></pre></div><h4 id=changing-things-up>Changing things up</h4><p>Now, that we got everything up and running, the fun begins.
Because the function is now mounted as a file in the executing container, any change that we save on the file will be there in an instant.</p><p>For example, we can now make a minor change to the API and replace the response in <a href=https://github.com/awsdocs/aws-doc-sdk-examples/blob/main/python/example_code/lambda/boto_client_examples/lambda_handler_basic.py#L41>line 41</a> with the following:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>    <span style=color:#000>response</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#39;math_result&#39;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>result</span><span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>Without redeploying or updating the function, the result of the previous request will look like this:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;math_result&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#0000cf;font-weight:700>9</span><span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>Cool!</p><h4 id=usage-with-viertualenv>Usage with Viertualenv</h4><p>For Virtualenv-driven projects, all dependencies should be available under the same folder as the project itself.
The easiest way to achieve that is to implement a watchman script that will be preparing a special folder for hot code swapping.</p><p>In our example, we are using <code>build/hot</code> folder as a mounting point for our Lambdas.</p><p>First, create a watchman wrapper by using
<a href=https://github.com/localstack/localstack-pro-samples/tree/master/spring-cloud-function-microservice/bin/watchman.sh>one of our examples</a></p><p>After that, you can use the following <code>Makefile</code> snippet, or implement another shell script to prepare the codebase for hot swapping:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-make data-lang=make><span style=color:#000>VENV_DIR</span> <span style=color:#ce5c00;font-weight:700>?=</span> .venv
<span style=color:#000>VENV_RUN</span> <span style=color:#ce5c00;font-weight:700>?=</span> . <span style=color:#204a87;font-weight:700>$(</span>VENV_DIR<span style=color:#204a87;font-weight:700>)</span>/bin/activate
<span style=color:#000>BUILD_FOLDER</span> <span style=color:#ce5c00;font-weight:700>?=</span> build
<span style=color:#000>PROJECT_MODULE_NAME</span> <span style=color:#ce5c00;font-weight:700>=</span> my_project_module

<span style=color:#000>build-hot</span><span style=color:#ce5c00;font-weight:700>:</span>
	<span style=color:#204a87;font-weight:700>$(</span>VENV_RUN<span style=color:#204a87;font-weight:700>)</span><span style=color:#000;font-weight:700>;</span>
  rm -rf <span style=color:#204a87;font-weight:700>$(</span>BUILD_FOLDER<span style=color:#204a87;font-weight:700>)</span>/hot <span style=color:#ce5c00;font-weight:700>&amp;&amp;</span> mkdir -p <span style=color:#204a87;font-weight:700>$(</span>BUILD_FOLDER<span style=color:#204a87;font-weight:700>)</span>/hot<span style=color:#000;font-weight:700>;</span>
	cp -r <span style=color:#204a87;font-weight:700>$(</span>VENV_DIR<span style=color:#204a87;font-weight:700>)</span>/lib/python<span style=color:#204a87;font-weight:700>$(</span>shell python --version <span style=color:#000;font-weight:700>|</span> grep -oE <span style=color:#4e9a06>&#39;[0-9]\.[0-9]&#39;</span><span style=color:#204a87;font-weight:700>)</span>/site-packages/* <span style=color:#204a87;font-weight:700>$(</span>BUILD_FOLDER<span style=color:#204a87;font-weight:700>)</span>/hot<span style=color:#000;font-weight:700>;</span>
	cp -r <span style=color:#204a87;font-weight:700>$(</span>PROJECT_MODULE_NAME<span style=color:#204a87;font-weight:700>)</span> <span style=color:#204a87;font-weight:700>$(</span>BUILD_FOLDER<span style=color:#204a87;font-weight:700>)</span>/hot/<span style=color:#204a87;font-weight:700>$(</span>PROJECT_MODULE_NAME<span style=color:#204a87;font-weight:700>)</span><span style=color:#000;font-weight:700>;</span>
	cp *.toml <span style=color:#204a87;font-weight:700>$(</span>BUILD_FOLDER<span style=color:#204a87;font-weight:700>)</span>/hot<span style=color:#000;font-weight:700>;</span>

<span style=color:#000>watch</span><span style=color:#ce5c00;font-weight:700>:</span>
	bin/watchman.sh <span style=color:#204a87;font-weight:700>$(</span>PROJECT_MODULE_NAME<span style=color:#204a87;font-weight:700>)</span> <span style=color:#4e9a06>&#34;make build-hot&#34;</span>

<span style=color:#000>.PHONY</span><span style=color:#ce5c00;font-weight:700>:</span> <span style=color:#000>build</span>-<span style=color:#000>hot</span> <span style=color:#000>watch</span>
</code></pre></div><p>As you can see, all we do here is just copying the project module <code>PROJECT_MODULE_NAME</code>
along with all dependencies into the <code>build/hot</code> folder, which is then mounted to
LocalStack&rsquo;s Lambda container.</p><p>To run the example above run <code>make watch</code></p><h2 id=deployment-configuration-examples>Deployment Configuration Examples</h2><h3 id=serverless-framework-configuration>Serverless Framework Configuration</h3><p>Enable local code mounting</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=color:#204a87;font-weight:700>custom</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>localstack</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>...</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>lambda</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>mountCode</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#8f5902;font-style:italic># or if you need to enable code mounting only for specific stages</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>custom</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>stages</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>local</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>mountCode</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>testing</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>mountCode</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>false</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>  </span><span style=color:#204a87;font-weight:700>localstack</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>stages</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>local</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span>- <span style=color:#000>testing</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>lambda</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline>
</span><span style=color:#f8f8f8;text-decoration:underline>      </span><span style=color:#204a87;font-weight:700>mountCode</span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>${self:custom.stages.${opt:stage}.mountCode}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></code></pre></div><p>Pass <code>LAMBDA_MOUNT_CWD</code> env var with path to the built code directory
(in our case to the folder with unzipped FatJar):</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span class=command-prefix>$ </span>LAMBDA_MOUNT_CWD=$(pwd)/build/hot serverless deploy --stage local</code></pre></div><h3 id=aws-cloud-development-kit-cdk-configuration>AWS Cloud Development Kit (CDK) Configuration</h3><div class=highlight><div style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><table style=border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">15
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">16
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">17
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">18
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">19
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">20
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">21
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">22
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">23
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">24
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">25
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">26
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">27
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">28
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">29
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">30
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">31
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">32
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">33
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">34
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">35
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">36
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">37
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">38
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">39
</span><span style="margin-right:.4em;padding:0 .4em;color:#7f7f7f">40
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-kotlin data-lang=kotlin><span style=color:#204a87;font-weight:700>package</span> <span style=color:#000>org.localstack.cdkstack</span>

<span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>java.util.UUID</span>
<span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>software.amazon.awscdk.core.Construct</span>
<span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>software.amazon.awscdk.core.Duration</span>
<span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>software.amazon.awscdk.core.Stack</span>
<span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>software.amazon.awscdk.services.lambda.*</span>
<span style=color:#204a87;font-weight:700>import</span> <span style=color:#000>software.amazon.awscdk.services.s3.Bucket</span>

<span style=color:#204a87;font-weight:700>private</span> <span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>STAGE</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>System</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getenv</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;STAGE&#34;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>?:</span> <span style=color:#4e9a06>&#34;local&#34;</span>
<span style=color:#204a87;font-weight:700>private</span> <span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>LAMBDA_MOUNT_CWD</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>System</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>getenv</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;LAMBDA_MOUNT_CWD&#34;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>?:</span> <span style=color:#4e9a06>&#34;&#34;</span>
<span style=color:#204a87;font-weight:700>private</span> <span style=color:#204a87;font-weight:700>const</span> <span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>JAR_PATH</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#4e9a06>&#34;build/libs/localstack-sampleproject-all.jar&#34;</span>

<span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>ApplicationStack</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>parent</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>Construct</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>name</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000>String</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>:</span> <span style=color:#000>Stack</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>parent</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>name</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>

    <span style=color:#204a87;font-weight:700>init</span> <span style=color:#000;font-weight:700>{</span>
        <span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>lambdaCodeSource</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>buildCodeSource</span><span style=color:#000;font-weight:700>()</span>

        <span style=color:#000>SingletonFunction</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>Builder</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>create</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;ExampleFunctionOne&#34;</span><span style=color:#000;font-weight:700>)</span>
            <span style=color:#000;font-weight:700>.</span><span style=color:#000>code</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>lambdaCodeSource</span><span style=color:#000;font-weight:700>)</span>
            <span style=color:#000;font-weight:700>.</span><span style=color:#000>handler</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;org.localstack.sampleproject.api.LambdaApi&#34;</span><span style=color:#000;font-weight:700>)</span>
            <span style=color:#000;font-weight:700>.</span><span style=color:#000>environment</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>mapOf</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;FUNCTION_NAME&#34;</span> <span style=color:#000>to</span> <span style=color:#4e9a06>&#34;functionOne&#34;</span><span style=color:#000;font-weight:700>))</span>
            <span style=color:#000;font-weight:700>.</span><span style=color:#000>timeout</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Duration</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>seconds</span><span style=color:#000;font-weight:700>(</span><span style=color:#0000cf;font-weight:700>30</span><span style=color:#000;font-weight:700>))</span>
            <span style=color:#000;font-weight:700>.</span><span style=color:#000>runtime</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Runtime</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>JAVA_11</span><span style=color:#000;font-weight:700>)</span>
            <span style=color:#000;font-weight:700>.</span><span style=color:#000>uuid</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>UUID</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>randomUUID</span><span style=color:#000;font-weight:700>().</span><span style=color:#000>toString</span><span style=color:#000;font-weight:700>())</span>
            <span style=color:#000;font-weight:700>.</span><span style=color:#000>build</span><span style=color:#000;font-weight:700>()</span>
    <span style=color:#000;font-weight:700>}</span>

    <span style=color:#8f5902;font-style:italic>/**
</span><span style=color:#8f5902;font-style:italic>     * Mount code for hot-reloading when STAGE=local
</span><span style=color:#8f5902;font-style:italic>     */</span>
    <span style=color:#204a87;font-weight:700>private</span> <span style=color:#204a87;font-weight:700>fun</span> <span style=color:#000>buildCodeSource</span><span style=color:#000;font-weight:700>():</span> <span style=color:#000>Code</span>  <span style=color:#000;font-weight:700>{</span>
        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>STAGE</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;local&#34;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
            <span style=color:#204a87;font-weight:700>val</span> <span style=color:#000>bucket</span> <span style=color:#000;font-weight:700>=</span> <span style=color:#000>Bucket</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>fromBucketName</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;HotReloadingBucket&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;__local__&#34;</span><span style=color:#000;font-weight:700>)</span>
            <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>Code</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>fromBucket</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>bucket</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>LAMBDA_MOUNT_CWD</span><span style=color:#000;font-weight:700>)</span>
        <span style=color:#000;font-weight:700>}</span>

        <span style=color:#204a87;font-weight:700>return</span> <span style=color:#000>Code</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>fromAsset</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>JAR_PATH</span><span style=color:#000;font-weight:700>)</span>
    <span style=color:#000;font-weight:700>}</span>
<span style=color:#000;font-weight:700>}</span></code></pre></td></tr></table></div></div><p>Then to bootstrap and deploy the stack run the following shell script</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span class=command-prefix>$ </span>STAGE=local &amp;&amp; LAMBDA_MOUNT_CWD=$(pwd)/build/hot &amp;&amp;
  cdklocal bootstrap aws://000000000000/$(AWS_REGION) &amp;&amp; \
  cdklocal deploy</code></pre></div><h3 id=terraform-configuration>Terraform Configuration</h3><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-hcl data-lang=hcl><span style=color:#204a87;font-weight:700>ariable</span> <span style=color:#4e9a06>&#34;STAGE&#34;</span> {
<span style=color:#000>    type</span>    <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>string</span>
<span style=color:#000>    default</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;local&#34;</span>
}

<span style=color:#204a87;font-weight:700>variable</span> <span style=color:#4e9a06>&#34;AWS_REGION&#34;</span> {
<span style=color:#000>    type</span>    <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>string</span>
<span style=color:#000>    default</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;us-east-1&#34;</span>
}

<span style=color:#204a87;font-weight:700>variable</span> <span style=color:#4e9a06>&#34;JAR_PATH&#34;</span> {
<span style=color:#000>    type</span>    <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>string</span>
<span style=color:#000>    default</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;build/libs/localstack-sampleproject-all.jar&#34;</span>
}

<span style=color:#204a87;font-weight:700>variable</span> <span style=color:#4e9a06>&#34;LAMBDA_MOUNT_CWD&#34;</span> {
<span style=color:#000>    type</span>    <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>string</span>
}

<span style=color:#204a87;font-weight:700>provider</span> <span style=color:#4e9a06>&#34;aws&#34;</span> {
<span style=color:#000>    access_key</span>                  <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;test_access_key&#34;</span>
<span style=color:#000>    secret_key</span>                  <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;test_secret_key&#34;</span>
<span style=color:#000>    region</span>                      <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>var</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>AWS_REGION</span>
<span style=color:#000>    s3_force_path_style</span>         <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>true</span>
<span style=color:#000>    skip_credentials_validation</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>true</span>
<span style=color:#000>    skip_metadata_api_check</span>     <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>true</span>
<span style=color:#000>    skip_requesting_account_id</span>  <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>true</span>

    <span style=color:#204a87;font-weight:700>endpoints</span> {
<span style=color:#000>        apigateway</span>       <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000> var.STAGE</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;local&#34; ? &#34;http://localhost:4566&#34;</span> <span style=color:#a40000>:</span> <span style=color:#204a87;font-weight:700>null</span>
<span style=color:#000>        cloudformation</span>   <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000> var.STAGE</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;local&#34; ? &#34;http://localhost:4566&#34;</span> <span style=color:#a40000>:</span> <span style=color:#204a87;font-weight:700>null</span>
<span style=color:#000>        cloudwatch</span>       <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000> var.STAGE</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;local&#34; ? &#34;http://localhost:4566&#34;</span> <span style=color:#a40000>:</span> <span style=color:#204a87;font-weight:700>null</span>
<span style=color:#000>        cloudwatchevents</span> <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000> var.STAGE</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;local&#34; ? &#34;http://localhost:4566&#34;</span> <span style=color:#a40000>:</span> <span style=color:#204a87;font-weight:700>null</span>
<span style=color:#000>        iam</span>              <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000> var.STAGE</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;local&#34; ? &#34;http://localhost:4566&#34;</span> <span style=color:#a40000>:</span> <span style=color:#204a87;font-weight:700>null</span>
<span style=color:#000>        lambda</span>           <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000> var.STAGE</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;local&#34; ? &#34;http://localhost:4566&#34;</span> <span style=color:#a40000>:</span> <span style=color:#204a87;font-weight:700>null</span>
<span style=color:#000>        s3</span>               <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000> var.STAGE</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;local&#34; ? &#34;http://localhost:4566&#34;</span> <span style=color:#a40000>:</span> <span style=color:#204a87;font-weight:700>null</span>
    }
}

<span style=color:#204a87;font-weight:700>resource</span> <span style=color:#4e9a06>&#34;aws_iam_role&#34; &#34;lambda-execution-role&#34;</span> {
<span style=color:#000>    name</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;lambda-execution-role&#34;</span>

<span style=color:#000>    assume_role_policy</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#a40000>&lt;&lt;</span><span style=color:#204a87;font-weight:700>EOF</span>
{
  <span style=color:#4e9a06>&#34;Version&#34;: &#34;2012-10-17&#34;</span><span style=color:#000;font-weight:700>,</span>
  <span style=color:#4e9a06>&#34;Statement&#34;</span><span style=color:#a40000>:</span> <span style=color:#000;font-weight:700>[</span>
    {
      <span style=color:#4e9a06>&#34;Action&#34;: &#34;sts:AssumeRole&#34;</span><span style=color:#000;font-weight:700>,</span>
      <span style=color:#4e9a06>&#34;Principal&#34;</span><span style=color:#a40000>:</span> {
        <span style=color:#4e9a06>&#34;Service&#34;: &#34;lambda.amazonaws.com&#34;</span>
      }<span style=color:#000;font-weight:700>,</span>
      <span style=color:#4e9a06>&#34;Effect&#34;: &#34;Allow&#34;</span><span style=color:#000;font-weight:700>,</span>
      <span style=color:#4e9a06>&#34;Sid&#34;: &#34;&#34;</span>
    }
  <span style=color:#000;font-weight:700>]</span>
}
<span style=color:#204a87;font-weight:700>EOF</span>
}

<span style=color:#204a87;font-weight:700>resource</span> <span style=color:#4e9a06>&#34;aws_lambda_function&#34; &#34;exampleFunctionOne&#34;</span> {
<span style=color:#000>    s3_bucket</span>     <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000> var.STAGE</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;local&#34; ? &#34;__local__&#34;</span> <span style=color:#a40000>:</span> <span style=color:#204a87;font-weight:700>null</span>
<span style=color:#000>    s3_key</span>        <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000> var.STAGE</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;local&#34;</span> <span style=color:#a40000>?</span> <span style=color:#204a87;font-weight:700>var</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>LAMBDA_MOUNT_CWD</span> <span style=color:#a40000>:</span> <span style=color:#204a87;font-weight:700>null</span>
<span style=color:#000>    filename</span>      <span style=color:#ce5c00;font-weight:700>=</span><span style=color:#000> var.STAGE</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#4e9a06>&#34;local&#34;</span> <span style=color:#a40000>?</span> <span style=color:#204a87;font-weight:700>null</span> <span style=color:#a40000>:</span> <span style=color:#204a87;font-weight:700>var</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>JAR_PATH</span>
<span style=color:#000>    function_name</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;ExampleFunctionOne&#34;</span>
<span style=color:#000>    role</span>          <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>aws_iam_role</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>lambda</span><span style=color:#a40000>-</span><span style=color:#204a87;font-weight:700>execution</span><span style=color:#a40000>-</span><span style=color:#204a87;font-weight:700>role</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>arn</span>
<span style=color:#000>    handler</span>       <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;org.localstack.sampleproject.api.LambdaApi&#34;</span>
<span style=color:#000>    runtime</span>       <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;java11&#34;</span>
<span style=color:#000>    timeout</span>       <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>30</span>
<span style=color:#000>    source_code_hash</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#204a87;font-weight:700>filebase64sha256</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>var</span><span style=color:#000;font-weight:700>.</span><span style=color:#204a87;font-weight:700>JAR_PATH</span><span style=color:#000;font-weight:700>)</span>
    <span style=color:#204a87;font-weight:700>environment</span> {
<span style=color:#000>        variables</span> <span style=color:#ce5c00;font-weight:700>=</span> {
<span style=color:#000>            FUNCTION_NAME</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#34;functionOne&#34;</span>
        }
    }
}
</code></pre></div><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span class=command-prefix>$ </span>terraform init &amp;&amp; \
  terraform apply -var &#34;STAGE=local&#34; -var &#34;LAMBDA_MOUNT_CWD=$(pwd)/build/hot&#34;</code></pre></div><h2 id=useful-links>Useful Links</h2><ul><li><a href=https://github.com/localstack/localstack-pro-samples/tree/master/lambda-mounting-and-debugging>Lambda Code Mounting and Debugging (Python)</a></li><li><a href=https://github.com/localstack/localstack-pro-samples/tree/master/spring-cloud-function-microservice>Spring Cloud Function on LocalStack (Kotlin JVM)</a></li></ul><div class="text-muted mt-5 pt-3 border-top">Last modified October 12, 2021: <a href=https://github.com/localstack/docs/commit/42e2bc68b9fe3b8bfcea37b70d16c6884aa35bd5>extend sample in EKS docs (42e2bc6)</a></div></div></main></div></div><footer class="footer-localstack d-print-none"><div class=container-fluid><div class=row><div class=col><div class=mb-3><a href=https://localstack.cloud><img class=footer-logo src=/images/localstack.svg></a></div></div><div class=col><div class="text-right link-lists"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a target=_blank rel=noopener href=https://twitter.com/_localstack aria-label=Twitter><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Discussion aria-label=Discussion><a target=_blank rel=noopener href=https://github.com/localstack/localstack/discussions aria-label=Discussion><i class="fa fa-comments"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a target=_blank rel=noopener href=https://stackoverflow.com/questions/tagged/localstack aria-label="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li></ul><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/localstack/ aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title="Issue tracker" aria-label="Issue tracker"><a target=_blank rel=noopener href=https://github.com/localstack/localstack/issues aria-label="Issue tracker"><i class="fa fa-bug"></i></a></li><li class="list-inline-item mx-2 h3" data-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a target=_blank rel=noopener href=https://localstack-community.slack.com/ aria-label=Slack><i class="fab fa-slack"></i></a></li></ul></div></div></div><div class=row><div class=col><hr><div class=row><div class=col><small>Copyright &copy; 2021 LocalStack All Rights Reserved</small></div><div class="col text-right"><small class=ml-1><a href=https://localstack.cloud/privacy-policy/ target=_blank rel=noopener>Privacy Policy</a></small></div></div></div></div></div></footer></div><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js integrity=sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js integrity=sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF crossorigin=anonymous></script><script src=/js/tabpane-persist.js></script><script src=/js/main.min.3b172c13b62c2bea8b1c9d2599cddc8cf89718a92d792c680871c81ba43d8c85.js integrity="sha256-OxcsE7YsK+qLHJ0lmc3cjPiXGKkteSxoCHHIG6Q9jIU=" crossorigin=anonymous></script></body></html>