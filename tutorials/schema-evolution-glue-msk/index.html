<!doctype html><html itemscope itemtype=http://schema.org/WebPage lang=en class=no-js><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><link rel="shortcut icon" href=/favicons/favicon.ico><link rel=apple-touch-icon href=/favicons/apple-touch-icon-180x180.png sizes=180x180><link rel=icon type=image/png href=/favicons/favicon-16x16.png sizes=16x16><link rel=icon type=image/png href=/favicons/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/favicons/android-36x36.png sizes=36x36><link rel=icon type=image/png href=/favicons/android-48x48.png sizes=48x48><link rel=icon type=image/png href=/favicons/android-72x72.png sizes=72x72><link rel=icon type=image/png href=/favicons/android-96x96.png sizes=96x96><link rel=icon type=image/png href=/favicons/android-144x144.png sizes=144x144><link rel=icon type=image/png href=/favicons/android-192x192.png sizes=192x192><title>Schema Evolution with Glue Schema Registry and Managed Streaming for Kafka (MSK) using LocalStack | Docs</title>
<meta name=description content="Find incompatibilities early or even avoid them altogether when developing Kafka producers or consumers! Learn how to test data schema evolution by using Managed Streaming for Kafka (MSK) with the Glue Schema Registry in LocalStack.
"><meta property="og:url" content="/tutorials/schema-evolution-glue-msk/"><meta property="og:site_name" content="Docs"><meta property="og:title" content="Schema Evolution with Glue Schema Registry and Managed Streaming for Kafka (MSK) using LocalStack"><meta property="og:description" content="Find incompatibilities early or even avoid them altogether when developing Kafka producers or consumers! Learn how to test data schema evolution by using Managed Streaming for Kafka (MSK) with the Glue Schema Registry in LocalStack."><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="tutorials"><meta property="article:modified_time" content="2024-03-04T21:08:13+05:30"><meta property="article:tag" content="Kafka"><meta property="article:tag" content="MSK"><meta property="article:tag" content="Glue Schema Registry"><meta property="article:tag" content="Schema Evolution"><meta property="article:tag" content="Java"><meta property="og:image" content="/tutorials/schema-evolution-glue-msk/schema-evolution-glue-msk-featured-image.png"><meta itemprop=name content="Schema Evolution with Glue Schema Registry and Managed Streaming for Kafka (MSK) using LocalStack"><meta itemprop=description content="Find incompatibilities early or even avoid them altogether when developing Kafka producers or consumers! Learn how to test data schema evolution by using Managed Streaming for Kafka (MSK) with the Glue Schema Registry in LocalStack.
"><meta itemprop=dateModified content="2024-03-04T21:08:13+05:30"><meta itemprop=wordCount content="4415"><meta itemprop=image content="/tutorials/schema-evolution-glue-msk/schema-evolution-glue-msk-featured-image.png"><meta itemprop=keywords content="Kafka,MSK,Glue Schema Registry,Schema Evolution,Java"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/tutorials/schema-evolution-glue-msk/schema-evolution-glue-msk-featured-image.png"><meta name=twitter:title content="Schema Evolution with Glue Schema Registry and Managed Streaming for Kafka (MSK) using LocalStack"><meta name=twitter:description content="Find incompatibilities early or even avoid them altogether when developing Kafka producers or consumers! Learn how to test data schema evolution by using Managed Streaming for Kafka (MSK) with the Glue Schema Registry in LocalStack.
"><link rel=preload href=/scss/main.min.5adb0011c19a999f0f2788305f771acfd5b853223823620ac5cfcd75f8d027ad.css as=style><link href=/scss/main.min.5adb0011c19a999f0f2788305f771acfd5b853223823620ac5cfcd75f8d027ad.css rel=stylesheet integrity><script src=https://code.jquery.com/jquery-3.7.1.min.js integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin=anonymous></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3.6.0 integrity="sha512-AyDFDkYyALC5qoao077IqAOV7UC4oKCBTp+mJfjIt306AIRoBxoEZYDo0kAx/R7RbT+3EYEky1po/F1w1eQt7g==" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@docsearch/css@3><script type=text/javascript id=hs-script-loader async defer src=//js-eu1.hs-scripts.com/26596507.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=UA-101988473-1"></script><script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","UA-101988473-1")}</script></head><body class=td-page><header><nav class="js-navbar-scroll navbar navbar-expand flex-column flex-md-row td-navbar"><div class=navbar-brand><a class=brand-link href=/><span class=navbar-logo><img src=/images/logo.svg height=40px>
</span><span class=navbar-suffix>| docs</span></a></div><div class="td-navbar-nav-scroll ms-md-auto" id=main_navbar><ul class="navbar-nav mt-2 mt-md-0 display-flex align-items-center" style=gap:.5rem><li><div class="navbar-nav d-none d-md-block h-100"><div class=td-search><div class=td-search--algolia id=docsearch-1></div></div></div></li><li class=nav-item><a class=nav-link target=_blank href=https://twitter.com/localstack><svg width="25" height="26" viewBox="0 0 25 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M25 13.25c0 6.9036-5.5964 12.5-12.5 12.5C5.59644 25.75.0 20.1536.0 13.25.0 6.34644 5.59644.75 12.5.75 19.4036.75 25 6.34644 25 13.25zm-6.56-3.0468C19.0443 10.1315 19.6205 9.97084 20.1562 9.73331 19.7558 10.3325 19.2493 10.8586 18.6651 11.2797 18.6709 11.4076 18.6738 11.5366 18.6738 11.6661c0 3.9487-3.0055 8.5014-8.5012 8.5014C8.48534 20.1675 6.91443 19.6731 5.59285 18.825 5.82615 18.8528 6.06457 18.8669 6.30522 18.8669 7.70545 18.8669 8.9936 18.3894 10.0164 17.5879 8.70861 17.5636 7.6054 16.6997 7.22527 15.5129 7.40754 15.5477 7.59449 15.5662 7.78745 15.5662 8.05952 15.5662 8.32401 15.5299 8.57447 15.4612c-1.36658-.2743-2.39692-1.4817-2.39692-2.9294C6.17755 12.5193 6.17755 12.5066 6.17777 12.4939 6.58041 12.7183 7.04144 12.8526 7.53098 12.868 6.7297 12.3323 6.20183 11.4174 6.20183 10.3811c0-.547520000000001.14751-1.06113.40465-1.50232C8.08024 10.687 10.282 11.8764 12.7651 12.001 12.7139 11.7822 12.6874 11.5542 12.6874 11.32c0-1.64975 1.338-2.98781 2.9878-2.98781.8599.0 1.6364.36276 2.1815.94322C18.5369 9.14149 19.1767 8.89304 19.754 8.55056 19.5305 9.24867 19.057 9.83358 18.44 10.2032z" fill="#fff"/></svg></a></li><li class=nav-item><a class=nav-link target=_blank href=https://github.com/localstack><svg width="25" height="26" viewBox="0 0 25 26" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.4984.75C5.59688.75.0 6.4882.0 13.5668c0 5.6616 3.58125 10.4647 8.55 12.161C9.175 25.8459 9.40312 25.4501 9.40312 25.1102 9.40312 24.8054 9.39219 23.9996 9.38594 22.9305 5.90938 23.7044 5.175 21.2119 5.175 21.2119c-.56719-1.4808-1.3875-1.875-1.3875-1.875C2.65156 18.5423 3.87187 18.5582 3.87187 18.5582 5.12656 18.6492 5.78594 19.8795 5.78594 19.8795c1.11562 1.9579 2.92656 1.393 3.63906 1.0643C9.5375 20.1156 9.86094 19.5507 10.2188 19.23 7.44375 18.9061 4.525 17.8066 4.525 12.8966c0-1.3994.4875-2.5436 1.2875-3.44036C5.68281 9.13231 5.25469 7.8286 5.93438 6.06534c0 0 1.05-.34468 3.43749 1.31327C10.3688 7.09457 11.4375 6.95256 12.5016 6.94777 13.5625 6.95415 14.6328 7.09457 15.6312 7.38021c2.386-1.65795 3.4344-1.31328 3.4344-1.31328.6813 1.76487.2531 3.06697.125 3.3909C19.9922 10.3546 20.475 11.4988 20.475 12.8982c0 4.9228-2.9219 6.0063-5.7063 6.3238C15.2172 19.6178 15.6172 20.3997 15.6172 21.5949 15.6172 23.3087 15.6016 24.6906 15.6016 25.1102 15.6016 25.4533 15.8266 25.8522 16.4609 25.7262 21.4219 24.0283 25 19.2268 25 13.5668 25 6.4882 19.4031.75 12.4984.75z" fill="#fff"/></svg></a></li><li class=nav-item><a class=btn-signup type=link href=https://app.localstack.cloud><i class="fa fa-user"></i> Sign up</a></li></ul></div></nav></header><div class="container-fluid td-outer"><div class=td-main><div class="row flex-xl-nowrap"><aside class="col-12 col-md-3 col-xl-2 td-sidebar d-print-none"><div id=td-sidebar-menu class=td-sidebar__inner><div id=content-mobile><form class="td-sidebar__search d-flex align-items-center"><div class=td-search><div class=td-search--algolia id=docsearch-0></div></div><button class="btn btn-link td-sidebar__toggle d-md-none p-0 ms-3 fas fa-bars" type=button data-bs-toggle=collapse data-bs-target=#td-section-nav aria-controls=td-section-nav aria-expanded=false aria-label="Toggle section navigation"></button></form></div><div id=content-desktop></div><nav class="collapse td-sidebar-nav foldable-nav" id=td-section-nav><ul class="td-sidebar-nav__section pe-md-3 ul-0"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m--li><a href=/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m-><span>Documentation</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-overview-li><input type=checkbox id=m-overview-check>
<label for=m-overview-check><a href=/overview/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-overview><span>Overview</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-getting-started-li><input type=checkbox id=m-getting-started-check>
<label for=m-getting-started-check><a href=/getting-started/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-getting-started><span>Getting Started</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-getting-startedinstallation-li><input type=checkbox id=m-getting-startedinstallation-check>
<label for=m-getting-startedinstallation-check><a href=/getting-started/installation/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-getting-startedinstallation><span>Installation</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-getting-startedauth-token-li><input type=checkbox id=m-getting-startedauth-token-check>
<label for=m-getting-startedauth-token-check><a href=/getting-started/auth-token/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-getting-startedauth-token><span>Auth Token</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-getting-startedquickstart-li><input type=checkbox id=m-getting-startedquickstart-check>
<label for=m-getting-startedquickstart-check><a href=/getting-started/quickstart/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-getting-startedquickstart><span>Quickstart</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-getting-startedfaq-li><input type=checkbox id=m-getting-startedfaq-check>
<label for=m-getting-startedfaq-check><a href=/getting-started/faq/ title="Frequently Asked Questions" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-getting-startedfaq><span>FAQ</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-getting-startedhelp-and-support-li><input type=checkbox id=m-getting-startedhelp-and-support-check>
<label for=m-getting-startedhelp-and-support-check><a href=/getting-started/help-and-support/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-getting-startedhelp-and-support><span>Help & Support</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-user-guide-li><input type=checkbox id=m-user-guide-check>
<label for=m-user-guide-check><a href=/user-guide/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-user-guide><span>User Guides</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-user-guideaws-li><input type=checkbox id=m-user-guideaws-check>
<label for=m-user-guideaws-check><a href=/user-guide/aws/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-user-guideaws><span>Local AWS Services</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsfeature-coverage-li><input type=checkbox id=m-user-guideawsfeature-coverage-check>
<label for=m-user-guideawsfeature-coverage-check><a href=/user-guide/aws/feature-coverage/ title="AWS Service Feature Coverage" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsfeature-coverage><span>‚≠ê Feature Coverage</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsaccount-li><input type=checkbox id=m-user-guideawsaccount-check>
<label for=m-user-guideawsaccount-check><a href=/user-guide/aws/account/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsaccount><span>Account Management</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsamplify-li><input type=checkbox id=m-user-guideawsamplify-check>
<label for=m-user-guideawsamplify-check><a href=/user-guide/aws/amplify/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsamplify><span>Amplify</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsapigateway-li><input type=checkbox id=m-user-guideawsapigateway-check>
<label for=m-user-guideawsapigateway-check><a href=/user-guide/aws/apigateway/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsapigateway><span>API Gateway</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsappconfig-li><input type=checkbox id=m-user-guideawsappconfig-check>
<label for=m-user-guideawsappconfig-check><a href=/user-guide/aws/appconfig/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsappconfig><span>AppConfig</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsapplicationautoscaling-li><input type=checkbox id=m-user-guideawsapplicationautoscaling-check>
<label for=m-user-guideawsapplicationautoscaling-check><a href=/user-guide/aws/applicationautoscaling/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsapplicationautoscaling><span>Application Auto Scaling</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsappsync-li><input type=checkbox id=m-user-guideawsappsync-check>
<label for=m-user-guideawsappsync-check><a href=/user-guide/aws/appsync/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsappsync><span>AppSync</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsathena-li><input type=checkbox id=m-user-guideawsathena-check>
<label for=m-user-guideawsathena-check><a href=/user-guide/aws/athena/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsathena><span>Athena</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsbackup-li><input type=checkbox id=m-user-guideawsbackup-check>
<label for=m-user-guideawsbackup-check><a href=/user-guide/aws/backup/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsbackup><span>Backup</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsbatch-li><input type=checkbox id=m-user-guideawsbatch-check>
<label for=m-user-guideawsbatch-check><a href=/user-guide/aws/batch/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsbatch><span>Batch</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsacm-li><input type=checkbox id=m-user-guideawsacm-check>
<label for=m-user-guideawsacm-check><a href=/user-guide/aws/acm/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsacm><span>Certificate Manager (ACM)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawscloudformation-li><input type=checkbox id=m-user-guideawscloudformation-check>
<label for=m-user-guideawscloudformation-check><a href=/user-guide/aws/cloudformation/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawscloudformation><span>CloudFormation</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawscloudfront-li><input type=checkbox id=m-user-guideawscloudfront-check>
<label for=m-user-guideawscloudfront-check><a href=/user-guide/aws/cloudfront/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawscloudfront><span>CloudFront</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawscloudtrail-li><input type=checkbox id=m-user-guideawscloudtrail-check>
<label for=m-user-guideawscloudtrail-check><a href=/user-guide/aws/cloudtrail/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawscloudtrail><span>CloudTrail</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawscloudwatch-li><input type=checkbox id=m-user-guideawscloudwatch-check>
<label for=m-user-guideawscloudwatch-check><a href=/user-guide/aws/cloudwatch/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawscloudwatch><span>CloudWatch</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawslogs-li><input type=checkbox id=m-user-guideawslogs-check>
<label for=m-user-guideawslogs-check><a href=/user-guide/aws/logs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawslogs><span>CloudWatch Logs</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawscodecommit-li><input type=checkbox id=m-user-guideawscodecommit-check>
<label for=m-user-guideawscodecommit-check><a href=/user-guide/aws/codecommit/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawscodecommit><span>CodeCommit</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawscognito-li><input type=checkbox id=m-user-guideawscognito-check>
<label for=m-user-guideawscognito-check><a href=/user-guide/aws/cognito/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawscognito><span>Cognito</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsconfig-li><input type=checkbox id=m-user-guideawsconfig-check>
<label for=m-user-guideawsconfig-check><a href=/user-guide/aws/config/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsconfig><span>Config</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsce-li><input type=checkbox id=m-user-guideawsce-check>
<label for=m-user-guideawsce-check><a href=/user-guide/aws/ce/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsce><span>Cost Explorer</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsdms-li><input type=checkbox id=m-user-guideawsdms-check>
<label for=m-user-guideawsdms-check><a href=/user-guide/aws/dms/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsdms><span>Database Migration Service (DMS)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsdocdb-li><input type=checkbox id=m-user-guideawsdocdb-check>
<label for=m-user-guideawsdocdb-check><a href=/user-guide/aws/docdb/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsdocdb><span>DocumentDB (DocDB)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsdynamodb-li><input type=checkbox id=m-user-guideawsdynamodb-check>
<label for=m-user-guideawsdynamodb-check><a href=/user-guide/aws/dynamodb/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsdynamodb><span>DynamoDB</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsdynamodbstreams-li><input type=checkbox id=m-user-guideawsdynamodbstreams-check>
<label for=m-user-guideawsdynamodbstreams-check><a href=/user-guide/aws/dynamodbstreams/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsdynamodbstreams><span>DynamoDB Streams</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawselasticbeanstalk-li><input type=checkbox id=m-user-guideawselasticbeanstalk-check>
<label for=m-user-guideawselasticbeanstalk-check><a href=/user-guide/aws/elasticbeanstalk/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawselasticbeanstalk><span>Elastic Beanstalk</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsec2-li><input type=checkbox id=m-user-guideawsec2-check>
<label for=m-user-guideawsec2-check><a href=/user-guide/aws/ec2/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsec2><span>Elastic Compute Cloud (EC2)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsecr-li><input type=checkbox id=m-user-guideawsecr-check>
<label for=m-user-guideawsecr-check><a href=/user-guide/aws/ecr/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsecr><span>Elastic Container Registry (ECR)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsecs-li><input type=checkbox id=m-user-guideawsecs-check>
<label for=m-user-guideawsecs-check><a href=/user-guide/aws/ecs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsecs><span>Elastic Container Service (ECS)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsefs-li><input type=checkbox id=m-user-guideawsefs-check>
<label for=m-user-guideawsefs-check><a href=/user-guide/aws/efs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsefs><span>Elastic File System (EFS)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawseks-li><input type=checkbox id=m-user-guideawseks-check>
<label for=m-user-guideawseks-check><a href=/user-guide/aws/eks/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawseks><span>Elastic Kubernetes Service (EKS)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawselb-li><input type=checkbox id=m-user-guideawselb-check>
<label for=m-user-guideawselb-check><a href=/user-guide/aws/elb/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawselb><span>Elastic Load Balancing (ELB)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsemr-li><input type=checkbox id=m-user-guideawsemr-check>
<label for=m-user-guideawsemr-check><a href=/user-guide/aws/emr/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsemr><span>Elastic MapReduce (EMR)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawselastictranscoder-li><input type=checkbox id=m-user-guideawselastictranscoder-check>
<label for=m-user-guideawselastictranscoder-check><a href=/user-guide/aws/elastictranscoder/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawselastictranscoder><span>Elastic Transcoder</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawselasticache-li><input type=checkbox id=m-user-guideawselasticache-check>
<label for=m-user-guideawselasticache-check><a href=/user-guide/aws/elasticache/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawselasticache><span>ElastiCache</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawses-li><input type=checkbox id=m-user-guideawses-check>
<label for=m-user-guideawses-check><a href=/user-guide/aws/es/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawses><span>Elasticsearch Service</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsmediastore-li><input type=checkbox id=m-user-guideawsmediastore-check>
<label for=m-user-guideawsmediastore-check><a href=/user-guide/aws/mediastore/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsmediastore><span>Elemental MediaStore</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsevents-li><input type=checkbox id=m-user-guideawsevents-check>
<label for=m-user-guideawsevents-check><a href=/user-guide/aws/events/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsevents><span>EventBridge</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawspipes-li><input type=checkbox id=m-user-guideawspipes-check>
<label for=m-user-guideawspipes-check><a href=/user-guide/aws/pipes/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawspipes><span>EventBridge Pipes</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsfis-li><input type=checkbox id=m-user-guideawsfis-check>
<label for=m-user-guideawsfis-check><a href=/user-guide/aws/fis/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsfis><span>Fault Injection Service (FIS)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsglacier-li><input type=checkbox id=m-user-guideawsglacier-check>
<label for=m-user-guideawsglacier-check><a href=/user-guide/aws/glacier/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsglacier><span>Glacier</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsglue-li><input type=checkbox id=m-user-guideawsglue-check>
<label for=m-user-guideawsglue-check><a href=/user-guide/aws/glue/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsglue><span>Glue</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsiam-li><input type=checkbox id=m-user-guideawsiam-check>
<label for=m-user-guideawsiam-check><a href=/user-guide/aws/iam/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsiam><span>Identity and Access Management (IAM)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsidentitystore-li><input type=checkbox id=m-user-guideawsidentitystore-check>
<label for=m-user-guideawsidentitystore-check><a href=/user-guide/aws/identitystore/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsidentitystore><span>Identity Store</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsiot-li><input type=checkbox id=m-user-guideawsiot-check>
<label for=m-user-guideawsiot-check><a href=/user-guide/aws/iot/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsiot><span>IoT</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawskms-li><input type=checkbox id=m-user-guideawskms-check>
<label for=m-user-guideawskms-check><a href=/user-guide/aws/kms/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawskms><span>Key Management Service (KMS)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawskinesis-li><input type=checkbox id=m-user-guideawskinesis-check>
<label for=m-user-guideawskinesis-check><a href=/user-guide/aws/kinesis/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawskinesis><span>Kinesis</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawskinesisanalytics-li><input type=checkbox id=m-user-guideawskinesisanalytics-check>
<label for=m-user-guideawskinesisanalytics-check><a href=/user-guide/aws/kinesisanalytics/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawskinesisanalytics><span>Kinesis Data Analytics</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsfirehose-li><input type=checkbox id=m-user-guideawsfirehose-check>
<label for=m-user-guideawsfirehose-check><a href=/user-guide/aws/firehose/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsfirehose><span>Kinesis Data Firehose</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawslambda-li><input type=checkbox id=m-user-guideawslambda-check>
<label for=m-user-guideawslambda-check><a href=/user-guide/aws/lambda/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawslambda><span>Lambda</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsmanagedblockchain-li><input type=checkbox id=m-user-guideawsmanagedblockchain-check>
<label for=m-user-guideawsmanagedblockchain-check><a href=/user-guide/aws/managedblockchain/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsmanagedblockchain><span>Managed Blockchain (AMB)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsmsk-li><input type=checkbox id=m-user-guideawsmsk-check>
<label for=m-user-guideawsmsk-check><a href=/user-guide/aws/msk/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsmsk><span>Managed Streaming for Kafka (MSK)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsmwaa-li><input type=checkbox id=m-user-guideawsmwaa-check>
<label for=m-user-guideawsmwaa-check><a href=/user-guide/aws/mwaa/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsmwaa><span>Managed Workflows for Apache Airflow (MWAA)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsmemorydb-li><input type=checkbox id=m-user-guideawsmemorydb-check>
<label for=m-user-guideawsmemorydb-check><a href=/user-guide/aws/memorydb/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsmemorydb><span>MemoryDB for Redis</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsmq-li><input type=checkbox id=m-user-guideawsmq-check>
<label for=m-user-guideawsmq-check><a href=/user-guide/aws/mq/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsmq><span>MQ</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsneptune-li><input type=checkbox id=m-user-guideawsneptune-check>
<label for=m-user-guideawsneptune-check><a href=/user-guide/aws/neptune/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsneptune><span>Neptune</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsopensearch-li><input type=checkbox id=m-user-guideawsopensearch-check>
<label for=m-user-guideawsopensearch-check><a href=/user-guide/aws/opensearch/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsopensearch><span>OpenSearch Service</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsorganizations-li><input type=checkbox id=m-user-guideawsorganizations-check>
<label for=m-user-guideawsorganizations-check><a href=/user-guide/aws/organizations/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsorganizations><span>Organizations</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawspinpoint-li><input type=checkbox id=m-user-guideawspinpoint-check>
<label for=m-user-guideawspinpoint-check><a href=/user-guide/aws/pinpoint/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawspinpoint><span>Pinpoint</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawspca-li><input type=checkbox id=m-user-guideawspca-check>
<label for=m-user-guideawspca-check><a href=/user-guide/aws/pca/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawspca><span>Private Certificate Authority (ACM PCA)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsqldb-li><input type=checkbox id=m-user-guideawsqldb-check>
<label for=m-user-guideawsqldb-check><a href=/user-guide/aws/qldb/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsqldb><span>Quantum Ledger Database (QLDB)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsredshift-li><input type=checkbox id=m-user-guideawsredshift-check>
<label for=m-user-guideawsredshift-check><a href=/user-guide/aws/redshift/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsredshift><span>Redshift</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsrds-li><input type=checkbox id=m-user-guideawsrds-check>
<label for=m-user-guideawsrds-check><a href=/user-guide/aws/rds/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsrds><span>Relational Database Service (RDS)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsram-li><input type=checkbox id=m-user-guideawsram-check>
<label for=m-user-guideawsram-check><a href=/user-guide/aws/ram/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsram><span>Resource Access Manager (RAM)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsresource_groups-li><input type=checkbox id=m-user-guideawsresource_groups-check>
<label for=m-user-guideawsresource_groups-check><a href=/user-guide/aws/resource_groups/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsresource_groups><span>Resource Groups</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsroute53-li><input type=checkbox id=m-user-guideawsroute53-check>
<label for=m-user-guideawsroute53-check><a href=/user-guide/aws/route53/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsroute53><span>Route 53</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsroute53resolver-li><input type=checkbox id=m-user-guideawsroute53resolver-check>
<label for=m-user-guideawsroute53resolver-check><a href=/user-guide/aws/route53resolver/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsroute53resolver><span>Route 53 Resolver</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawssagemaker-li><input type=checkbox id=m-user-guideawssagemaker-check>
<label for=m-user-guideawssagemaker-check><a href=/user-guide/aws/sagemaker/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawssagemaker><span>SageMaker</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawssecretsmanager-li><input type=checkbox id=m-user-guideawssecretsmanager-check>
<label for=m-user-guideawssecretsmanager-check><a href=/user-guide/aws/secretsmanager/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawssecretsmanager><span>Secrets Manager</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawssts-li><input type=checkbox id=m-user-guideawssts-check>
<label for=m-user-guideawssts-check><a href=/user-guide/aws/sts/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawssts><span>Security Token Service (STS)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsserverlessrepo-li><input type=checkbox id=m-user-guideawsserverlessrepo-check>
<label for=m-user-guideawsserverlessrepo-check><a href=/user-guide/aws/serverlessrepo/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsserverlessrepo><span>Serverless Application Repository</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsservicediscovery-li><input type=checkbox id=m-user-guideawsservicediscovery-check>
<label for=m-user-guideawsservicediscovery-check><a href=/user-guide/aws/servicediscovery/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsservicediscovery><span>Service Discovery</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsses-li><input type=checkbox id=m-user-guideawsses-check>
<label for=m-user-guideawsses-check><a href=/user-guide/aws/ses/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsses><span>Simple Email Service (SES)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawssns-li><input type=checkbox id=m-user-guideawssns-check>
<label for=m-user-guideawssns-check><a href=/user-guide/aws/sns/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawssns><span>Simple Notification Service (SNS)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawssqs-li><input type=checkbox id=m-user-guideawssqs-check>
<label for=m-user-guideawssqs-check><a href=/user-guide/aws/sqs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawssqs><span>Simple Queue Service (SQS)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawss3-li><input type=checkbox id=m-user-guideawss3-check>
<label for=m-user-guideawss3-check><a href=/user-guide/aws/s3/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawss3><span>Simple Storage Service (S3)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsswf-li><input type=checkbox id=m-user-guideawsswf-check>
<label for=m-user-guideawsswf-check><a href=/user-guide/aws/swf/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsswf><span>Simple Workflow Service (SWF)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsstepfunctions-li><input type=checkbox id=m-user-guideawsstepfunctions-check>
<label for=m-user-guideawsstepfunctions-check><a href=/user-guide/aws/stepfunctions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsstepfunctions><span>Step Functions</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawssupport-li><input type=checkbox id=m-user-guideawssupport-check>
<label for=m-user-guideawssupport-check><a href=/user-guide/aws/support/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawssupport><span>Support</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsssm-li><input type=checkbox id=m-user-guideawsssm-check>
<label for=m-user-guideawsssm-check><a href=/user-guide/aws/ssm/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsssm><span>Systems Manager (SSM)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawstextract-li><input type=checkbox id=m-user-guideawstextract-check>
<label for=m-user-guideawstextract-check><a href=/user-guide/aws/textract/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawstextract><span>Textract</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawstimestream-li><input type=checkbox id=m-user-guideawstimestream-check>
<label for=m-user-guideawstimestream-check><a href=/user-guide/aws/timestream/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawstimestream><span>Timestream</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawstranscribe-li><input type=checkbox id=m-user-guideawstranscribe-check>
<label for=m-user-guideawstranscribe-check><a href=/user-guide/aws/transcribe/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawstranscribe><span>Transcribe</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawstransfer-li><input type=checkbox id=m-user-guideawstransfer-check>
<label for=m-user-guideawstransfer-check><a href=/user-guide/aws/transfer/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawstransfer><span>Transfer</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawswaf-li><input type=checkbox id=m-user-guideawswaf-check>
<label for=m-user-guideawswaf-check><a href=/user-guide/aws/waf/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawswaf><span>Web Application Firewall (WAF)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideawsxray-li><input type=checkbox id=m-user-guideawsxray-check>
<label for=m-user-guideawsxray-check><a href=/user-guide/aws/xray/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideawsxray><span>X-Ray</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-user-guideintegrations-li><input type=checkbox id=m-user-guideintegrations-check>
<label for=m-user-guideintegrations-check><a href=/user-guide/integrations/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-user-guideintegrations><span>Integrations</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-user-guideintegrationssdks-li><input type=checkbox id=m-user-guideintegrationssdks-check>
<label for=m-user-guideintegrationssdks-check><a href=/user-guide/integrations/sdks/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-user-guideintegrationssdks><span>AWS SDKs</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationssdksdotnet-li><input type=checkbox id=m-user-guideintegrationssdksdotnet-check>
<label for=m-user-guideintegrationssdksdotnet-check><a href=/user-guide/integrations/sdks/dotnet/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationssdksdotnet><span>.NET</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationssdkscpp-li><input type=checkbox id=m-user-guideintegrationssdkscpp-check>
<label for=m-user-guideintegrationssdkscpp-check><a href=/user-guide/integrations/sdks/cpp/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationssdkscpp><span>C++</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationssdksgo-li><input type=checkbox id=m-user-guideintegrationssdksgo-check>
<label for=m-user-guideintegrationssdksgo-check><a href=/user-guide/integrations/sdks/go/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationssdksgo><span>Go</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationssdksjava-li><input type=checkbox id=m-user-guideintegrationssdksjava-check>
<label for=m-user-guideintegrationssdksjava-check><a href=/user-guide/integrations/sdks/java/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationssdksjava><span>Java</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationssdksjavascript-li><input type=checkbox id=m-user-guideintegrationssdksjavascript-check>
<label for=m-user-guideintegrationssdksjavascript-check><a href=/user-guide/integrations/sdks/javascript/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationssdksjavascript><span>JavaScript</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationssdksphp-li><input type=checkbox id=m-user-guideintegrationssdksphp-check>
<label for=m-user-guideintegrationssdksphp-check><a href=/user-guide/integrations/sdks/php/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationssdksphp><span>PHP</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationssdkspython-li><input type=checkbox id=m-user-guideintegrationssdkspython-check>
<label for=m-user-guideintegrationssdkspython-check><a href=/user-guide/integrations/sdks/python/ title="Python Boto3" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationssdkspython><span>Python: Boto3</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationssdksruby-li><input type=checkbox id=m-user-guideintegrationssdksruby-check>
<label for=m-user-guideintegrationssdksruby-check><a href=/user-guide/integrations/sdks/ruby/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationssdksruby><span>Ruby</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationsarchitect-li><input type=checkbox id=m-user-guideintegrationsarchitect-check>
<label for=m-user-guideintegrationsarchitect-check><a href=/user-guide/integrations/architect/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationsarchitect><span>Architect</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationsaws-cdk-li><input type=checkbox id=m-user-guideintegrationsaws-cdk-check>
<label for=m-user-guideintegrationsaws-cdk-check><a href=/user-guide/integrations/aws-cdk/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationsaws-cdk><span>AWS CDK</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationschalice-li><input type=checkbox id=m-user-guideintegrationschalice-check>
<label for=m-user-guideintegrationschalice-check><a href=/user-guide/integrations/chalice/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationschalice><span>AWS Chalice</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationsaws-cli-li><input type=checkbox id=m-user-guideintegrationsaws-cli-check>
<label for=m-user-guideintegrationsaws-cli-check><a href=/user-guide/integrations/aws-cli/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationsaws-cli><span>AWS Command Line Interface (CLI)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationscopilot-li><input type=checkbox id=m-user-guideintegrationscopilot-check>
<label for=m-user-guideintegrationscopilot-check><a href=/user-guide/integrations/copilot/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationscopilot><span>AWS Copilot CLI</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationsaws-sam-li><input type=checkbox id=m-user-guideintegrationsaws-sam-check>
<label for=m-user-guideintegrationsaws-sam-check><a href=/user-guide/integrations/aws-sam/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationsaws-sam><span>AWS Serverless Application Model (SAM)</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationscloud-custodian-li><input type=checkbox id=m-user-guideintegrationscloud-custodian-check>
<label for=m-user-guideintegrationscloud-custodian-check><a href=/user-guide/integrations/cloud-custodian/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationscloud-custodian><span>Cloud Custodian</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationscrossplane-li><input type=checkbox id=m-user-guideintegrationscrossplane-check>
<label for=m-user-guideintegrationscrossplane-check><a href=/user-guide/integrations/crossplane/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationscrossplane><span>Crossplane</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationseksctl-li><input type=checkbox id=m-user-guideintegrationseksctl-check>
<label for=m-user-guideintegrationseksctl-check><a href=/user-guide/integrations/eksctl/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationseksctl><span>eksctl</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationsformer2-li><input type=checkbox id=m-user-guideintegrationsformer2-check>
<label for=m-user-guideintegrationsformer2-check><a href=/user-guide/integrations/former2/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationsformer2><span>Former2</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationsgitpod-li><input type=checkbox id=m-user-guideintegrationsgitpod-check>
<label for=m-user-guideintegrationsgitpod-check><a href=/user-guide/integrations/gitpod/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationsgitpod><span>GitPod</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationskubernetes-li><input type=checkbox id=m-user-guideintegrationskubernetes-check>
<label for=m-user-guideintegrationskubernetes-check><a href=/user-guide/integrations/kubernetes/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationskubernetes><span>Kubernetes</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationslambdatest-hyperexecute-li><input type=checkbox id=m-user-guideintegrationslambdatest-hyperexecute-check>
<label for=m-user-guideintegrationslambdatest-hyperexecute-check><a href=/user-guide/integrations/lambdatest-hyperexecute/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationslambdatest-hyperexecute><span>LambdaTest HyperExecute</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationsopenshift-li><input type=checkbox id=m-user-guideintegrationsopenshift-check>
<label for=m-user-guideintegrationsopenshift-check><a href=/user-guide/integrations/openshift/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationsopenshift><span>OpenShift</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationspulumi-li><input type=checkbox id=m-user-guideintegrationspulumi-check>
<label for=m-user-guideintegrationspulumi-check><a href=/user-guide/integrations/pulumi/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationspulumi><span>Pulumi</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationsquarkus-li><input type=checkbox id=m-user-guideintegrationsquarkus-check>
<label for=m-user-guideintegrationsquarkus-check><a href=/user-guide/integrations/quarkus/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationsquarkus><span>Quarkus</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationskafka-li><input type=checkbox id=m-user-guideintegrationskafka-check>
<label for=m-user-guideintegrationskafka-check><a href=/user-guide/integrations/kafka/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationskafka><span>Self-managed Kafka cluster</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationsserverless-framework-li><input type=checkbox id=m-user-guideintegrationsserverless-framework-check>
<label for=m-user-guideintegrationsserverless-framework-check><a href=/user-guide/integrations/serverless-framework/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationsserverless-framework><span>Serverless Framework</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationsspring-cloud-function-li><input type=checkbox id=m-user-guideintegrationsspring-cloud-function-check>
<label for=m-user-guideintegrationsspring-cloud-function-check><a href=/user-guide/integrations/spring-cloud-function/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationsspring-cloud-function><span>Spring Cloud Function</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationsterraform-li><input type=checkbox id=m-user-guideintegrationsterraform-check>
<label for=m-user-guideintegrationsterraform-check><a href=/user-guide/integrations/terraform/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationsterraform><span>Terraform</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideintegrationstestcontainers-li><input type=checkbox id=m-user-guideintegrationstestcontainers-check>
<label for=m-user-guideintegrationstestcontainers-check><a href=/user-guide/integrations/testcontainers/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideintegrationstestcontainers><span>Testcontainers</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-user-guideci-li><input type=checkbox id=m-user-guideci-check>
<label for=m-user-guideci-check><a href=/user-guide/ci/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-user-guideci><span>Continuous Integration</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidecicircle-ci-li><input type=checkbox id=m-user-guidecicircle-ci-check>
<label for=m-user-guidecicircle-ci-check><a href=/user-guide/ci/circle-ci/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidecicircle-ci><span>CircleCI</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidecibitbucket-li><input type=checkbox id=m-user-guidecibitbucket-check>
<label for=m-user-guidecibitbucket-check><a href=/user-guide/ci/bitbucket/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidecibitbucket><span>BitBucket</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidecigithub-actions-li><input type=checkbox id=m-user-guidecigithub-actions-check>
<label for=m-user-guidecigithub-actions-check><a href=/user-guide/ci/github-actions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidecigithub-actions><span>GitHub Actions</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidecigitlab-ci-li><input type=checkbox id=m-user-guidecigitlab-ci-check>
<label for=m-user-guidecigitlab-ci-check><a href=/user-guide/ci/gitlab-ci/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidecigitlab-ci><span>GitLab CI</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidecicodebuild-li><input type=checkbox id=m-user-guidecicodebuild-check>
<label for=m-user-guidecicodebuild-check><a href=/user-guide/ci/codebuild/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidecicodebuild><span>CodeBuild</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidecitravis-ci-li><input type=checkbox id=m-user-guidecitravis-ci-check>
<label for=m-user-guidecitravis-ci-check><a href=/user-guide/ci/travis-ci/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidecitravis-ci><span>Travis CI</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-user-guideextensions-li><input type=checkbox id=m-user-guideextensions-check>
<label for=m-user-guideextensions-check><a href=/user-guide/extensions/ title="LocalStack Extensions" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-user-guideextensions><span>Extensions</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideextensionsgetting-started-li><input type=checkbox id=m-user-guideextensionsgetting-started-check>
<label for=m-user-guideextensionsgetting-started-check><a href=/user-guide/extensions/getting-started/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideextensionsgetting-started><span>Getting started</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideextensionsmanaging-extensions-li><input type=checkbox id=m-user-guideextensionsmanaging-extensions-check>
<label for=m-user-guideextensionsmanaging-extensions-check><a href=/user-guide/extensions/managing-extensions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideextensionsmanaging-extensions><span>Managing extensions</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideextensionsdeveloping-extensions-li><input type=checkbox id=m-user-guideextensionsdeveloping-extensions-check>
<label for=m-user-guideextensionsdeveloping-extensions-check><a href=/user-guide/extensions/developing-extensions/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideextensionsdeveloping-extensions><span>Developing extensions</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideextensionsextensions-library-li><input type=checkbox id=m-user-guideextensionsextensions-library-check>
<label for=m-user-guideextensionsextensions-library-check><a href=/user-guide/extensions/extensions-library/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideextensionsextensions-library><span>Extensions Library</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideextensionsofficial-extensions-li><input type=checkbox id=m-user-guideextensionsofficial-extensions-check>
<label for=m-user-guideextensionsofficial-extensions-check><a href=/user-guide/extensions/official-extensions/ title="Official Extensions" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideextensionsofficial-extensions><span>Official Extensions ‚ÜóÔ∏è</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-user-guidestate-management-li><input type=checkbox id=m-user-guidestate-management-check>
<label for=m-user-guidestate-management-check><a href=/user-guide/state-management/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-user-guidestate-management><span>State Management</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidestate-managementcloud-pods-li><input type=checkbox id=m-user-guidestate-managementcloud-pods-check>
<label for=m-user-guidestate-managementcloud-pods-check><a href=/user-guide/state-management/cloud-pods/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidestate-managementcloud-pods><span>Cloud Pods</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidestate-managementpersistence-li><input type=checkbox id=m-user-guidestate-managementpersistence-check>
<label for=m-user-guidestate-managementpersistence-check><a href=/user-guide/state-management/persistence/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidestate-managementpersistence><span>Persistence</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidestate-managementexport-import-state-li><input type=checkbox id=m-user-guidestate-managementexport-import-state-check>
<label for=m-user-guidestate-managementexport-import-state-check><a href=/user-guide/state-management/export-import-state/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidestate-managementexport-import-state><span>Export & Import State</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidestate-managementlaunchpad-li><input type=checkbox id=m-user-guidestate-managementlaunchpad-check>
<label for=m-user-guidestate-managementlaunchpad-check><a href=/user-guide/state-management/launchpad/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidestate-managementlaunchpad><span>Launchpad</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidestate-managementpods-cli-li><input type=checkbox id=m-user-guidestate-managementpods-cli-check>
<label for=m-user-guidestate-managementpods-cli-check><a href=/user-guide/state-management/pods-cli/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidestate-managementpods-cli><span>CLI command reference</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidestate-managementsupport-li><input type=checkbox id=m-user-guidestate-managementsupport-check>
<label for=m-user-guidestate-managementsupport-check><a href=/user-guide/state-management/support/ title="Persistence Coverage for AWS Services" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidestate-managementsupport><span>Persistence Coverage</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-user-guidechaos-engineering-li><input type=checkbox id=m-user-guidechaos-engineering-check>
<label for=m-user-guidechaos-engineering-check><a href=/user-guide/chaos-engineering/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-user-guidechaos-engineering><span>Chaos Engineering</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidechaos-engineeringfault-injection-service-li><input type=checkbox id=m-user-guidechaos-engineeringfault-injection-service-check>
<label for=m-user-guidechaos-engineeringfault-injection-service-check><a href=/user-guide/chaos-engineering/fault-injection-service/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidechaos-engineeringfault-injection-service><span>Using the Fault Injection Service</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidechaos-engineeringweb-application-dashboard-li><input type=checkbox id=m-user-guidechaos-engineeringweb-application-dashboard-check>
<label for=m-user-guidechaos-engineeringweb-application-dashboard-check><a href=/user-guide/chaos-engineering/web-application-dashboard/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidechaos-engineeringweb-application-dashboard><span>Chaos Engineering Dashboard</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidechaos-engineeringoutages-extension-li><input type=checkbox id=m-user-guidechaos-engineeringoutages-extension-check>
<label for=m-user-guidechaos-engineeringoutages-extension-check><a href=/user-guide/chaos-engineering/outages-extension/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidechaos-engineeringoutages-extension><span>Outages Extension</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidechaos-engineeringspecial-configs-li><input type=checkbox id=m-user-guidechaos-engineeringspecial-configs-check>
<label for=m-user-guidechaos-engineeringspecial-configs-check><a href=/user-guide/chaos-engineering/special-configs/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidechaos-engineeringspecial-configs><span>Special Configurations</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-user-guidesecurity-testing-li><input type=checkbox id=m-user-guidesecurity-testing-check>
<label for=m-user-guidesecurity-testing-check><a href=/user-guide/security-testing/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-user-guidesecurity-testing><span>Security Testing</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidesecurity-testingiam-enforcement-li><input type=checkbox id=m-user-guidesecurity-testingiam-enforcement-check>
<label for=m-user-guidesecurity-testingiam-enforcement-check><a href=/user-guide/security-testing/iam-enforcement/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidesecurity-testingiam-enforcement><span>IAM Policy Enforcement</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidesecurity-testingexplainable-iam-li><input type=checkbox id=m-user-guidesecurity-testingexplainable-iam-check>
<label for=m-user-guidesecurity-testingexplainable-iam-check><a href=/user-guide/security-testing/explainable-iam/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidesecurity-testingexplainable-iam><span>Explainable IAM</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidesecurity-testingiam-policy-stream-li><input type=checkbox id=m-user-guidesecurity-testingiam-policy-stream-check>
<label for=m-user-guidesecurity-testingiam-policy-stream-check><a href=/user-guide/security-testing/iam-policy-stream/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidesecurity-testingiam-policy-stream><span>IAM Policy Stream</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-user-guidecloud-sandbox-li><input type=checkbox id=m-user-guidecloud-sandbox-check>
<label for=m-user-guidecloud-sandbox-check><a href=/user-guide/cloud-sandbox/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-user-guidecloud-sandbox><span>Cloud Sandbox</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidecloud-sandboxephemeral-instance-li><input type=checkbox id=m-user-guidecloud-sandboxephemeral-instance-check>
<label for=m-user-guidecloud-sandboxephemeral-instance-check><a href=/user-guide/cloud-sandbox/ephemeral-instance/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidecloud-sandboxephemeral-instance><span>Ephemeral Instances</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidecloud-sandboxapplication-previews-li><input type=checkbox id=m-user-guidecloud-sandboxapplication-previews-check>
<label for=m-user-guidecloud-sandboxapplication-previews-check><a href=/user-guide/cloud-sandbox/application-previews/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidecloud-sandboxapplication-previews><span>Application Preview</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-user-guidetools-li><input type=checkbox id=m-user-guidetools-check>
<label for=m-user-guidetools-check><a href=/user-guide/tools/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-user-guidetools><span>LocalStack Tools</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidetoolstesting-utils-li><input type=checkbox id=m-user-guidetoolstesting-utils-check>
<label for=m-user-guidetoolstesting-utils-check><a href=/user-guide/tools/testing-utils/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidetoolstesting-utils><span>Testing Utils</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidetoolslocalsurf-li><input type=checkbox id=m-user-guidetoolslocalsurf-check>
<label for=m-user-guidetoolslocalsurf-check><a href=/user-guide/tools/localsurf/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidetoolslocalsurf><span>LocalSurf</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidetoolslocalstack-desktop-li><input type=checkbox id=m-user-guidetoolslocalstack-desktop-check>
<label for=m-user-guidetoolslocalstack-desktop-check><a href=/user-guide/tools/localstack-desktop/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidetoolslocalstack-desktop><span>LocalStack Desktop</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidetoolslocalstack-docker-extension-li><input type=checkbox id=m-user-guidetoolslocalstack-docker-extension-check>
<label for=m-user-guidetoolslocalstack-docker-extension-check><a href=/user-guide/tools/localstack-docker-extension/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidetoolslocalstack-docker-extension><span>LocalStack Docker Extension</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidetoolstransparent-endpoint-injection-li><input type=checkbox id=m-user-guidetoolstransparent-endpoint-injection-check>
<label for=m-user-guidetoolstransparent-endpoint-injection-check><a href=/user-guide/tools/transparent-endpoint-injection/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidetoolstransparent-endpoint-injection><span>Transparent Endpoint Injection</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidetoolsdns-server-li><input type=checkbox id=m-user-guidetoolsdns-server-check>
<label for=m-user-guidetoolsdns-server-check><a href=/user-guide/tools/dns-server/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidetoolsdns-server><span>DNS Server</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-user-guidelambda-tools-li><input type=checkbox id=m-user-guidelambda-tools-check>
<label for=m-user-guidelambda-tools-check><a href=/user-guide/lambda-tools/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-user-guidelambda-tools><span>Lambda Tools</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidelambda-toolshot-reloading-li><input type=checkbox id=m-user-guidelambda-toolshot-reloading-check>
<label for=m-user-guidelambda-toolshot-reloading-check><a href=/user-guide/lambda-tools/hot-reloading/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidelambda-toolshot-reloading><span>Hot Reloading</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidelambda-toolsdebugging-li><input type=checkbox id=m-user-guidelambda-toolsdebugging-check>
<label for=m-user-guidelambda-toolsdebugging-check><a href=/user-guide/lambda-tools/debugging/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidelambda-toolsdebugging><span>Remote Debugging</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guidelambda-toolsvscode-extension-li><input type=checkbox id=m-user-guidelambda-toolsvscode-extension-check>
<label for=m-user-guidelambda-toolsvscode-extension-check><a href=/user-guide/lambda-tools/vscode-extension/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guidelambda-toolsvscode-extension><span>VSCode Extension</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-user-guideweb-application-li><input type=checkbox id=m-user-guideweb-application-check>
<label for=m-user-guideweb-application-check><a href=/user-guide/web-application/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-user-guideweb-application><span>LocalStack Web Application</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideweb-applicationaccounts-li><input type=checkbox id=m-user-guideweb-applicationaccounts-check>
<label for=m-user-guideweb-applicationaccounts-check><a href=/user-guide/web-application/accounts/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideweb-applicationaccounts><span>Accounts</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideweb-applicationworkspaces-li><input type=checkbox id=m-user-guideweb-applicationworkspaces-check>
<label for=m-user-guideweb-applicationworkspaces-check><a href=/user-guide/web-application/workspaces/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideweb-applicationworkspaces><span>Workspaces</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideweb-applicationusers-licences-li><input type=checkbox id=m-user-guideweb-applicationusers-licences-check>
<label for=m-user-guideweb-applicationusers-licences-check><a href=/user-guide/web-application/users-licences/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideweb-applicationusers-licences><span>Managing Users and Licenses</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideweb-applicationresource-browser-li><input type=checkbox id=m-user-guideweb-applicationresource-browser-check>
<label for=m-user-guideweb-applicationresource-browser-check><a href=/user-guide/web-application/resource-browser/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideweb-applicationresource-browser><span>Resource Browser</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideweb-applicationinstance-management-li><input type=checkbox id=m-user-guideweb-applicationinstance-management-check>
<label for=m-user-guideweb-applicationinstance-management-check><a href=/user-guide/web-application/instance-management/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideweb-applicationinstance-management><span>Instance Management</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideweb-applicationstack-insights-li><input type=checkbox id=m-user-guideweb-applicationstack-insights-check>
<label for=m-user-guideweb-applicationstack-insights-check><a href=/user-guide/web-application/stack-insights/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideweb-applicationstack-insights><span>Stack Insights</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideweb-applicationci-analytics-li><input type=checkbox id=m-user-guideweb-applicationci-analytics-check>
<label for=m-user-guideweb-applicationci-analytics-check><a href=/user-guide/web-application/ci-analytics/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideweb-applicationci-analytics><span>CI Analytics</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideweb-applicationci-keys-li><input type=checkbox id=m-user-guideweb-applicationci-keys-check>
<label for=m-user-guideweb-applicationci-keys-check><a href=/user-guide/web-application/ci-keys/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideweb-applicationci-keys><span>CI Keys</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-user-guideweb-applicationsingle-sign-on-li><input type=checkbox id=m-user-guideweb-applicationsingle-sign-on-check>
<label for=m-user-guideweb-applicationsingle-sign-on-check><a href=/user-guide/web-application/single-sign-on/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-user-guideweb-applicationsingle-sign-on><span>Single-Sign On</span></a></label><ul class="ul-4 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-user-guideweb-applicationsingle-sign-onazure-ad-li><input type=checkbox id=m-user-guideweb-applicationsingle-sign-onazure-ad-check>
<label for=m-user-guideweb-applicationsingle-sign-onazure-ad-check><a href=/user-guide/web-application/single-sign-on/azure-ad/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-user-guideweb-applicationsingle-sign-onazure-ad><span>SSO for Azure AD</span></a></label></li></ul></li></ul></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-references-li><input type=checkbox id=m-references-check>
<label for=m-references-check><a href=/references/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-references><span>References</span></a></label><ul class="ul-2 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-referencesnetwork-troubleshooting-li><input type=checkbox id=m-referencesnetwork-troubleshooting-check>
<label for=m-referencesnetwork-troubleshooting-check><a href=/references/network-troubleshooting/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-referencesnetwork-troubleshooting><span>Network troubleshooting</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencesnetwork-troubleshootingendpoint-url-li><input type=checkbox id=m-referencesnetwork-troubleshootingendpoint-url-check>
<label for=m-referencesnetwork-troubleshootingendpoint-url-check><a href=/references/network-troubleshooting/endpoint-url/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-referencesnetwork-troubleshootingendpoint-url><span>Accessing LocalStack via the endpoint URL</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencesnetwork-troubleshootingtransparent-endpoint-injection-li><input type=checkbox id=m-referencesnetwork-troubleshootingtransparent-endpoint-injection-check>
<label for=m-referencesnetwork-troubleshootingtransparent-endpoint-injection-check><a href=/references/network-troubleshooting/transparent-endpoint-injection/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-referencesnetwork-troubleshootingtransparent-endpoint-injection><span>Transparent endpoint injection</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencesnetwork-troubleshootingcreated-resources-li><input type=checkbox id=m-referencesnetwork-troubleshootingcreated-resources-check>
<label for=m-referencesnetwork-troubleshootingcreated-resources-check><a href=/references/network-troubleshooting/created-resources/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-referencesnetwork-troubleshootingcreated-resources><span>Accessing a resource created by LocalStack</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencesnetwork-troubleshootingreadme-li><input type=checkbox id=m-referencesnetwork-troubleshootingreadme-check>
<label for=m-referencesnetwork-troubleshootingreadme-check><a href=/references/network-troubleshooting/readme/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencesnetwork-troubleshootingreadme><span></span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child" id=m-referencescoverage-li><input type=checkbox id=m-referencescoverage-check>
<label for=m-referencescoverage-check><a href=/references/coverage/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-referencescoverage><span>LocalStack Coverage</span></a></label><ul class="ul-3 foldable"><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_account-li><input type=checkbox id=m-referencescoveragecoverage_account-check>
<label for=m-referencescoveragecoverage_account-check><a href=/references/coverage/coverage_account/ title="AWS Account Management" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_account><span>account</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_acm-li><input type=checkbox id=m-referencescoveragecoverage_acm-check>
<label for=m-referencescoveragecoverage_acm-check><a href=/references/coverage/coverage_acm/ title="ACM (AWS Certificate Manager)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_acm><span>acm</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_acm-pca-li><input type=checkbox id=m-referencescoveragecoverage_acm-pca-check>
<label for=m-referencescoveragecoverage_acm-pca-check><a href=/references/coverage/coverage_acm-pca/ title="AWS Private Certificate Authority (CA)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_acm-pca><span>acm-pca</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_amplify-li><input type=checkbox id=m-referencescoveragecoverage_amplify-check>
<label for=m-referencescoveragecoverage_amplify-check><a href=/references/coverage/coverage_amplify/ title=Amplify class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_amplify><span>amplify</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_apigateway-li><input type=checkbox id=m-referencescoveragecoverage_apigateway-check>
<label for=m-referencescoveragecoverage_apigateway-check><a href=/references/coverage/coverage_apigateway/ title="API Gateway" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_apigateway><span>apigateway</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_apigatewaymanagementapi-li><input type=checkbox id=m-referencescoveragecoverage_apigatewaymanagementapi-check>
<label for=m-referencescoveragecoverage_apigatewaymanagementapi-check><a href=/references/coverage/coverage_apigatewaymanagementapi/ title="API Gateway Management API" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_apigatewaymanagementapi><span>apigatewaymanagementapi</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_apigatewayv2-li><input type=checkbox id=m-referencescoveragecoverage_apigatewayv2-check>
<label for=m-referencescoveragecoverage_apigatewayv2-check><a href=/references/coverage/coverage_apigatewayv2/ title="API Gateway v2" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_apigatewayv2><span>apigatewayv2</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_appconfig-li><input type=checkbox id=m-referencescoveragecoverage_appconfig-check>
<label for=m-referencescoveragecoverage_appconfig-check><a href=/references/coverage/coverage_appconfig/ title=AppConfig class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_appconfig><span>appconfig</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_appconfigdata-li><input type=checkbox id=m-referencescoveragecoverage_appconfigdata-check>
<label for=m-referencescoveragecoverage_appconfigdata-check><a href=/references/coverage/coverage_appconfigdata/ title="AppConfig Data" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_appconfigdata><span>appconfigdata</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_application-autoscaling-li><input type=checkbox id=m-referencescoveragecoverage_application-autoscaling-check>
<label for=m-referencescoveragecoverage_application-autoscaling-check><a href=/references/coverage/coverage_application-autoscaling/ title="Application Auto Scaling" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_application-autoscaling><span>application-autoscaling</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_appsync-li><input type=checkbox id=m-referencescoveragecoverage_appsync-check>
<label for=m-referencescoveragecoverage_appsync-check><a href=/references/coverage/coverage_appsync/ title=AppSync class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_appsync><span>appsync</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_athena-li><input type=checkbox id=m-referencescoveragecoverage_athena-check>
<label for=m-referencescoveragecoverage_athena-check><a href=/references/coverage/coverage_athena/ title=Athena class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_athena><span>athena</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_autoscaling-li><input type=checkbox id=m-referencescoveragecoverage_autoscaling-check>
<label for=m-referencescoveragecoverage_autoscaling-check><a href=/references/coverage/coverage_autoscaling/ title="Auto Scaling" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_autoscaling><span>autoscaling</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_backup-li><input type=checkbox id=m-referencescoveragecoverage_backup-check>
<label for=m-referencescoveragecoverage_backup-check><a href=/references/coverage/coverage_backup/ title=Backup class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_backup><span>backup</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_batch-li><input type=checkbox id=m-referencescoveragecoverage_batch-check>
<label for=m-referencescoveragecoverage_batch-check><a href=/references/coverage/coverage_batch/ title=Batch class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_batch><span>batch</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_ce-li><input type=checkbox id=m-referencescoveragecoverage_ce-check>
<label for=m-referencescoveragecoverage_ce-check><a href=/references/coverage/coverage_ce/ title="CE (Cost Explorer API)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_ce><span>ce</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_cloudformation-li><input type=checkbox id=m-referencescoveragecoverage_cloudformation-check>
<label for=m-referencescoveragecoverage_cloudformation-check><a href=/references/coverage/coverage_cloudformation/ title=CloudFormation class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_cloudformation><span>cloudformation</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_cloudfront-li><input type=checkbox id=m-referencescoveragecoverage_cloudfront-check>
<label for=m-referencescoveragecoverage_cloudfront-check><a href=/references/coverage/coverage_cloudfront/ title=CloudFront class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_cloudfront><span>cloudfront</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_cloudtrail-li><input type=checkbox id=m-referencescoveragecoverage_cloudtrail-check>
<label for=m-referencescoveragecoverage_cloudtrail-check><a href=/references/coverage/coverage_cloudtrail/ title=CloudTrail class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_cloudtrail><span>cloudtrail</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_cloudwatch-li><input type=checkbox id=m-referencescoveragecoverage_cloudwatch-check>
<label for=m-referencescoveragecoverage_cloudwatch-check><a href=/references/coverage/coverage_cloudwatch/ title=CloudWatch class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_cloudwatch><span>cloudwatch</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_codecommit-li><input type=checkbox id=m-referencescoveragecoverage_codecommit-check>
<label for=m-referencescoveragecoverage_codecommit-check><a href=/references/coverage/coverage_codecommit/ title=CodeCommit class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_codecommit><span>codecommit</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_cognito-identity-li><input type=checkbox id=m-referencescoveragecoverage_cognito-identity-check>
<label for=m-referencescoveragecoverage_cognito-identity-check><a href=/references/coverage/coverage_cognito-identity/ title="Cognito Identity" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_cognito-identity><span>cognito-identity</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_cognito-idp-li><input type=checkbox id=m-referencescoveragecoverage_cognito-idp-check>
<label for=m-referencescoveragecoverage_cognito-idp-check><a href=/references/coverage/coverage_cognito-idp/ title="Cognito IDP (Cognito User Pools API)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_cognito-idp><span>cognito-idp</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_config-li><input type=checkbox id=m-referencescoveragecoverage_config-check>
<label for=m-referencescoveragecoverage_config-check><a href=/references/coverage/coverage_config/ title=Config class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_config><span>config</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_dms-li><input type=checkbox id=m-referencescoveragecoverage_dms-check>
<label for=m-referencescoveragecoverage_dms-check><a href=/references/coverage/coverage_dms/ title="DMS (Database Migration Service)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_dms><span>dms</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_docdb-li><input type=checkbox id=m-referencescoveragecoverage_docdb-check>
<label for=m-referencescoveragecoverage_docdb-check><a href=/references/coverage/coverage_docdb/ title=DocumentDB class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_docdb><span>docdb</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_dynamodb-li><input type=checkbox id=m-referencescoveragecoverage_dynamodb-check>
<label for=m-referencescoveragecoverage_dynamodb-check><a href=/references/coverage/coverage_dynamodb/ title=DynamoDB class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_dynamodb><span>dynamodb</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_dynamodbstreams-li><input type=checkbox id=m-referencescoveragecoverage_dynamodbstreams-check>
<label for=m-referencescoveragecoverage_dynamodbstreams-check><a href=/references/coverage/coverage_dynamodbstreams/ title="DynamoDB Streams" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_dynamodbstreams><span>dynamodbstreams</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_ec2-li><input type=checkbox id=m-referencescoveragecoverage_ec2-check>
<label for=m-referencescoveragecoverage_ec2-check><a href=/references/coverage/coverage_ec2/ title="EC2 (Elastic Compute Cloud)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_ec2><span>ec2</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_ecr-li><input type=checkbox id=m-referencescoveragecoverage_ecr-check>
<label for=m-referencescoveragecoverage_ecr-check><a href=/references/coverage/coverage_ecr/ title="ECR (Elastic Container Registry)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_ecr><span>ecr</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_ecs-li><input type=checkbox id=m-referencescoveragecoverage_ecs-check>
<label for=m-referencescoveragecoverage_ecs-check><a href=/references/coverage/coverage_ecs/ title="ECS (Elastic Container Service)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_ecs><span>ecs</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_efs-li><input type=checkbox id=m-referencescoveragecoverage_efs-check>
<label for=m-referencescoveragecoverage_efs-check><a href=/references/coverage/coverage_efs/ title="EFS (Elastic File System)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_efs><span>efs</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_eks-li><input type=checkbox id=m-referencescoveragecoverage_eks-check>
<label for=m-referencescoveragecoverage_eks-check><a href=/references/coverage/coverage_eks/ title="EKS (Elastic Kubernetes Service)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_eks><span>eks</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_elasticache-li><input type=checkbox id=m-referencescoveragecoverage_elasticache-check>
<label for=m-referencescoveragecoverage_elasticache-check><a href=/references/coverage/coverage_elasticache/ title=ElastiCache class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_elasticache><span>elasticache</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_elasticbeanstalk-li><input type=checkbox id=m-referencescoveragecoverage_elasticbeanstalk-check>
<label for=m-referencescoveragecoverage_elasticbeanstalk-check><a href=/references/coverage/coverage_elasticbeanstalk/ title="Elastic Beanstalk" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_elasticbeanstalk><span>elasticbeanstalk</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_elastictranscoder-li><input type=checkbox id=m-referencescoveragecoverage_elastictranscoder-check>
<label for=m-referencescoveragecoverage_elastictranscoder-check><a href=/references/coverage/coverage_elastictranscoder/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_elastictranscoder><span>elastictranscoder</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_elb-li><input type=checkbox id=m-referencescoveragecoverage_elb-check>
<label for=m-referencescoveragecoverage_elb-check><a href=/references/coverage/coverage_elb/ title="ELB (Elastic Load Balancer)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_elb><span>elb</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_elbv2-li><input type=checkbox id=m-referencescoveragecoverage_elbv2-check>
<label for=m-referencescoveragecoverage_elbv2-check><a href=/references/coverage/coverage_elbv2/ title="ELB v2 (Elastic Load Balancer v2)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_elbv2><span>elbv2</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_emr-li><input type=checkbox id=m-referencescoveragecoverage_emr-check>
<label for=m-referencescoveragecoverage_emr-check><a href=/references/coverage/coverage_emr/ title="EMR (Elastic MapReduce)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_emr><span>emr</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_emr-serverless-li><input type=checkbox id=m-referencescoveragecoverage_emr-serverless-check>
<label for=m-referencescoveragecoverage_emr-serverless-check><a href=/references/coverage/coverage_emr-serverless/ title="EMR (EMR Serverless)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_emr-serverless><span>emr-serverless</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_es-li><input type=checkbox id=m-referencescoveragecoverage_es-check>
<label for=m-referencescoveragecoverage_es-check><a href=/references/coverage/coverage_es/ title="ES (OpenSearch, legacy Elasticsearch)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_es><span>es</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_events-li><input type=checkbox id=m-referencescoveragecoverage_events-check>
<label for=m-referencescoveragecoverage_events-check><a href=/references/coverage/coverage_events/ title=EventBridge class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_events><span>events</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_firehose-li><input type=checkbox id=m-referencescoveragecoverage_firehose-check>
<label for=m-referencescoveragecoverage_firehose-check><a href=/references/coverage/coverage_firehose/ title="Kinesis Data Firehose" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_firehose><span>firehose</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_fis-li><input type=checkbox id=m-referencescoveragecoverage_fis-check>
<label for=m-referencescoveragecoverage_fis-check><a href=/references/coverage/coverage_fis/ title="FIS (Fault Injection Simulator)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_fis><span>fis</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_glacier-li><input type=checkbox id=m-referencescoveragecoverage_glacier-check>
<label for=m-referencescoveragecoverage_glacier-check><a href=/references/coverage/coverage_glacier/ title="Glacier (S3 Glacier)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_glacier><span>glacier</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_glue-li><input type=checkbox id=m-referencescoveragecoverage_glue-check>
<label for=m-referencescoveragecoverage_glue-check><a href=/references/coverage/coverage_glue/ title=Glue class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_glue><span>glue</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_iam-li><input type=checkbox id=m-referencescoveragecoverage_iam-check>
<label for=m-referencescoveragecoverage_iam-check><a href=/references/coverage/coverage_iam/ title="IAM (Identity and Access Management)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_iam><span>iam</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_identitystore-li><input type=checkbox id=m-referencescoveragecoverage_identitystore-check>
<label for=m-referencescoveragecoverage_identitystore-check><a href=/references/coverage/coverage_identitystore/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_identitystore><span>identitystore</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_iot-li><input type=checkbox id=m-referencescoveragecoverage_iot-check>
<label for=m-referencescoveragecoverage_iot-check><a href=/references/coverage/coverage_iot/ title="IoT (Internet of Things)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_iot><span>iot</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_iot-data-li><input type=checkbox id=m-referencescoveragecoverage_iot-data-check>
<label for=m-referencescoveragecoverage_iot-data-check><a href=/references/coverage/coverage_iot-data/ title="IoT Data" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_iot-data><span>iot-data</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_iotanalytics-li><input type=checkbox id=m-referencescoveragecoverage_iotanalytics-check>
<label for=m-referencescoveragecoverage_iotanalytics-check><a href=/references/coverage/coverage_iotanalytics/ title="IoT Analytics" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_iotanalytics><span>iotanalytics</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_iotwireless-li><input type=checkbox id=m-referencescoveragecoverage_iotwireless-check>
<label for=m-referencescoveragecoverage_iotwireless-check><a href=/references/coverage/coverage_iotwireless/ title="IoT Wireless" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_iotwireless><span>iotwireless</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_kafka-li><input type=checkbox id=m-referencescoveragecoverage_kafka-check>
<label for=m-referencescoveragecoverage_kafka-check><a href=/references/coverage/coverage_kafka/ title="MSK (Managed Streaming for Apache Kafka)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_kafka><span>kafka</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_kinesis-li><input type=checkbox id=m-referencescoveragecoverage_kinesis-check>
<label for=m-referencescoveragecoverage_kinesis-check><a href=/references/coverage/coverage_kinesis/ title=Kinesis class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_kinesis><span>kinesis</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_kinesisanalytics-li><input type=checkbox id=m-referencescoveragecoverage_kinesisanalytics-check>
<label for=m-referencescoveragecoverage_kinesisanalytics-check><a href=/references/coverage/coverage_kinesisanalytics/ title="Kinesis Data Analytics API" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_kinesisanalytics><span>kinesisanalytics</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_kinesisanalyticsv2-li><input type=checkbox id=m-referencescoveragecoverage_kinesisanalyticsv2-check>
<label for=m-referencescoveragecoverage_kinesisanalyticsv2-check><a href=/references/coverage/coverage_kinesisanalyticsv2/ title="Kinesis Data Analytics API v2" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_kinesisanalyticsv2><span>kinesisanalyticsv2</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_kms-li><input type=checkbox id=m-referencescoveragecoverage_kms-check>
<label for=m-referencescoveragecoverage_kms-check><a href=/references/coverage/coverage_kms/ title="KMS (Key Management Service)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_kms><span>kms</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_lakeformation-li><input type=checkbox id=m-referencescoveragecoverage_lakeformation-check>
<label for=m-referencescoveragecoverage_lakeformation-check><a href=/references/coverage/coverage_lakeformation/ title="Lake Formation" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_lakeformation><span>lakeformation</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_lambda-li><input type=checkbox id=m-referencescoveragecoverage_lambda-check>
<label for=m-referencescoveragecoverage_lambda-check><a href=/references/coverage/coverage_lambda/ title=Lambda class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_lambda><span>lambda</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_logs-li><input type=checkbox id=m-referencescoveragecoverage_logs-check>
<label for=m-referencescoveragecoverage_logs-check><a href=/references/coverage/coverage_logs/ title="CloudWatch Logs" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_logs><span>logs</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_managedblockchain-li><input type=checkbox id=m-referencescoveragecoverage_managedblockchain-check>
<label for=m-referencescoveragecoverage_managedblockchain-check><a href=/references/coverage/coverage_managedblockchain/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_managedblockchain><span>managedblockchain</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_mediastore-li><input type=checkbox id=m-referencescoveragecoverage_mediastore-check>
<label for=m-referencescoveragecoverage_mediastore-check><a href=/references/coverage/coverage_mediastore/ title="Elemental MediaStore" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_mediastore><span>mediastore</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_mediastore-data-li><input type=checkbox id=m-referencescoveragecoverage_mediastore-data-check>
<label for=m-referencescoveragecoverage_mediastore-data-check><a href=/references/coverage/coverage_mediastore-data/ title="Elemental MediaStore Data" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_mediastore-data><span>mediastore-data</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_memorydb-li><input type=checkbox id=m-referencescoveragecoverage_memorydb-check>
<label for=m-referencescoveragecoverage_memorydb-check><a href=/references/coverage/coverage_memorydb/ title="MemoryDB for Redis" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_memorydb><span>memorydb</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_mq-li><input type=checkbox id=m-referencescoveragecoverage_mq-check>
<label for=m-referencescoveragecoverage_mq-check><a href=/references/coverage/coverage_mq/ title="Amazon MQ" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_mq><span>mq</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_mwaa-li><input type=checkbox id=m-referencescoveragecoverage_mwaa-check>
<label for=m-referencescoveragecoverage_mwaa-check><a href=/references/coverage/coverage_mwaa/ title="MWAA (Managed Workflows for Apache Airflow)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_mwaa><span>mwaa</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_neptune-li><input type=checkbox id=m-referencescoveragecoverage_neptune-check>
<label for=m-referencescoveragecoverage_neptune-check><a href=/references/coverage/coverage_neptune/ title=Neptune class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_neptune><span>neptune</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_opensearch-li><input type=checkbox id=m-referencescoveragecoverage_opensearch-check>
<label for=m-referencescoveragecoverage_opensearch-check><a href=/references/coverage/coverage_opensearch/ title=OpenSearch class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_opensearch><span>opensearch</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_organizations-li><input type=checkbox id=m-referencescoveragecoverage_organizations-check>
<label for=m-referencescoveragecoverage_organizations-check><a href=/references/coverage/coverage_organizations/ title=Organizations class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_organizations><span>organizations</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_pinpoint-li><input type=checkbox id=m-referencescoveragecoverage_pinpoint-check>
<label for=m-referencescoveragecoverage_pinpoint-check><a href=/references/coverage/coverage_pinpoint/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_pinpoint><span>pinpoint</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_pipes-li><input type=checkbox id=m-referencescoveragecoverage_pipes-check>
<label for=m-referencescoveragecoverage_pipes-check><a href=/references/coverage/coverage_pipes/ title="Pipes (EventBridge Pipes)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_pipes><span>pipes</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_qldb-li><input type=checkbox id=m-referencescoveragecoverage_qldb-check>
<label for=m-referencescoveragecoverage_qldb-check><a href=/references/coverage/coverage_qldb/ title="QLDB (Quantum Ledger Database)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_qldb><span>qldb</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_qldb-session-li><input type=checkbox id=m-referencescoveragecoverage_qldb-session-check>
<label for=m-referencescoveragecoverage_qldb-session-check><a href=/references/coverage/coverage_qldb-session/ title="QLDB Session (Quantum Ledger Database Session)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_qldb-session><span>qldb-session</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_ram-li><input type=checkbox id=m-referencescoveragecoverage_ram-check>
<label for=m-referencescoveragecoverage_ram-check><a href=/references/coverage/coverage_ram/ title="ram (Resource Access Manager)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_ram><span>ram</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_rds-li><input type=checkbox id=m-referencescoveragecoverage_rds-check>
<label for=m-referencescoveragecoverage_rds-check><a href=/references/coverage/coverage_rds/ title="RDS (Relational Database Service)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_rds><span>rds</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_rds-data-li><input type=checkbox id=m-referencescoveragecoverage_rds-data-check>
<label for=m-referencescoveragecoverage_rds-data-check><a href=/references/coverage/coverage_rds-data/ title="RDS data (Relational Database Service Data)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_rds-data><span>rds-data</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_redshift-li><input type=checkbox id=m-referencescoveragecoverage_redshift-check>
<label for=m-referencescoveragecoverage_redshift-check><a href=/references/coverage/coverage_redshift/ title=Redshift class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_redshift><span>redshift</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_redshift-data-li><input type=checkbox id=m-referencescoveragecoverage_redshift-data-check>
<label for=m-referencescoveragecoverage_redshift-data-check><a href=/references/coverage/coverage_redshift-data/ title="Redshift Data" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_redshift-data><span>redshift-data</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_resource-groups-li><input type=checkbox id=m-referencescoveragecoverage_resource-groups-check>
<label for=m-referencescoveragecoverage_resource-groups-check><a href=/references/coverage/coverage_resource-groups/ title="Resource Groups" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_resource-groups><span>resource-groups</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_resourcegroupstaggingapi-li><input type=checkbox id=m-referencescoveragecoverage_resourcegroupstaggingapi-check>
<label for=m-referencescoveragecoverage_resourcegroupstaggingapi-check><a href=/references/coverage/coverage_resourcegroupstaggingapi/ title="Resource Groups Tagging API" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_resourcegroupstaggingapi><span>resourcegroupstaggingapi</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_route53-li><input type=checkbox id=m-referencescoveragecoverage_route53-check>
<label for=m-referencescoveragecoverage_route53-check><a href=/references/coverage/coverage_route53/ title="Route 53" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_route53><span>route53</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_route53resolver-li><input type=checkbox id=m-referencescoveragecoverage_route53resolver-check>
<label for=m-referencescoveragecoverage_route53resolver-check><a href=/references/coverage/coverage_route53resolver/ title="Route 53 Resolver" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_route53resolver><span>route53resolver</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_s3-li><input type=checkbox id=m-referencescoveragecoverage_s3-check>
<label for=m-referencescoveragecoverage_s3-check><a href=/references/coverage/coverage_s3/ title="S3 (Simple Storage Service)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_s3><span>s3</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_s3control-li><input type=checkbox id=m-referencescoveragecoverage_s3control-check>
<label for=m-referencescoveragecoverage_s3control-check><a href=/references/coverage/coverage_s3control/ title="S3 Control (Simple Storage Service Control)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_s3control><span>s3control</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_sagemaker-li><input type=checkbox id=m-referencescoveragecoverage_sagemaker-check>
<label for=m-referencescoveragecoverage_sagemaker-check><a href=/references/coverage/coverage_sagemaker/ title=SageMaker class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_sagemaker><span>sagemaker</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_sagemaker-runtime-li><input type=checkbox id=m-referencescoveragecoverage_sagemaker-runtime-check>
<label for=m-referencescoveragecoverage_sagemaker-runtime-check><a href=/references/coverage/coverage_sagemaker-runtime/ title="SageMaker Runtime" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_sagemaker-runtime><span>sagemaker-runtime</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_scheduler-li><input type=checkbox id=m-referencescoveragecoverage_scheduler-check>
<label for=m-referencescoveragecoverage_scheduler-check><a href=/references/coverage/coverage_scheduler/ title="scheduler (EventBridge Scheduler)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_scheduler><span>scheduler</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_secretsmanager-li><input type=checkbox id=m-referencescoveragecoverage_secretsmanager-check>
<label for=m-referencescoveragecoverage_secretsmanager-check><a href=/references/coverage/coverage_secretsmanager/ title="Secrets Manager" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_secretsmanager><span>secretsmanager</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_serverlessrepo-li><input type=checkbox id=m-referencescoveragecoverage_serverlessrepo-check>
<label for=m-referencescoveragecoverage_serverlessrepo-check><a href=/references/coverage/coverage_serverlessrepo/ title="Serverless Application Repository" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_serverlessrepo><span>serverlessrepo</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_servicediscovery-li><input type=checkbox id=m-referencescoveragecoverage_servicediscovery-check>
<label for=m-referencescoveragecoverage_servicediscovery-check><a href=/references/coverage/coverage_servicediscovery/ title="Service Discovery (Cloud Map)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_servicediscovery><span>servicediscovery</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_ses-li><input type=checkbox id=m-referencescoveragecoverage_ses-check>
<label for=m-referencescoveragecoverage_ses-check><a href=/references/coverage/coverage_ses/ title="SES (Simple Email Service)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_ses><span>ses</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_sesv2-li><input type=checkbox id=m-referencescoveragecoverage_sesv2-check>
<label for=m-referencescoveragecoverage_sesv2-check><a href=/references/coverage/coverage_sesv2/ title="SES v2 (Simple Email Service v2)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_sesv2><span>sesv2</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_sns-li><input type=checkbox id=m-referencescoveragecoverage_sns-check>
<label for=m-referencescoveragecoverage_sns-check><a href=/references/coverage/coverage_sns/ title="SNS (Simple Notification Service)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_sns><span>sns</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_sqs-li><input type=checkbox id=m-referencescoveragecoverage_sqs-check>
<label for=m-referencescoveragecoverage_sqs-check><a href=/references/coverage/coverage_sqs/ title="SQS (Simple Queue Service)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_sqs><span>sqs</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_ssm-li><input type=checkbox id=m-referencescoveragecoverage_ssm-check>
<label for=m-referencescoveragecoverage_ssm-check><a href=/references/coverage/coverage_ssm/ title="SSM (Web Services Systems Manager)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_ssm><span>ssm</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_sso-admin-li><input type=checkbox id=m-referencescoveragecoverage_sso-admin-check>
<label for=m-referencescoveragecoverage_sso-admin-check><a href=/references/coverage/coverage_sso-admin/ title="sso-admin (IAM Identity Center (successor to Single Sign-On))" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_sso-admin><span>sso-admin</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_stepfunctions-li><input type=checkbox id=m-referencescoveragecoverage_stepfunctions-check>
<label for=m-referencescoveragecoverage_stepfunctions-check><a href=/references/coverage/coverage_stepfunctions/ title="Step Functions" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_stepfunctions><span>stepfunctions</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_sts-li><input type=checkbox id=m-referencescoveragecoverage_sts-check>
<label for=m-referencescoveragecoverage_sts-check><a href=/references/coverage/coverage_sts/ title="STS (Security Token Service)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_sts><span>sts</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_support-li><input type=checkbox id=m-referencescoveragecoverage_support-check>
<label for=m-referencescoveragecoverage_support-check><a href=/references/coverage/coverage_support/ title="Support API" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_support><span>support</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_swf-li><input type=checkbox id=m-referencescoveragecoverage_swf-check>
<label for=m-referencescoveragecoverage_swf-check><a href=/references/coverage/coverage_swf/ title="SWF (Simple Workflow Service)" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_swf><span>swf</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_textract-li><input type=checkbox id=m-referencescoveragecoverage_textract-check>
<label for=m-referencescoveragecoverage_textract-check><a href=/references/coverage/coverage_textract/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_textract><span>textract</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_timestream-query-li><input type=checkbox id=m-referencescoveragecoverage_timestream-query-check>
<label for=m-referencescoveragecoverage_timestream-query-check><a href=/references/coverage/coverage_timestream-query/ title="Timestream Query" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_timestream-query><span>timestream-query</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_timestream-write-li><input type=checkbox id=m-referencescoveragecoverage_timestream-write-check>
<label for=m-referencescoveragecoverage_timestream-write-check><a href=/references/coverage/coverage_timestream-write/ title="Timestream Write" class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_timestream-write><span>timestream-write</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_transcribe-li><input type=checkbox id=m-referencescoveragecoverage_transcribe-check>
<label for=m-referencescoveragecoverage_transcribe-check><a href=/references/coverage/coverage_transcribe/ title=Transcribe class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_transcribe><span>transcribe</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_transfer-li><input type=checkbox id=m-referencescoveragecoverage_transfer-check>
<label for=m-referencescoveragecoverage_transfer-check><a href=/references/coverage/coverage_transfer/ title=Transfer class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_transfer><span>transfer</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_wafv2-li><input type=checkbox id=m-referencescoveragecoverage_wafv2-check>
<label for=m-referencescoveragecoverage_wafv2-check><a href=/references/coverage/coverage_wafv2/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_wafv2><span>wafv2</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescoveragecoverage_xray-li><input type=checkbox id=m-referencescoveragecoverage_xray-check>
<label for=m-referencescoveragecoverage_xray-check><a href=/references/coverage/coverage_xray/ title=X-Ray class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescoveragecoverage_xray><span>xray</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencesconfiguration-li><input type=checkbox id=m-referencesconfiguration-check>
<label for=m-referencesconfiguration-check><a href=/references/configuration/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencesconfiguration><span>Configuration</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referenceschangelog-li><input type=checkbox id=m-referenceschangelog-check>
<label for=m-referenceschangelog-check><a href=/references/changelog/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referenceschangelog><span>Changelog</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencesiam-coverage-li><input type=checkbox id=m-referencesiam-coverage-check>
<label for=m-referencesiam-coverage-check><a href=/references/iam-coverage/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencesiam-coverage><span>IAM Coverage</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencesarm64-support-li><input type=checkbox id=m-referencesarm64-support-check>
<label for=m-referencesarm64-support-check><a href=/references/arm64-support/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencesarm64-support><span>ARM64 Support</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescredentials-li><input type=checkbox id=m-referencescredentials-check>
<label for=m-referencescredentials-check><a href=/references/credentials/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescredentials><span>Credentials</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescross-account-access-li><input type=checkbox id=m-referencescross-account-access-check>
<label for=m-referencescross-account-access-check><a href=/references/cross-account-access/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescross-account-access><span>Cross-Account and Cross-Region Access</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencescustom-tls-certificates-li><input type=checkbox id=m-referencescustom-tls-certificates-check>
<label for=m-referencescustom-tls-certificates-check><a href=/references/custom-tls-certificates/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencescustom-tls-certificates><span>Custom TLS certificates</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencesdocker-images-li><input type=checkbox id=m-referencesdocker-images-check>
<label for=m-referencesdocker-images-check><a href=/references/docker-images/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencesdocker-images><span>Docker Images</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencesexternal-ports-li><input type=checkbox id=m-referencesexternal-ports-check>
<label for=m-referencesexternal-ports-check><a href=/references/external-ports/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencesexternal-ports><span>External Service Port Range</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencesfilesystem-li><input type=checkbox id=m-referencesfilesystem-check>
<label for=m-referencesfilesystem-check><a href=/references/filesystem/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencesfilesystem><span>Filesystem Layout</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencesinit-hooks-li><input type=checkbox id=m-referencesinit-hooks-check>
<label for=m-referencesinit-hooks-check><a href=/references/init-hooks/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencesinit-hooks><span>Initialization Hooks</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencesinternal-endpoints-li><input type=checkbox id=m-referencesinternal-endpoints-check>
<label for=m-referencesinternal-endpoints-check><a href=/references/internal-endpoints/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencesinternal-endpoints><span>Internal Endpoints</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referenceslogging-li><input type=checkbox id=m-referenceslogging-check>
<label for=m-referenceslogging-check><a href=/references/logging/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referenceslogging><span>Logging</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencesmulti-account-setups-li><input type=checkbox id=m-referencesmulti-account-setups-check>
<label for=m-referencesmulti-account-setups-check><a href=/references/multi-account-setups/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencesmulti-account-setups><span>Multi-Account Setups</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencespodman-li><input type=checkbox id=m-referencespodman-check>
<label for=m-referencespodman-check><a href=/references/podman/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencespodman><span>Podman</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencesusage-tracking-li><input type=checkbox id=m-referencesusage-tracking-check>
<label for=m-referencesusage-tracking-check><a href=/references/usage-tracking/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencesusage-tracking><span>Usage Tracking</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-referencesapi-key-li><input type=checkbox id=m-referencesapi-key-check>
<label for=m-referencesapi-key-check><a href=/references/api-key/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-referencesapi-key><span>API Key (Deprecated)</span></a></label></li></ul></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-contributing-li><input type=checkbox id=m-contributing-check>
<label for=m-contributing-check><a href=/contributing/ class="align-left ps-0 td-sidebar-link td-sidebar-link__page" id=m-contributing><span></span></a></label></li></ul></li><div class=mb-4></div><li class="td-sidebar-nav__section-title td-sidebar-nav__section with-child active-path" id=m--li-2><a href=/developer-hub title="Developer Hub" class="align-left ps-0 td-sidebar-link td-sidebar-link__section tree-root" id=m--2><span>Developer Hub</span></a><ul class=ul-1><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-developer-hub-li-2><input type=checkbox id=m-developer-hub-check-2>
<label for=m-developer-hub-check><a href=/developer-hub/ title="Developer Hub" class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-developer-hub-2><span>Overview</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child active-path" id=m-tutorials-li-2><input type=checkbox id=m-tutorials-check-2 checked>
<label for=m-tutorials-check><a href=/tutorials/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-tutorials-2><span>Tutorials</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-applications-li-2><input type=checkbox id=m-applications-check-2>
<label for=m-applications-check><a href=/applications/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-applications-2><span>Applications</span></a></label></li><li class="td-sidebar-nav__section-title td-sidebar-nav__section without-child" id=m-academy-li-2><input type=checkbox id=m-academy-check-2>
<label for=m-academy-check><a href=/academy/ class="align-left ps-0 td-sidebar-link td-sidebar-link__section" id=m-academy-2><span>LocalStack Academy</span></a></label></li></ul></li></ul></nav></div></aside><aside class="d-none d-xl-block col-xl-2 td-sidebar-toc d-print-none"><div class="td-page-meta ms-2 pb-1 pt-2 mb-0"><style>.feedback--answer{display:inline-block}.feedback--answer-no{margin-left:1em}.feedback--response{display:none;margin-top:1em}.feedback--response__visible{display:block}</style><div class=d-print-none><h2 class="feedback--title mt-2">Feedback</h2><p class=feedback--question>Was this page helpful?</p><button class="btn btn-primary mb-3 feedback--answer feedback--answer-yes">üëç</button>
<button class="btn btn-primary mb-3 feedback--answer feedback--answer-no">üëé</button><p class="feedback--response feedback--response-yes">Thanks for participating in keeping our docs well maintained. Learn more about how you can <a target=_blank href=https://localstack.cloud/community/get-involved/>get involved.</a></p><p class="feedback--response feedback--response-no">Sorry to hear that. Please <a target=_blank href=https://github.com/localstack/docs/issues/new>tell us how we can improve.</a></p></div><script>const yesButton=document.querySelector(".feedback--answer-yes"),noButton=document.querySelector(".feedback--answer-no"),yesResponse=document.querySelector(".feedback--response-yes"),noResponse=document.querySelector(".feedback--response-no"),disableButtons=()=>{yesButton.disabled=!0,noButton.disabled=!0},sendFeedback=e=>{if(typeof ga!="function")return;const t={command:"send",hitType:"event",category:"Helpful",action:"click",label:window.location.pathname,value:e};ga(t.command,t.hitType,t.category,t.action,t.label,t.value)};yesButton.addEventListener("click",()=>{yesResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(1)}),noButton.addEventListener("click",()=>{noResponse.classList.add("feedback--response__visible"),disableButtons(),sendFeedback(0)})</script><div class=toc-title>Improve our documentation</div><a href=https://github.com/localstack/docs/edit/main/content/en/tutorials/schema-evolution-glue-msk/index.md class=td-page-meta--edit target=_blank rel=noopener><i class="fa-solid fa-pen-to-square fa-fw"></i> Edit this page</a>
<a href="https://github.com/localstack/docs/issues/new?title=Schema%20Evolution%20with%20Glue%20Schema%20Registry%20and%20Managed%20Streaming%20for%20Kafka%20%28MSK%29%20using%20LocalStack" class=td-page-meta--issue target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create documentation issue</a>
<a href=https://github.com/localstack/localstack/issues/new class="td-page-meta--project-issue mb-3" target=_blank rel=noopener><i class="fa-solid fa-list-check fa-fw"></i> Create project issue</a></div><h5 class=toc-title>Table of Contents</h5><div class=td-toc><nav id=TableOfContents><ul><li><a href=#initial-schema>Initial schema</a></li><li><a href=#project-setup>Project setup</a></li><li><a href=#implementing-a-producer-and-consumer>Implementing a Producer and Consumer</a><ul><li><a href=#the-producer>The Producer</a></li><li><a href=#the-consumer>The Consumer</a></li></ul></li><li><a href=#setting-up-the-infrastructure>Setting up the infrastructure</a></li><li><a href=#running-the-producer-and-consumer>Running the Producer and Consumer</a></li><li><a href=#schema-evolution>Schema Evolution</a><ul><li><a href=#producer-registering-a-new-schema-version>Producer registering a new schema version</a></li><li><a href=#producer-trying-to-register-an-incompatible-schema-version>Producer trying to register an incompatible schema version</a></li><li><a href=#outdated-consumers>Outdated consumers</a></li><li><a href=#updated-consumers>Updated consumers</a></li></ul></li><li><a href=#conclusion>Conclusion</a></li></ul></nav></div><div class="taxonomy taxonomy-terms-cloud taxo-categories"><h5 class=taxonomy-title>Categories</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=/categories/localstack-pro/ data-taxonomy-term=localstack-pro><span class=taxonomy-label>LocalStack Pro</span><span class=taxonomy-count>8</span></a></li></ul></div><div class="taxonomy taxonomy-terms-cloud taxo-persistence"><h5 class=taxonomy-title>Persistence</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=/persistence/supported/ data-taxonomy-term=supported><span class=taxonomy-label>Supported</span><span class=taxonomy-count>31</span></a></li><li><a class=taxonomy-term href=/persistence/supported-with-limitations/ data-taxonomy-term=supported-with-limitations><span class=taxonomy-label>Supported With Limitations</span><span class=taxonomy-count>5</span></a></li></ul></div><div class="taxonomy taxonomy-terms-cloud taxo-tags"><h5 class=taxonomy-title>Tags</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=/tags/api-gateway/ data-taxonomy-term=api-gateway><span class=taxonomy-label>API Gateway</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=/tags/appsync/ data-taxonomy-term=appsync><span class=taxonomy-label>Appsync</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/aws-java-sdk/ data-taxonomy-term=aws-java-sdk><span class=taxonomy-label>AWS Java SDK</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=/tags/bash/ data-taxonomy-term=bash><span class=taxonomy-label>BASH</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=/tags/big-data/ data-taxonomy-term=big-data><span class=taxonomy-label>Big-Data</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/cloud-pods/ data-taxonomy-term=cloud-pods><span class=taxonomy-label>Cloud Pods</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=/tags/cloudformation/ data-taxonomy-term=cloudformation><span class=taxonomy-label>CloudFormation</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=/tags/cloudwatch/ data-taxonomy-term=cloudwatch><span class=taxonomy-label>CloudWatch</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/compliance/ data-taxonomy-term=compliance><span class=taxonomy-label>Compliance</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/container/ data-taxonomy-term=container><span class=taxonomy-label>Container</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/container-image/ data-taxonomy-term=container-image><span class=taxonomy-label>Container Image</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/data-analytics/ data-taxonomy-term=data-analytics><span class=taxonomy-label>Data-Analytics</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/databases/ data-taxonomy-term=databases><span class=taxonomy-label>Databases</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=/tags/docker/ data-taxonomy-term=docker><span class=taxonomy-label>Docker</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=/tags/docker-in-docker/ data-taxonomy-term=docker-in-docker><span class=taxonomy-label>Docker-in-Docker</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/dynamodb/ data-taxonomy-term=dynamodb><span class=taxonomy-label>DynamoDB</span><span class=taxonomy-count>5</span></a></li><li><a class=taxonomy-term href=/tags/ecr/ data-taxonomy-term=ecr><span class=taxonomy-label>ECR</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=/tags/ecs/ data-taxonomy-term=ecs><span class=taxonomy-label>ECS</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=/tags/elastic-load-balancing/ data-taxonomy-term=elastic-load-balancing><span class=taxonomy-label>Elastic Load Balancing</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/enterprise-plan/ data-taxonomy-term=enterprise-plan><span class=taxonomy-label>Enterprise Plan</span><span class=taxonomy-count>6</span></a></li><li><a class=taxonomy-term href=/tags/event-driven-architecture/ data-taxonomy-term=event-driven-architecture><span class=taxonomy-label>Event-Driven-Architecture</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=/tags/fargate/ data-taxonomy-term=fargate><span class=taxonomy-label>Fargate</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/fis/ data-taxonomy-term=fis><span class=taxonomy-label>FIS</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=/tags/gitlab/ data-taxonomy-term=gitlab><span class=taxonomy-label>GitLab</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/gitlab-runners/ data-taxonomy-term=gitlab-runners><span class=taxonomy-label>GitLab Runners</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/glue-schema-registry/ data-taxonomy-term=glue-schema-registry><span class=taxonomy-label>Glue Schema Registry</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/graphql/ data-taxonomy-term=graphql><span class=taxonomy-label>Graphql</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/iam/ data-taxonomy-term=iam><span class=taxonomy-label>IAM</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/identity/ data-taxonomy-term=identity><span class=taxonomy-label>Identity</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/internal-endpoints/ data-taxonomy-term=internal-endpoints><span class=taxonomy-label>Internal-Endpoints</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/java/ data-taxonomy-term=java><span class=taxonomy-label>Java</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=/tags/javascript/ data-taxonomy-term=javascript><span class=taxonomy-label>JavaScript</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/kafka/ data-taxonomy-term=kafka><span class=taxonomy-label>Kafka</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/lambda/ data-taxonomy-term=lambda><span class=taxonomy-label>Lambda</span><span class=taxonomy-count>6</span></a></li><li><a class=taxonomy-term href=/tags/lambda-layers/ data-taxonomy-term=lambda-layers><span class=taxonomy-label>Lambda Layers</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/lambda-trigger/ data-taxonomy-term=lambda-trigger><span class=taxonomy-label>Lambda-Trigger</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/localstack-endpoints/ data-taxonomy-term=localstack-endpoints><span class=taxonomy-label>Localstack-Endpoints</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/localsurf/ data-taxonomy-term=localsurf><span class=taxonomy-label>Localsurf</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/logging/ data-taxonomy-term=logging><span class=taxonomy-label>Logging</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/machine-learning/ data-taxonomy-term=machine-learning><span class=taxonomy-label>Machine Learning</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=/tags/microservices/ data-taxonomy-term=microservices><span class=taxonomy-label>Microservices</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/msk/ data-taxonomy-term=msk><span class=taxonomy-label>MSK</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/networking/ data-taxonomy-term=networking><span class=taxonomy-label>Networking</span><span class=taxonomy-count>4</span></a></li><li><a class=taxonomy-term href=/tags/nginx/ data-taxonomy-term=nginx><span class=taxonomy-label>NGINX</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/node.js/ data-taxonomy-term=node.js><span class=taxonomy-label>Node.js</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/pro-image/ data-taxonomy-term=pro-image><span class=taxonomy-label>Pro Image</span><span class=taxonomy-count>60</span></a></li><li><a class=taxonomy-term href=/tags/rds/ data-taxonomy-term=rds><span class=taxonomy-label>Rds</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=/tags/rds-proxy/ data-taxonomy-term=rds-proxy><span class=taxonomy-label>Rds-Proxy</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/reproducible/ data-taxonomy-term=reproducible><span class=taxonomy-label>Reproducible</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/route53/ data-taxonomy-term=route53><span class=taxonomy-label>Route53</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/rule-based-authentication/ data-taxonomy-term=rule-based-authentication><span class=taxonomy-label>Rule-Based-Authentication</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/s3/ data-taxonomy-term=s3><span class=taxonomy-label>S3</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=/tags/s3-website/ data-taxonomy-term=s3-website><span class=taxonomy-label>S3-Website</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/schema-evolution/ data-taxonomy-term=schema-evolution><span class=taxonomy-label>Schema Evolution</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/security/ data-taxonomy-term=security><span class=taxonomy-label>Security</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/serverless/ data-taxonomy-term=serverless><span class=taxonomy-label>Serverless</span><span class=taxonomy-count>9</span></a></li><li><a class=taxonomy-term href=/tags/serverless-framework/ data-taxonomy-term=serverless-framework><span class=taxonomy-label>Serverless Framework</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/serverless-containers/ data-taxonomy-term=serverless-containers><span class=taxonomy-label>Serverless-Containers</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/serverless-localstack-plugin/ data-taxonomy-term=serverless-localstack-plugin><span class=taxonomy-label>Serverless-Localstack Plugin</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/simple-email-service/ data-taxonomy-term=simple-email-service><span class=taxonomy-label>Simple Email Service</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/simple-notification-service/ data-taxonomy-term=simple-notification-service><span class=taxonomy-label>Simple Notification Service</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/simple-queue-service/ data-taxonomy-term=simple-queue-service><span class=taxonomy-label>Simple Queue Service</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/spring-boot/ data-taxonomy-term=spring-boot><span class=taxonomy-label>Spring Boot</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=/tags/ssl/ data-taxonomy-term=ssl><span class=taxonomy-label>Ssl</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/static-website/ data-taxonomy-term=static-website><span class=taxonomy-label>Static-Website</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/step-up-auth/ data-taxonomy-term=step-up-auth><span class=taxonomy-label>Step-Up-Auth</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/teams-plan/ data-taxonomy-term=teams-plan><span class=taxonomy-label>Teams Plan</span><span class=taxonomy-count>3</span></a></li><li><a class=taxonomy-term href=/tags/terraform/ data-taxonomy-term=terraform><span class=taxonomy-label>Terraform</span><span class=taxonomy-count>2</span></a></li><li><a class=taxonomy-term href=/tags/tflocal-cli/ data-taxonomy-term=tflocal-cli><span class=taxonomy-label>Tflocal CLI</span><span class=taxonomy-count>1</span></a></li><li><a class=taxonomy-term href=/tags/troubleshooting/ data-taxonomy-term=troubleshooting><span class=taxonomy-label>Troubleshooting</span><span class=taxonomy-count>4</span></a></li></ul></div></aside><main class="col-12 col-md-9 col-xl-8 ps-md-5" role=main><nav aria-label=breadcrumb class=td-breadcrumbs><ol class=breadcrumb><li class=breadcrumb-item><a href=/tutorials/>Tutorials</a></li><li class="breadcrumb-item active" aria-current=page>Schema Evolution with Glue Schema Registry and Managed Streaming for Kafka (MSK) using LocalStack</li></ol></nav><div class=td-content><h1>Schema Evolution with Glue Schema Registry and Managed Streaming for Kafka (MSK) using LocalStack</h1><div class=lead>Find incompatibilities early or even avoid them altogether when developing Kafka producers or consumers! Learn how to test data schema evolution by using Managed Streaming for Kafka (MSK) with the Glue Schema Registry in LocalStack.</div><div class="text-muted d-flex align-items-center social-share" style=gap:.75rem>Last modified March 4, 2024<div>‚Äî</div><div class="taxonomy taxonomy-terms-article taxo-tags"><h5 class=taxonomy-title>Tags:</h5><ul class=taxonomy-terms><li><a class=taxonomy-term href=/tags/kafka/ data-taxonomy-term=kafka><span class=taxonomy-label>Kafka</span></a></li><li><a class=taxonomy-term href=/tags/msk/ data-taxonomy-term=msk><span class=taxonomy-label>MSK</span></a></li><li><a class=taxonomy-term href=/tags/glue-schema-registry/ data-taxonomy-term=glue-schema-registry><span class=taxonomy-label>Glue Schema Registry</span></a></li><li><a class=taxonomy-term href=/tags/schema-evolution/ data-taxonomy-term=schema-evolution><span class=taxonomy-label>Schema Evolution</span></a></li><li><a class=taxonomy-term href=/tags/java/ data-taxonomy-term=java><span class=taxonomy-label>Java</span></a></li></ul></div><p class=reading-time><i class="fa-solid fa-clock" aria-hidden=true></i>&nbsp; 21 minute read &nbsp;</p><div>‚Äî</div><div class=dropdown><button class="btn btn-primary dropdown-toggle" type=button id=dropdownMenuButton data-bs-toggle=dropdown aria-haspopup=true aria-expanded=false>
<i class="fas fa-share-alt"></i></button><div class=dropdown-menu aria-labelledby=dropdownMenuButton><a class=dropdown-item href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fdocs.localstack.cloud%2ftutorials%2fschema-evolution-glue-msk%2f"><i style=width:20px class="fab fa-twitter"></i> Share on Twitter</a>
<a class=dropdown-item href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fdocs.localstack.cloud%2ftutorials%2fschema-evolution-glue-msk%2f"><i style=width:20px class="fab fa-linkedin"></i> Share on LinkedIn</a></div></div></div><hr class=mb-5><p><a href=https://kafka.apache.org/>Apache Kafka</a> is an open-source distributed event store and stream-processing platform. It is used to capture data generated by producers and distribute it among its consumers. Kafka is known for its scalability, with reports of production environments scaling to <a href=https://engineering.linkedin.com/blog/2019/apache-kafka-trillion-messages>trillions of messages per day</a>. With <a href=https://aws.amazon.com/msk/>Amazon Managed Streaming for Apache Kafka (MSK)</a>, AWS provides a service to provision Apache Kafka clusters easily.</p><p><a href=https://app.localstack.cloud/>LocalStack Pro</a> supports <a href=/user-guide/aws/msk/>Amazon Managed Streaming for Kafka (MSK)</a>, which enables you to spin up Kafka clusters on your local machine and test the integration of your applications with Amazon MSK.</p><p>Kafka clusters are often used as the central messaging infrastructure in complex microservice environments.
However, the continuous and independent development of the individual microservices - the data producers and consumers - can make it hard to coordinate and evolve data schemas over time without introducing application failures due to incompatibilities. A common solution to this problem is to use a schema registry which provides for the validation of schema changes, preventing any unsafe changes and subsequent application failures.</p><p><a href=https://docs.aws.amazon.com/glue/latest/dg/schema-registry.html>AWS Glue Schema Registry</a> can be used as such a schema registry, enabling you to validate and evolve streaming data using Apache Avro schemas. It can be easily integrated into Java applications for Apache Kafka with <a href=https://github.com/awslabs/aws-glue-schema-registry>AWS&rsquo;s official open-source serializers and deserializers</a>.</p><div id=integration-description></div>The following chart shows the integration of producers and consumers with Amazon MSK and the AWS Glue Schema Registry:<p><br></br><figure><img src=/tutorials/schema-evolution-glue-msk/schema-evolution-glue-msk-flow.svg alt="Workflow: Glue Schema Registry with MSK" width=100%></figure><br></br></p><ol><li>Before sending a record, the producer validates that the schema it is using to serialize its records is valid. We can configure the producer to register a new schema version if the schema is not yet registered.<ul><li>When registering the new schema version, the schema registry validates if the schema is compatible.</li><li>If the registry detects an incompatibility, the registration is rejected. This ensures that a producer fails early and cannot publish incompatible records in the first place.</li></ul></li><li>Once the schema is valid, the producer serializes and compresses the record and sends it to the Kafka cluster.</li><li>The consumer reads the serialized and compressed record.</li><li>The consumer requests the schema from the schema registry (if it is not already cached) and uses the schema to decompress and deserialize the record.</li></ol><p><a href=https://docs.localstack.cloud/user-guide/aws/glue/>AWS Glue Schema Registry</a> is supported by LocalStack Pro as well, ultimately allowing you to test the evolution of your data streaming application completely on your local machine. It allows you develop and test your application&rsquo;s data schema evolution locally. The code for this tutorial (including a script to execute it step-by-step) can be found in our <a href=https://github.com/localstack/localstack-pro-samples/tree/master/glue-msk-schema-registry>LocalStack Pro samples over GitHub</a>.</p><h1 id=prerequisites>Prerequisites</h1><p>For this tutorial you will need:</p><ul><li><a href=https://localstack.cloud/pricing/>LocalStack Pro</a> to emulate Amazon MSK and AWS Glue Schema Registry locally<ul><li>Don&rsquo;t worry, if you don&rsquo;t have a subscription yet, you can just get a trial license for free.</li></ul></li><li><a href=/user-guide/integrations/aws-cli/#localstack-aws-cli-awslocal>awslocal</a></li><li>Java 11+</li><li>Maven 3</li></ul><h2 id=initial-schema>Initial schema</h2><p>At first, we will define our schema, set up our Java project, and generate the Java data classes using the schema. In our Apache Avro data schema we describe a request to ride a unicorn, including the necessary addresses, a fare, a duration, some preferences, and a customer record:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-json data-lang=json><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;record&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;UnicornRideRequest&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;namespace&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;cloud.localstack.demos.gluemsk.schema&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&#34;fields&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;request_id&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;int&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;doc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;customer request id&#34;</span><span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;pickup_address&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;doc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;customer pickup address&#34;</span><span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;destination_address&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;doc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;customer destination address&#34;</span><span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ride_fare&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;float&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;doc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ride fare amount (USD)&#34;</span><span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ride_duration&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;int&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;doc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ride duration in minutes&#34;</span><span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;preferred_unicorn_color&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;enum&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;UnicornPreferredColor&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;symbols&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;WHITE&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;BLACK&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;RED&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;BLUE&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;GREY&#34;</span><span style=color:#000;font-weight:700>]},</span> <span style=color:#204a87;font-weight:700>&#34;default&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;WHITE&#34;</span><span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;recommended_unicorn&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;record&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;RecommendedUnicorn&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;fields&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;unicorn_id&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;int&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;doc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;recommended unicorn id&#34;</span><span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;color&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;enum&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;unicorn_color&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;symbols&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;WHITE&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;RED&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;BLUE&#34;</span><span style=color:#000;font-weight:700>]}},</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;stars_rating&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;null&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;int&#34;</span><span style=color:#000;font-weight:700>],</span> <span style=color:#204a87;font-weight:700>&#34;default&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;doc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;unicorn star ratings based on customers feedback&#34;</span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;customer&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>      <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;record&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;Customer&#34;</span><span style=color:#000;font-weight:700>,</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&#34;fields&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;customer_account_no&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;int&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;doc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;customer account number&#34;</span><span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;first_name&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;middle_name&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;null&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>],</span> <span style=color:#204a87;font-weight:700>&#34;default&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;last_name&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;email_addresses&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;null&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;array&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;items&#34;</span><span style=color:#000;font-weight:700>:</span><span style=color:#4e9a06>&#34;string&#34;</span> <span style=color:#000;font-weight:700>}]},</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;customer_address&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;doc&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;customer address&#34;</span><span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;mode_of_payment&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;enum&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;ModeOfPayment&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#204a87;font-weight:700>&#34;symbols&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;CARD&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#4e9a06>&#34;CASH&#34;</span><span style=color:#000;font-weight:700>]},</span> <span style=color:#204a87;font-weight:700>&#34;default&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;CARD&#34;</span><span style=color:#000;font-weight:700>},</span>
</span></span><span style=display:flex><span>          <span style=color:#000;font-weight:700>{</span><span style=color:#204a87;font-weight:700>&#34;name&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#4e9a06>&#34;customer_rating&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#204a87;font-weight:700>&#34;type&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#000;font-weight:700>[</span><span style=color:#4e9a06>&#34;null&#34;</span><span style=color:#000;font-weight:700>,</span> <span style=color:#4e9a06>&#34;int&#34;</span><span style=color:#000;font-weight:700>],</span> <span style=color:#204a87;font-weight:700>&#34;default&#34;</span><span style=color:#000;font-weight:700>:</span> <span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span>      <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#000;font-weight:700>}</span>
</span></span><span style=display:flex><span>  <span style=color:#000;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#000;font-weight:700>}</span></span></span></code></pre></div><h2 id=project-setup>Project setup</h2><p>Now we can set up our Java project with one module for the <code>producer</code> and another module for the <code>consumer</code>.
Both modules have their schema in the <code>src/main/resources</code> folder.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>.
</span></span><span style=display:flex><span>‚îú‚îÄ‚îÄ consumer
</span></span><span style=display:flex><span>‚îÇ   ‚îú‚îÄ‚îÄ pom.xml
</span></span><span style=display:flex><span>‚îÇ   ‚îî‚îÄ‚îÄ src
</span></span><span style=display:flex><span>‚îÇ       ‚îî‚îÄ‚îÄ main
</span></span><span style=display:flex><span>‚îÇ           ‚îî‚îÄ‚îÄ resources
</span></span><span style=display:flex><span>‚îÇ               ‚îî‚îÄ‚îÄ avro
</span></span><span style=display:flex><span>‚îÇ                   ‚îî‚îÄ‚îÄ unicorn_ride_request_v1.avsc
</span></span><span style=display:flex><span>‚îú‚îÄ‚îÄ producer
</span></span><span style=display:flex><span>‚îÇ   ‚îú‚îÄ‚îÄ pom.xml
</span></span><span style=display:flex><span>‚îÇ   ‚îî‚îÄ‚îÄ src
</span></span><span style=display:flex><span>‚îÇ       ‚îî‚îÄ‚îÄ main
</span></span><span style=display:flex><span>‚îÇ           ‚îî‚îÄ‚îÄ resources
</span></span><span style=display:flex><span>‚îÇ               ‚îî‚îÄ‚îÄ avro
</span></span><span style=display:flex><span>‚îÇ                   ‚îî‚îÄ‚îÄ unicorn_ride_request_v1.avsc
</span></span><span style=display:flex><span>‚îî‚îÄ‚îÄ pom.xml
</span></span></code></pre></div><p>In our root pom, we configure the <code>producer</code> and the <code>consumer</code> module, some shared dependencies (most notably <code>software.amazon.glue:schema-registry-serde</code>), and the <code>avro-maven-plugin</code> to generate Java classes for the schema:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;project</span> <span style=color:#c4a000>xmlns=</span><span style=color:#4e9a06>&#34;http://maven.apache.org/POM/4.0.0&#34;</span> <span style=color:#c4a000>xmlns:xsi=</span><span style=color:#4e9a06>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span style=display:flex><span>         <span style=color:#c4a000>xsi:schemaLocation=</span><span style=color:#4e9a06>&#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;modelVersion&gt;</span>4.0.0<span style=color:#204a87;font-weight:700>&lt;/modelVersion&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;groupId&gt;</span>cloud.localstack.demos.gluemsk<span style=color:#204a87;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>root-pom<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;version&gt;</span>1.0-SNAPSHOT<span style=color:#204a87;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;packaging&gt;</span>pom<span style=color:#204a87;font-weight:700>&lt;/packaging&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;name&gt;</span>Glue MSK Demo<span style=color:#204a87;font-weight:700>&lt;/name&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;modules&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;module&gt;</span>producer<span style=color:#204a87;font-weight:700>&lt;/module&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;module&gt;</span>consumer<span style=color:#204a87;font-weight:700>&lt;/module&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/modules&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;properties&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;project.build.sourceEncoding&gt;</span>UTF-8<span style=color:#204a87;font-weight:700>&lt;/project.build.sourceEncoding&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;maven.compiler.source&gt;</span>11<span style=color:#204a87;font-weight:700>&lt;/maven.compiler.source&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;maven.compiler.target&gt;</span>11<span style=color:#204a87;font-weight:700>&lt;/maven.compiler.target&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/properties&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;dependencies&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;groupId&gt;</span>software.amazon.glue<span style=color:#204a87;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>schema-registry-serde<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;version&gt;</span>1.1.10<span style=color:#204a87;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;groupId&gt;</span>org.slf4j<span style=color:#204a87;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>slf4j-api<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;version&gt;</span>1.7.36<span style=color:#204a87;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;groupId&gt;</span>org.slf4j<span style=color:#204a87;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>slf4j-reload4j<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;version&gt;</span>1.7.36<span style=color:#204a87;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;groupId&gt;</span>org.apache.avro<span style=color:#204a87;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>avro<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;version&gt;</span>1.11.0<span style=color:#204a87;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;dependency&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;groupId&gt;</span>com.beust<span style=color:#204a87;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>jcommander<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;version&gt;</span>1.82<span style=color:#204a87;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/dependency&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/dependencies&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;build&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;pluginManagement&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;plugins&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&lt;plugin&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>&lt;groupId&gt;</span>org.apache.avro<span style=color:#204a87;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>avro-maven-plugin<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>&lt;version&gt;</span>1.11.0<span style=color:#204a87;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>&lt;executions&gt;</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>&lt;execution&gt;</span>
</span></span><span style=display:flex><span>                            <span style=color:#204a87;font-weight:700>&lt;phase&gt;</span>generate-sources<span style=color:#204a87;font-weight:700>&lt;/phase&gt;</span>
</span></span><span style=display:flex><span>                            <span style=color:#204a87;font-weight:700>&lt;goals&gt;</span>
</span></span><span style=display:flex><span>                                <span style=color:#204a87;font-weight:700>&lt;goal&gt;</span>schema<span style=color:#204a87;font-weight:700>&lt;/goal&gt;</span>
</span></span><span style=display:flex><span>                            <span style=color:#204a87;font-weight:700>&lt;/goals&gt;</span>
</span></span><span style=display:flex><span>                            <span style=color:#204a87;font-weight:700>&lt;configuration&gt;</span>
</span></span><span style=display:flex><span>                                <span style=color:#204a87;font-weight:700>&lt;sourceDirectory&gt;</span>${project.basedir}/src/main/resources/avro/<span style=color:#204a87;font-weight:700>&lt;/sourceDirectory&gt;</span>
</span></span><span style=display:flex><span>                                <span style=color:#204a87;font-weight:700>&lt;outputDirectory&gt;</span>${project.basedir}/src/main/java/<span style=color:#204a87;font-weight:700>&lt;/outputDirectory&gt;</span>
</span></span><span style=display:flex><span>                            <span style=color:#204a87;font-weight:700>&lt;/configuration&gt;</span>
</span></span><span style=display:flex><span>                        <span style=color:#204a87;font-weight:700>&lt;/execution&gt;</span>
</span></span><span style=display:flex><span>                    <span style=color:#204a87;font-weight:700>&lt;/executions&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&lt;/plugin&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;/plugins&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/pluginManagement&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/build&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/project&gt;</span>
</span></span></code></pre></div><p>While the root pom is a bit lengthy, the <code>pom.xml</code> files of the two modules are quite simple. They only reference the root pom, activate the <code>avro-maven-plugin</code>, and define a main class (we&rsquo;ll go into detail on the actual Java code in <a href=/tutorials/schema-evolution-glue-msk/#implement-a-producer-and-consumer>the section below</a>).</p><p>Here is what the producer&rsquo;s <code>pom.xml</code> looks like:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;project</span> <span style=color:#c4a000>xmlns=</span><span style=color:#4e9a06>&#34;http://maven.apache.org/POM/4.0.0&#34;</span> <span style=color:#c4a000>xmlns:xsi=</span><span style=color:#4e9a06>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span style=display:flex><span>         <span style=color:#c4a000>xsi:schemaLocation=</span><span style=color:#4e9a06>&#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;modelVersion&gt;</span>4.0.0<span style=color:#204a87;font-weight:700>&lt;/modelVersion&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;parent&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;groupId&gt;</span>cloud.localstack.demos.gluemsk<span style=color:#204a87;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>root-pom<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;version&gt;</span>1.0-SNAPSHOT<span style=color:#204a87;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;relativePath&gt;</span>../pom.xml<span style=color:#204a87;font-weight:700>&lt;/relativePath&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/parent&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>producer<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;version&gt;</span>1.0-SNAPSHOT<span style=color:#204a87;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;name&gt;</span>Glue MSK Demo Producer<span style=color:#204a87;font-weight:700>&lt;/name&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;properties&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;exec.mainClass&gt;</span>cloud.localstack.demos.gluemsk.producer.Producer<span style=color:#204a87;font-weight:700>&lt;/exec.mainClass&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/properties&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;build&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;plugins&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;plugin&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&lt;groupId&gt;</span>org.apache.avro<span style=color:#204a87;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>avro-maven-plugin<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;/plugin&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/plugins&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/build&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/project&gt;</span>
</span></span></code></pre></div><p>And similarly the consumer&rsquo;s <code>pom.xml</code> looks like:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>&lt;?xml version=&#34;1.0&#34; encoding=&#34;UTF-8&#34;?&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;project</span> <span style=color:#c4a000>xmlns=</span><span style=color:#4e9a06>&#34;http://maven.apache.org/POM/4.0.0&#34;</span> <span style=color:#c4a000>xmlns:xsi=</span><span style=color:#4e9a06>&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span>
</span></span><span style=display:flex><span>         <span style=color:#c4a000>xsi:schemaLocation=</span><span style=color:#4e9a06>&#34;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&#34;</span><span style=color:#204a87;font-weight:700>&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;modelVersion&gt;</span>4.0.0<span style=color:#204a87;font-weight:700>&lt;/modelVersion&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;parent&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;groupId&gt;</span>cloud.localstack.demos.gluemsk<span style=color:#204a87;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>root-pom<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;version&gt;</span>1.0-SNAPSHOT<span style=color:#204a87;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;relativePath&gt;</span>../pom.xml<span style=color:#204a87;font-weight:700>&lt;/relativePath&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/parent&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>consumer<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;version&gt;</span>1.0-SNAPSHOT<span style=color:#204a87;font-weight:700>&lt;/version&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;name&gt;</span>Glue MSK Demo Consumer<span style=color:#204a87;font-weight:700>&lt;/name&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;properties&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;exec.mainClass&gt;</span>cloud.localstack.demos.gluemsk.consumer.Consumer<span style=color:#204a87;font-weight:700>&lt;/exec.mainClass&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/properties&gt;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;build&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;plugins&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;plugin&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&lt;groupId&gt;</span>org.apache.avro<span style=color:#204a87;font-weight:700>&lt;/groupId&gt;</span>
</span></span><span style=display:flex><span>                <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>avro-maven-plugin<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>            <span style=color:#204a87;font-weight:700>&lt;/plugin&gt;</span>
</span></span><span style=display:flex><span>        <span style=color:#204a87;font-weight:700>&lt;/plugins&gt;</span>
</span></span><span style=display:flex><span>    <span style=color:#204a87;font-weight:700>&lt;/build&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/project&gt;</span>
</span></span></code></pre></div><p>Now the project is all set up and we can already generate our schema classes from the AVRO schema using the <code>avro-maven-plugin</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mvn clean generate-sources
</span></span></code></pre></div><p>After the maven plugin is done, we have all types generated for both the producer and the consumer:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>.
</span></span><span style=display:flex><span>‚îú‚îÄ‚îÄ consumer
</span></span><span style=display:flex><span>‚îÇ   ‚îî‚îÄ‚îÄ src
</span></span><span style=display:flex><span>‚îÇ       ‚îî‚îÄ‚îÄ main
</span></span><span style=display:flex><span>‚îÇ           ‚îú‚îÄ‚îÄ java
</span></span><span style=display:flex><span>‚îÇ               ‚îî‚îÄ‚îÄ cloud
</span></span><span style=display:flex><span>‚îÇ                   ‚îî‚îÄ‚îÄ localstack
</span></span><span style=display:flex><span>‚îÇ                       ‚îî‚îÄ‚îÄ demos
</span></span><span style=display:flex><span>‚îÇ                           ‚îî‚îÄ‚îÄ gluemsk
</span></span><span style=display:flex><span>‚îÇ                               ‚îî‚îÄ‚îÄ schema
</span></span><span style=display:flex><span>‚îÇ                                   ‚îú‚îÄ‚îÄ Customer.java
</span></span><span style=display:flex><span>‚îÇ                                   ‚îú‚îÄ‚îÄ ModeOfPayment.java
</span></span><span style=display:flex><span>‚îÇ                                   ‚îú‚îÄ‚îÄ RecommendedUnicorn.java
</span></span><span style=display:flex><span>‚îÇ                                   ‚îú‚îÄ‚îÄ unicorn_color.java
</span></span><span style=display:flex><span>‚îÇ                                   ‚îú‚îÄ‚îÄ UnicornPreferredColor.java
</span></span><span style=display:flex><span>‚îÇ                                   ‚îî‚îÄ‚îÄ UnicornRideRequest.java
</span></span><span style=display:flex><span>‚îî‚îÄ‚îÄ producer
</span></span><span style=display:flex><span>    ‚îî‚îÄ‚îÄ src
</span></span><span style=display:flex><span>        ‚îî‚îÄ‚îÄ main
</span></span><span style=display:flex><span>            ‚îî‚îÄ‚îÄ java
</span></span><span style=display:flex><span>                ‚îî‚îÄ‚îÄ cloud
</span></span><span style=display:flex><span>                    ‚îî‚îÄ‚îÄ localstack
</span></span><span style=display:flex><span>                        ‚îî‚îÄ‚îÄ demos
</span></span><span style=display:flex><span>                            ‚îî‚îÄ‚îÄ gluemsk
</span></span><span style=display:flex><span>                                ‚îî‚îÄ‚îÄ schema
</span></span><span style=display:flex><span>                                    ‚îú‚îÄ‚îÄ Customer.java
</span></span><span style=display:flex><span>                                    ‚îú‚îÄ‚îÄ ModeOfPayment.java
</span></span><span style=display:flex><span>                                    ‚îú‚îÄ‚îÄ RecommendedUnicorn.java
</span></span><span style=display:flex><span>                                    ‚îú‚îÄ‚îÄ unicorn_color.java
</span></span><span style=display:flex><span>                                    ‚îú‚îÄ‚îÄ UnicornPreferredColor.java
</span></span><span style=display:flex><span>                                    ‚îî‚îÄ‚îÄ UnicornRideRequest.java
</span></span></code></pre></div><p>Since we want to log the sent and received messages, we need to configure the logging by adding a <code>log4j.properties</code> to the <code>src/main/resources</code> folder of the two modules:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-properties data-lang=properties><span style=display:flex><span><span style=color:#c4a000>log4j.rootLogger</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>DEBUG, CONSOLE</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>log4j.appender.CONSOLE</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>org.apache.log4j.ConsoleAppender</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>log4j.appender.CONSOLE.layout</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>org.apache.log4j.PatternLayout</span>
</span></span><span style=display:flex><span><span style=color:#c4a000>log4j.appender.CONSOLE.layout.ConversionPattern</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>[%c{1}][%-5p] %m%n</span>
</span></span></code></pre></div><h2 id=implementing-a-producer-and-consumer>Implementing a Producer and Consumer</h2><p>Now, all the boilerplate is done:</p><ul><li>We have a proper project setup.</li><li>The logging is properly configured.</li><li>We generated our schema classes which we&rsquo;ll use as a typesafe interface for the records.</li></ul><h3 id=the-producer>The Producer</h3><p>The next step is to implement our producer. The complete module can be found on our <a href=https://github.com/localstack/localstack-pro-samples/blob/cd023a84a3b473984e9c34053d4feb7de8e038c1/glue-msk-schema-registry/producer/>samples repository (along with the rest of the code of this tutorial)</a>.</p><p>We create a new class called <code>Producer</code> in <code>producer/src/main/java/cloud/localstack/demos/gluemsk/producer/</code>.
The <code>Producer</code> contains a <code>main</code> method which uses <a href=https://jcommander.org/><code>jcommander</code></a> to create a simple CLI interface:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>cloud.localstack.demos.gluemsk.producer</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>import</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>com.beust.jcommander.JCommander</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>import</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>com.beust.jcommander.Parameter</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>import</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>org.slf4j.Logger</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>import</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>org.slf4j.LoggerFactory</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>public</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>Producer</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>private</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>final</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>static</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Logger</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>LOGGER</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>LoggerFactory</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>getLogger</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>org</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>apache</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>kafka</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>clients</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>producer</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>Producer</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>getName</span><span style=color:#000;font-weight:700>());</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#5c35cc;font-weight:700>@Parameter</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>names</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;--help&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;-h&#34;</span><span style=color:#000;font-weight:700>},</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>help</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>protected</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>boolean</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>help</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#5c35cc;font-weight:700>@Parameter</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>names</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;--bootstrap-servers&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;-bs&#34;</span><span style=color:#000;font-weight:700>},</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>description</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;Kafka bootstrap servers endpoint to connect to.&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>protected</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>String</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>bootstrapServers</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;localhost:4511&#34;</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#5c35cc;font-weight:700>@Parameter</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>names</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;--aws-endpoint-servers&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;-ae&#34;</span><span style=color:#000;font-weight:700>},</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>description</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;AWS endpoint to use.&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>protected</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>String</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>awsEndpoint</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;https://localhost.localstack.cloud:4566&#34;</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#5c35cc;font-weight:700>@Parameter</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>names</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;--region&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;-reg&#34;</span><span style=color:#000;font-weight:700>},</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>description</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;AWS Region to use.&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>protected</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>String</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>regionName</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;us-east-1&#34;</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#5c35cc;font-weight:700>@Parameter</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>names</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;--topic-name&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;-topic&#34;</span><span style=color:#000;font-weight:700>},</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>description</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;Kafka topic name where you send the data records. Default is unicorn-ride-request-topic.&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>protected</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>String</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>topic</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;unicorn-ride-request-topic&#34;</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#5c35cc;font-weight:700>@Parameter</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>names</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;--num-messages&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;-nm&#34;</span><span style=color:#000;font-weight:700>},</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>description</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;Number of messages you want producer to send. Default is 100.&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>protected</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>String</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>str_numOfMessages</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;100&#34;</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>public</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>static</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>void</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>main</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>[]</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>args</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#000>Producer</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>producer</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>new</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Producer</span><span style=color:#000;font-weight:700>();</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#000>JCommander</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>jc</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>JCommander</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>newBuilder</span><span style=color:#000;font-weight:700>().</span><span style=color:#c4a000>addObject</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>producer</span><span style=color:#000;font-weight:700>).</span><span style=color:#c4a000>build</span><span style=color:#000;font-weight:700>();</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#000>jc</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>parse</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>args</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>if</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>(</span><span style=color:#000>producer</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>help</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#000>jc</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>usage</span><span style=color:#000;font-weight:700>();</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>return</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#000>producer</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>startProducer</span><span style=color:#000;font-weight:700>();</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>public</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>void</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>startProducer</span><span style=color:#000;font-weight:700>()</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#8f5902;font-style:italic>// TODO:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#8f5902;font-style:italic>// - Create the producer</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#8f5902;font-style:italic>// - Send the UnicornRideRequest records to the topic</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>Now we can add a method to configure our producer:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>private</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Properties</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>getProducerConfig</span><span style=color:#000;font-weight:700>()</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>Properties</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>props</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>new</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Properties</span><span style=color:#000;font-weight:700>();</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#8f5902;font-style:italic>// use the &#34;--bootstrap-servers&#34; argument to define the Kafka bootstrap address to connect to</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ProducerConfig</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>BOOTSTRAP_SERVERS_CONFIG</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>bootstrapServers</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ProducerConfig</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>ACKS_CONFIG</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;-1&#34;</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ProducerConfig</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>CLIENT_ID_CONFIG</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;glue-msk-demo-producer&#34;</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ProducerConfig</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>KEY_SERIALIZER_CLASS_CONFIG</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>StringSerializer</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>getName</span><span style=color:#000;font-weight:700>());</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#8f5902;font-style:italic>// use the GlueSchemaRegistryKafkaSerializer from software.amazon.glue:schema-registry-serde</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ProducerConfig</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>VALUE_SERIALIZER_CLASS_CONFIG</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>GlueSchemaRegistryKafkaSerializer</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>getName</span><span style=color:#000;font-weight:700>());</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#8f5902;font-style:italic>// configure the GlueSchemaRegistryKafkaSerializer (data format, region, Glue registry and schema,...)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>AWSSchemaRegistryConstants</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>DATA_FORMAT</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>DataFormat</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>AVRO</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>name</span><span style=color:#000;font-weight:700>());</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>AWSSchemaRegistryConstants</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>AWS_REGION</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>regionName</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>AWSSchemaRegistryConstants</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>REGISTRY_NAME</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;unicorn-ride-request-registry&#34;</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>AWSSchemaRegistryConstants</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>SCHEMA_NAME</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;unicorn-ride-request-schema-avro&#34;</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>AWSSchemaRegistryConstants</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>AVRO_RECORD_TYPE</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>AvroRecordType</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>SPECIFIC_RECORD</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>getName</span><span style=color:#000;font-weight:700>());</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#8f5902;font-style:italic>// define the endpoint to use - by default we use LocalStack (localhost.localstack.cloud)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>AWSSchemaRegistryConstants</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>AWS_ENDPOINT</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>awsEndpoint</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#8f5902;font-style:italic>// enable compression of records</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>AWSSchemaRegistryConstants</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>COMPRESSION_TYPE</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>AWSSchemaRegistryConstants</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>COMPRESSION</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>ZLIB</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>name</span><span style=color:#000;font-weight:700>());</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>return</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>In addition, we create a method to generate new dummy <code>UnicornRideRequests</code> and a <code>Callback</code> class logging the producer metadata:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>UnicornRideRequest</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>getRecord</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>int</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>requestId</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#8f5902;font-style:italic>/*
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>      Initialise UnicornRideRequest object of
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>      class that is generated from AVRO Schema
</span></span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic>    */</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>UnicornRideRequest</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>rideRequest</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>UnicornRideRequest</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>newBuilder</span><span style=color:#000;font-weight:700>()</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>setRequestId</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>requestId</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>setPickupAddress</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Melbourne, Victoria, Australia&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>setDestinationAddress</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Sydney, NSW, Aus&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>setRideFare</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>1200</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>50F</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>setRideDuration</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>120</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>setPreferredUnicornColor</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>UnicornPreferredColor</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>WHITE</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>setRecommendedUnicorn</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>RecommendedUnicorn</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>newBuilder</span><span style=color:#000;font-weight:700>()</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>                    </span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>setUnicornId</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>requestId</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>*</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>2</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>                    </span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>setColor</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>unicorn_color</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>WHITE</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>                    </span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>setStarsRating</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>5</span><span style=color:#000;font-weight:700>).</span><span style=color:#c4a000>build</span><span style=color:#000;font-weight:700>())</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>setCustomer</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Customer</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>newBuilder</span><span style=color:#000;font-weight:700>()</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>                    </span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>setCustomerAccountNo</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>1001</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>                    </span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>setFirstName</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Dummy&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>                    </span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>setLastName</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;User&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>                    </span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>setEmailAddresses</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>List</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>of</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;demo@example.com&#34;</span><span style=color:#000;font-weight:700>))</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>                    </span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>setCustomerAddress</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Flinders Street Station&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>                    </span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>setModeOfPayment</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ModeOfPayment</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>CARD</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>                    </span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>setCustomerRating</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>5</span><span style=color:#000;font-weight:700>).</span><span style=color:#c4a000>build</span><span style=color:#000;font-weight:700>()).</span><span style=color:#c4a000>build</span><span style=color:#000;font-weight:700>();</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>LOGGER</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>info</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>rideRequest</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>toString</span><span style=color:#000;font-weight:700>());</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>return</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>rideRequest</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>private</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>static</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>ProducerCallback</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>implements</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Callback</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#5c35cc;font-weight:700>@Override</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>public</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>void</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>onCompletion</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>RecordMetadata</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>recordMetaData</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Exception</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>e</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>if</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>(</span><span style=color:#000>e</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>==</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>null</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#000>LOGGER</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>info</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Received new metadata. \t&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>                    </span><span style=color:#4e9a06>&#34;Topic:&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>recordMetaData</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>topic</span><span style=color:#000;font-weight:700>()</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;\t&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>                    </span><span style=color:#4e9a06>&#34;Partition: &#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>recordMetaData</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>partition</span><span style=color:#000;font-weight:700>()</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;\t&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>                    </span><span style=color:#4e9a06>&#34;Offset: &#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>recordMetaData</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>offset</span><span style=color:#000;font-weight:700>()</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;\t&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>                    </span><span style=color:#4e9a06>&#34;Timestamp: &#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>recordMetaData</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>timestamp</span><span style=color:#000;font-weight:700>());</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>else</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#000>LOGGER</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>info</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;There&#39;s been an error from the Producer side&#34;</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#000>e</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>printStackTrace</span><span style=color:#000;font-weight:700>();</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>And finally, we can implement our <code>startProducer</code> method which creates the producer using <code>getProducerConfig</code> and sends records generated by <code>getRecord</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>void</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>startProducer</span><span style=color:#000;font-weight:700>()</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>try</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>(</span><span style=color:#000>KafkaProducer</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>UnicornRideRequest</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>producer</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>new</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>KafkaProducer</span><span style=color:#ce5c00;font-weight:700>&lt;&gt;</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>getProducerConfig</span><span style=color:#000;font-weight:700>()))</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>int</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>numberOfMessages</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Integer</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>parseInt</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>str_numOfMessages</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#000>LOGGER</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>info</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Starting to send records...&#34;</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>for</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>int</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>i</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>0</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>i</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>numberOfMessages</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>i</span><span style=color:#ce5c00;font-weight:700>++</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#000>UnicornRideRequest</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>rideRequest</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>getRecord</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>i</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#000>String</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>key</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;key-&#34;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>+</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>i</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#000>ProducerRecord</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>UnicornRideRequest</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>record</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>new</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>ProducerRecord</span><span style=color:#ce5c00;font-weight:700>&lt;&gt;</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>topic</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>key</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>rideRequest</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#000>producer</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>send</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>record</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>new</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>ProducerCallback</span><span style=color:#000;font-weight:700>());</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><h3 id=the-consumer>The Consumer</h3><p>Now that we have a <code>Producer</code>, we need a component which reads the data from the Kafka cluster.</p><p>The complete module can be found on our <a href=https://github.com/localstack/localstack-pro-samples/blob/cd023a84a3b473984e9c34053d4feb7de8e038c1/glue-msk-schema-registry/consumer/>samples repository (along with the rest of the code of this tutorial).</a></p><p>We create a new class called <code>Consumer</code> in <code>consumer/src/main/java/cloud/localstack/demos/gluemsk/consumer/</code>.</p><p>Analogous to the <code>Producer</code>, the <code>Consumer</code> contains a <code>main</code> method which uses <a href=https://jcommander.org/><code>jcommander</code></a> to create a simple CLI interface:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>package</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>cloud.localstack.demos.gluemsk.consumer</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>import</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>com.beust.jcommander.JCommander</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>import</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>com.beust.jcommander.Parameter</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>import</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>org.slf4j.Logger</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>import</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>org.slf4j.LoggerFactory</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#204a87;font-weight:700>public</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>class</span> <span style=color:#000>Consumer</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>private</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>final</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>static</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Logger</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>LOGGER</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>LoggerFactory</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>getLogger</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>java</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>util</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>function</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>Consumer</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>getName</span><span style=color:#000;font-weight:700>());</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#5c35cc;font-weight:700>@Parameter</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>names</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;--help&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;-h&#34;</span><span style=color:#000;font-weight:700>},</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>help</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>protected</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>boolean</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>help</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>false</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#5c35cc;font-weight:700>@Parameter</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>names</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;--bootstrap-servers&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;-bs&#34;</span><span style=color:#000;font-weight:700>},</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>description</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;kafka bootstrap servers endpoint&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>protected</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>String</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>bootstrapServers</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;localhost:4511&#34;</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#5c35cc;font-weight:700>@Parameter</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>names</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;--aws-endpoint-servers&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;-ae&#34;</span><span style=color:#000;font-weight:700>},</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>description</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;AWS endpoint&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>protected</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>String</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>awsEndpoint</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;https://localhost.localstack.cloud:4566&#34;</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#5c35cc;font-weight:700>@Parameter</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>names</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;--region&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;-reg&#34;</span><span style=color:#000;font-weight:700>},</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>description</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;AWS Region to use.&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>protected</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>String</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>regionName</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;us-east-1&#34;</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#5c35cc;font-weight:700>@Parameter</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>names</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;--topic-name&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;-topic&#34;</span><span style=color:#000;font-weight:700>},</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>description</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;Kafka topic name where you send the data records. Default is unicorn-ride-request-topic&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>protected</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>String</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>topic</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;unicorn-ride-request-topic&#34;</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#5c35cc;font-weight:700>@Parameter</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>names</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#4e9a06>&#34;--num-messages&#34;</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;-nm&#34;</span><span style=color:#000;font-weight:700>},</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>description</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;Number of messages you want consumer to wait for until it stops. Default is 100, use 0 if you want it to run indefinitely.&#34;</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>protected</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>String</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>str_numOfMessages</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;100&#34;</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>public</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>static</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>void</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>main</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>String</span><span style=color:#ce5c00;font-weight:700>[]</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>args</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#000>Consumer</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>consumer</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>new</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Consumer</span><span style=color:#000;font-weight:700>();</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#000>JCommander</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>jc</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>JCommander</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>newBuilder</span><span style=color:#000;font-weight:700>().</span><span style=color:#c4a000>addObject</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>consumer</span><span style=color:#000;font-weight:700>).</span><span style=color:#c4a000>build</span><span style=color:#000;font-weight:700>();</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#000>jc</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>parse</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>args</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>if</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>(</span><span style=color:#000>consumer</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>help</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#000>jc</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>usage</span><span style=color:#000;font-weight:700>();</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>return</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#000>consumer</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>startConsumer</span><span style=color:#000;font-weight:700>();</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>public</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>void</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>startConsumer</span><span style=color:#000;font-weight:700>()</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#8f5902;font-style:italic>// TODO:</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#8f5902;font-style:italic>// - Create the Kafka Consumer</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#8f5902;font-style:italic>// - Subscribe to the topic</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#8f5902;font-style:italic>// - Process the incoming records</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>Similar to the producer, we need to configure our consumer:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>private</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Properties</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>getConsumerConfig</span><span style=color:#000;font-weight:700>()</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>Properties</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>props</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>new</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Properties</span><span style=color:#000;font-weight:700>();</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#8f5902;font-style:italic>// use the &#34;--bootstrap-servers&#34; argument to define the Kafka bootstrap address to connect to</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ConsumerConfig</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>BOOTSTRAP_SERVERS_CONFIG</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>bootstrapServers</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ConsumerConfig</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>GROUP_ID_CONFIG</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;unicorn.riderequest.consumer&#34;</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ConsumerConfig</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>AUTO_OFFSET_RESET_CONFIG</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#4e9a06>&#34;earliest&#34;</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ConsumerConfig</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>KEY_DESERIALIZER_CLASS_CONFIG</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>StringDeserializer</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>getName</span><span style=color:#000;font-weight:700>());</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#8f5902;font-style:italic>// use the GlueSchemaRegistryKafkaDeserializer from software.amazon.glue:schema-registry-serde</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>ConsumerConfig</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>VALUE_DESERIALIZER_CLASS_CONFIG</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>GlueSchemaRegistryKafkaDeserializer</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>class</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>getName</span><span style=color:#000;font-weight:700>());</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>AWSSchemaRegistryConstants</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>AWS_REGION</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>regionName</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>AWSSchemaRegistryConstants</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>AVRO_RECORD_TYPE</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>AvroRecordType</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>SPECIFIC_RECORD</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>getName</span><span style=color:#000;font-weight:700>());</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#8f5902;font-style:italic>// define the endpoint to use - by default we use LocalStack (localhost.localstack.cloud)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>AWSSchemaRegistryConstants</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>AWS_ENDPOINT</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>awsEndpoint</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>return</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><p>And finally, we can implement our <code>startConsumer</code> method which creates the consumer using <code>getConsumerConfig</code>, reads the records from the topic, and logs them:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#204a87;font-weight:700>public</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>void</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>startConsumer</span><span style=color:#000;font-weight:700>()</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>LOGGER</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>info</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Starting consumer...&#34;</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>try</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>(</span><span style=color:#000>KafkaConsumer</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>UnicornRideRequest</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>consumer</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>new</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>KafkaConsumer</span><span style=color:#ce5c00;font-weight:700>&lt;&gt;</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>getConsumerConfig</span><span style=color:#000;font-weight:700>()))</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#000>consumer</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>subscribe</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Collections</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>singletonList</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>topic</span><span style=color:#000;font-weight:700>));</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>int</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>outstandingMessages</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>Integer</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>parseInt</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>str_numOfMessages</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>boolean</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>runIndefinitely</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>outstandingMessages</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>==</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>0</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#204a87;font-weight:700>while</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>(</span><span style=color:#000>outstandingMessages</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>0</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>||</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>runIndefinitely</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#8f5902;font-style:italic>// a real consumer would probably run in an endless loop waiting for new records here</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>final</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>ConsumerRecords</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>UnicornRideRequest</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>records</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>consumer</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>poll</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Duration</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>ofMillis</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>10</span><span style=color:#000;font-weight:700>));</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#204a87;font-weight:700>for</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>final</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>ConsumerRecord</span><span style=color:#ce5c00;font-weight:700>&lt;</span><span style=color:#000>String</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>UnicornRideRequest</span><span style=color:#ce5c00;font-weight:700>&gt;</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>record</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>:</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>records</span><span style=color:#000;font-weight:700>)</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000;font-weight:700>{</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>                </span><span style=color:#204a87;font-weight:700>final</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>UnicornRideRequest</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>rideRequest</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>record</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>value</span><span style=color:#000;font-weight:700>();</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>                </span><span style=color:#000>LOGGER</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>info</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>String</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>valueOf</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>rideRequest</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>getRequestId</span><span style=color:#000;font-weight:700>()));</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>                </span><span style=color:#000>LOGGER</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>info</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>rideRequest</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>toString</span><span style=color:#000;font-weight:700>());</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>                </span><span style=color:#000>outstandingMessages</span><span style=color:#ce5c00;font-weight:700>--</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>            </span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>LOGGER</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>info</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Stopping consumer...&#34;</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div><h2 id=setting-up-the-infrastructure>Setting up the infrastructure</h2><p>Now that the initial coding is done, we can give it a try. Let&rsquo;s start LocalStack:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#000>LOCALSTACK_AUTH_TOKEN</span><span style=color:#ce5c00;font-weight:700>=</span>&lt;your-auth-token&gt; localstack start -d
</span></span></code></pre></div><p>Once LocalStack is started, we can create a new Kafka cluster using <code>awslocal</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ awslocal kafka create-cluster <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --cluster-name <span style=color:#4e9a06>&#34;unicorn-ride-cluster&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --kafka-version <span style=color:#4e9a06>&#34;2.2.1&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --number-of-broker-nodes <span style=color:#0000cf;font-weight:700>1</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --broker-node-group-info <span style=color:#4e9a06>&#34;{\&#34;ClientSubnets\&#34;: [], \&#34;InstanceType\&#34;:\&#34;kafka.m5.xlarge\&#34;}&#34;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;ClusterArn&#34;</span>: <span style=color:#4e9a06>&#34;arn:aws:kafka:us-east-1:000000000000:cluster/unicorn-ride-cluster/f9b16124-baf3-459b-8507-ec6c605b7a0a-25&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;ClusterName&#34;</span>: <span style=color:#4e9a06>&#34;unicorn-ride-cluster&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;State&#34;</span>: <span style=color:#4e9a06>&#34;CREATING&#34;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>The <code>ClusterArn</code> is created dynamically and will be different for your run. Make sure to use your <code>ClusterArn</code> for the commands below.</p><p>It takes some time for the cluster to get up and running. We can monitor the state with <code>describe-cluster</code>:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ awslocal kafka describe-cluster --cluster-arn <span style=color:#4e9a06>&#34;arn:aws:kafka:us-east-1:000000000000:cluster/unicorn-ride-cluster/f9b16124-baf3-459b-8507-ec6c605b7a0a-25&#34;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;ClusterInfo&#34;</span>: <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;BrokerNodeGroupInfo&#34;</span>: <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#34;ClientSubnets&#34;</span>: <span style=color:#ce5c00;font-weight:700>[]</span>,
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#34;InstanceType&#34;</span>: <span style=color:#4e9a06>&#34;kafka.m5.xlarge&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>}</span>,
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;ClusterArn&#34;</span>: <span style=color:#4e9a06>&#34;arn:aws:kafka:us-east-1:000000000000:cluster/unicorn-ride-cluster/f9b16124-baf3-459b-8507-ec6c605b7a0a-25&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;ClusterName&#34;</span>: <span style=color:#4e9a06>&#34;unicorn-ride-cluster&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;CreationTime&#34;</span>: <span style=color:#4e9a06>&#34;2022-07-21T14:41:07.897000Z&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;CurrentBrokerSoftwareInfo&#34;</span>: <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>            <span style=color:#4e9a06>&#34;KafkaVersion&#34;</span>: <span style=color:#4e9a06>&#34;2.5.0&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>}</span>,
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;CurrentVersion&#34;</span>: <span style=color:#4e9a06>&#34;KFABVNKTBGF6HX&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;NumberOfBrokerNodes&#34;</span>: 1,
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;State&#34;</span>: <span style=color:#4e9a06>&#34;ACTIVE&#34;</span>,
</span></span><span style=display:flex><span>        <span style=color:#4e9a06>&#34;ZookeeperConnectString&#34;</span>: <span style=color:#4e9a06>&#34;localhost:4510&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>Once the <code>State</code> is <code>ACTIV</code>, the cluster is ready to be used. Now it&rsquo;s time to create our Glue Schema Registry:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ awslocal glue create-registry --registry-name unicorn-ride-request-registry
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;RegistryArn&#34;</span>: <span style=color:#4e9a06>&#34;arn:aws:glue:us-east-1:000000000000:file-registry/unicorn-ride-request-registry&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;RegistryName&#34;</span>: <span style=color:#4e9a06>&#34;unicorn-ride-request-registry&#34;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>In the newly created registry, we can now add our initial <code>UnicornRideRequest</code> schema:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ awslocal glue create-schema <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --registry-id <span style=color:#000>RegistryName</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;unicorn-ride-request-registry&#34;</span> <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --schema-name unicorn-ride-request-schema-avro <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --compatibility BACKWARD <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --data-format AVRO <span style=color:#4e9a06>\
</span></span></span><span style=display:flex><span><span style=color:#4e9a06></span>  --schema-definition <span style=color:#4e9a06>&#34;file://producer/src/main/resources/avro/unicorn_ride_request_v1.avsc&#34;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;RegistryName&#34;</span>: <span style=color:#4e9a06>&#34;unicorn-ride-request-registry&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;RegistryArn&#34;</span>: <span style=color:#4e9a06>&#34;arn:aws:glue:us-east-1:000000000000:file-registry/unicorn-ride-request-registry&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;SchemaName&#34;</span>: <span style=color:#4e9a06>&#34;unicorn-ride-request-schema-avro&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;SchemaArn&#34;</span>: <span style=color:#4e9a06>&#34;arn:aws:glue:us-east-1:000000000000:schema/unicorn-ride-request-registry/unicorn-ride-request-schema-avro&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;DataFormat&#34;</span>: <span style=color:#4e9a06>&#34;AVRO&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;Compatibility&#34;</span>: <span style=color:#4e9a06>&#34;BACKWARD&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;SchemaCheckpoint&#34;</span>: 1,
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;LatestSchemaVersion&#34;</span>: 1,
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;NextSchemaVersion&#34;</span>: 2,
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;SchemaStatus&#34;</span>: <span style=color:#4e9a06>&#34;AVAILABLE&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;SchemaVersionId&#34;</span>: <span style=color:#4e9a06>&#34;925c868c-ff56-4992-9f24-6df5933c15cc&#34;</span>,
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;SchemaVersionStatus&#34;</span>: <span style=color:#4e9a06>&#34;AVAILABLE&#34;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>For the schema, we just defined the compatibility mode <code>BACKWARD</code>. This means that the consumers using the new schema can also read data produced with the last schema. For example, this would allow the deletion of fields, or the introduction of new optional fields.</p><p>You can find a thorough description of the different compatibility modes in the <a href=https://docs.aws.amazon.com/glue/latest/dg/schema-registry.html#schema-registry-compatibility>AWS docs on Schema Versioning and Compatibility</a>. The Glue Schema Registry will ensure that newly registered schemas fulfill the constraints defined by the compatibility mode.</p><h2 id=running-the-producer-and-consumer>Running the Producer and Consumer</h2><p>Finally, everything is ready to start our <code>Producer</code> and <code>Consumer</code>. First, we need to get the bootstrap server address from the Kafka cluster:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ awslocal kafka get-bootstrap-brokers --cluster-arn  <span style=color:#4e9a06>&#34;arn:aws:kafka:us-east-1:000000000000:cluster/unicorn-ride-cluster/f9b16124-baf3-459b-8507-ec6c605b7a0a-25&#34;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>    <span style=color:#4e9a06>&#34;BootstrapBrokerString&#34;</span>: <span style=color:#4e9a06>&#34;localhost:4511&#34;</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div><p>Like the <code>ClusterArn</code>, the <code>BootstrapBrokerString</code> is dynamic and can be different. Please make sure to use your bootstrap server address for the runs below.</p><p>Now let&rsquo;s start the <code>Producer</code>. By default, our producer will just send 100 records and shut down.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Compile the Java packages</span>
</span></span><span style=display:flex><span>mvn clean install
</span></span><span style=display:flex><span><span style=color:#8f5902;font-style:italic># Run the producer</span>
</span></span><span style=display:flex><span>mvn -pl producer exec:java -Dexec.args<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;--bootstrap-servers localhost:4511&#34;</span>
</span></span></code></pre></div><p>Once the producer is running, we can observe the different <a href=/tutorials/schema-evolution-glue-msk/#integration-description>steps of the producer as described in the intro</a>:</p><ol><li><p>Before sending a record, the producer validates that the schema, which it is using to serialize its records, is valid:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>...
</span></span><span style=display:flex><span>[GlueSchemaRegistrySerializerFactory][DEBUG] Returning Avro serializer instance from GlueSchemaRegistrySerializerFactory
</span></span><span style=display:flex><span>[AWSSchemaRegistryClient][DEBUG] Getting Schema Version Id for : schemaDefinition = {&#34;type&#34;:&#34;record&#34;,&#34;name&#34;:&#34;UnicornRideRequest&#34;,&#34;namespace&#34;:&#34;cloud.localstack.demos.gluemsk.schema&#34;,&#34;fields&#34;:[{&#34;name&#34;:&#34;request_id&#34;,&#34;type&#34;:&#34;int&#34;,&#34;doc&#34;:&#34;customer request id&#34;},{&#34;name&#34;:&#34;pickup_address&#34;,&#34;type&#34;:&#34;string&#34;,&#34;doc&#34;:&#34;customer pickup address&#34;},{&#34;name&#34;:&#34;destination_address&#34;,&#34;type&#34;:&#34;string&#34;,&#34;doc&#34;:&#34;customer destination address&#34;},{&#34;name&#34;:&#34;ride_fare&#34;,&#34;type&#34;:&#34;float&#34;,&#34;doc&#34;:&#34;ride fare amount (USD)&#34;},{&#34;name&#34;:&#34;ride_duration&#34;,&#34;type&#34;:&#34;int&#34;,&#34;doc&#34;:&#34;ride duration in minutes&#34;},{&#34;name&#34;:&#34;preferred_unicorn_color&#34;,&#34;type&#34;:{&#34;type&#34;:&#34;enum&#34;,&#34;name&#34;:&#34;UnicornPreferredColor&#34;,&#34;symbols&#34;:[&#34;WHITE&#34;,&#34;BLACK&#34;,&#34;RED&#34;,&#34;BLUE&#34;,&#34;GREY&#34;]},&#34;default&#34;:&#34;WHITE&#34;},{&#34;name&#34;:&#34;recommended_unicorn&#34;,&#34;type&#34;:{&#34;type&#34;:&#34;record&#34;,&#34;name&#34;:&#34;RecommendedUnicorn&#34;,&#34;fields&#34;:[{&#34;name&#34;:&#34;unicorn_id&#34;,&#34;type&#34;:&#34;int&#34;,&#34;doc&#34;:&#34;recommended unicorn id&#34;},{&#34;name&#34;:&#34;color&#34;,&#34;type&#34;:{&#34;type&#34;:&#34;enum&#34;,&#34;name&#34;:&#34;unicorn_color&#34;,&#34;symbols&#34;:[&#34;WHITE&#34;,&#34;RED&#34;,&#34;BLUE&#34;]}},{&#34;name&#34;:&#34;stars_rating&#34;,&#34;type&#34;:[&#34;null&#34;,&#34;int&#34;],&#34;doc&#34;:&#34;unicorn star ratings based on customers feedback&#34;,&#34;default&#34;:null}]}},{&#34;name&#34;:&#34;customer&#34;,&#34;type&#34;:{&#34;type&#34;:&#34;record&#34;,&#34;name&#34;:&#34;Customer&#34;,&#34;fields&#34;:[{&#34;name&#34;:&#34;customer_account_no&#34;,&#34;type&#34;:&#34;int&#34;,&#34;doc&#34;:&#34;customer account number&#34;},{&#34;name&#34;:&#34;first_name&#34;,&#34;type&#34;:&#34;string&#34;},{&#34;name&#34;:&#34;middle_name&#34;,&#34;type&#34;:[&#34;null&#34;,&#34;string&#34;],&#34;default&#34;:null},{&#34;name&#34;:&#34;last_name&#34;,&#34;type&#34;:&#34;string&#34;},{&#34;name&#34;:&#34;email_addresses&#34;,&#34;type&#34;:[&#34;null&#34;,{&#34;type&#34;:&#34;array&#34;,&#34;items&#34;:&#34;string&#34;}]},{&#34;name&#34;:&#34;customer_address&#34;,&#34;type&#34;:&#34;string&#34;,&#34;doc&#34;:&#34;customer address&#34;},{&#34;name&#34;:&#34;mode_of_payment&#34;,&#34;type&#34;:{&#34;type&#34;:&#34;enum&#34;,&#34;name&#34;:&#34;ModeOfPayment&#34;,&#34;symbols&#34;:[&#34;CARD&#34;,&#34;CASH&#34;]},&#34;default&#34;:&#34;CARD&#34;},{&#34;name&#34;:&#34;customer_rating&#34;,&#34;type&#34;:[&#34;null&#34;,&#34;int&#34;],&#34;default&#34;:null}]}}]}, schemaName = unicorn-ride-request-schema-avro, dataFormat = AVRO
</span></span><span style=display:flex><span>...
</span></span></code></pre></div></li><li><p>Once the schema is known to be valid, the producer serializes the record, compresses it, and sends it to the Kafka cluster.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>...
</span></span><span style=display:flex><span>[GlueSchemaRegistryKafkaSerializer][DEBUG] Schema Version Id received from the from schema registry: f95edc4b-778d-4f65-b23e-7de41c5b4e53
</span></span><span style=display:flex><span>[GlueSchemaRegistrySerializerFactory][DEBUG] Returning Avro serializer instance from GlueSchemaRegistrySerializerFactory
</span></span><span style=display:flex><span>[GlueSchemaRegistryDefaultCompression][DEBUG] Compression :: record length: 0KB
</span></span><span style=display:flex><span>[GlueSchemaRegistryDefaultCompression][DEBUG] Compression :: record length after compression: 0KB
</span></span><span style=display:flex><span>[Producer][INFO ] {&#34;request_id&#34;: 1, &#34;pickup_address&#34;: &#34;Melbourne, Victoria, Australia&#34;, &#34;destination_address&#34;: &#34;Sydney, NSW, Aus&#34;, &#34;ride_fare&#34;: 1200.5, &#34;ride_duration&#34;: 120, &#34;preferred_unicorn_color&#34;: &#34;WHITE&#34;, &#34;recommended_unicorn&#34;: {&#34;unicorn_id&#34;: 2, &#34;color&#34;: &#34;WHITE&#34;, &#34;stars_rating&#34;: 5}, &#34;customer&#34;: {&#34;customer_account_no&#34;: 1001, &#34;first_name&#34;: &#34;Dummy&#34;, &#34;middle_name&#34;: null, &#34;last_name&#34;: &#34;User&#34;, &#34;email_addresses&#34;: [&#34;demo@example.com&#34;], &#34;customer_address&#34;: &#34;Flinders Street Station&#34;, &#34;mode_of_payment&#34;: &#34;CARD&#34;, &#34;customer_rating&#34;: 5}}
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><p>Now, the records sent by the producer are managed by the Kafka cluster and are waiting for a consumer to pick them up. We can start the consumer with the same bootstrap server address as the producer:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mvn -pl consumer exec:java -Dexec.args<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;--bootstrap-servers localhost:4511&#34;</span>
</span></span></code></pre></div><p>In the logs of the consumer, we can now observe the <a href=/tutorials/schema-evolution-glue-msk/#integration-description>steps of the consumer as described in the intro</a>:</p></li><li><p>The serialized and compressed record is read by the consumers:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>[NetworkClient][DEBUG] [Consumer clientId=consumer-unicorn.riderequest.consumer-1, groupId=unicorn.riderequest.consumer] Sending FETCH request with header RequestHeader(apiKey=FETCH, apiVersion=12, clientId=consumer-unicorn.riderequest.consumer-1, correlationId=10) and timeout 30000 to node 0: FetchRequestData(clusterId=null, replicaId=-1, maxWaitMs=500, minBytes=1, maxBytes=52428800, isolationLevel=0, sessionId=0, sessionEpoch=0, topics=[FetchTopic(topic=&#39;unicorn-ride-request-topic&#39;, partitions=[FetchPartition(partition=0, currentLeaderEpoch=0, fetchOffset=900, lastFetchedEpoch=-1, logStartOffset=-1, partitionMaxBytes=1048576)])], forgottenTopicsData=[], rackId=&#39;&#39;)
</span></span><span style=display:flex><span>[NetworkClient][DEBUG] [Consumer clientId=consumer-unicorn.riderequest.consumer-1, groupId=unicorn.riderequest.consumer] Received FETCH response from node 0 for request with header RequestHeader(apiKey=FETCH, apiVersion=12, clientId=consumer-unicorn.riderequest.consumer-1, correlationId=10): FetchResponseData(throttleTimeMs=0, errorCode=0, sessionId=2057133662, responses=[FetchableTopicResponse(topic=&#39;unicorn-ride-request-topic&#39;, partitionResponses=[FetchablePartitionResponse(partition=0, errorCode=0, highWatermark=1000, lastStableOffset=1000, logStartOffset=0, divergingEpoch=EpochEndOffset(epoch=-1, endOffset=-1), currentLeader=LeaderIdAndEpoch(leaderId=-1, leaderEpoch=-1), snapshotId=SnapshotId(endOffset=-1, epoch=-1), abortedTransactions=null, preferredReadReplica=-1, recordSet=MemoryRecords(size=17141, buffer=java.nio.HeapByteBuffer[pos=0 lim=17141 cap=17144]))])])
</span></span></code></pre></div></li><li><p>The consumer requests the schema from the schema registry, and uses the schema to decompress and deserialize the record.</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>[request][DEBUG] Sending Request: DefaultSdkHttpFullRequest(httpMethod=POST, protocol=https, host=localhost.localstack.cloud, port=4566, encodedPath=/, headers=[amz-sdk-invocation-id, Content-Length, Content-Type, User-Agent, X-Amz-Target], queryParameters=[])
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>[request][DEBUG] Received successful response: 200, Request ID: 1EDT4G1DBSDS0XCD2N7FM9L4SRROEEML1FPDOYSANII78CXDR4F2, Extended Request ID: not available
</span></span><span style=display:flex><span>[GlueSchemaRegistryDeserializerFactory][DEBUG] Returning Avro de-serializer instance from GlueSchemaRegistryDeserializerFactory
</span></span><span style=display:flex><span>[GlueSchemaRegistryDefaultCompression][DEBUG] Decompression :: Compressed record length: 0KB
</span></span><span style=display:flex><span>[GlueSchemaRegistryDefaultCompression][DEBUG] Decompression :: Decompressed record length: 0KB
</span></span><span style=display:flex><span>[AvroDeserializer][DEBUG] Length of actual message: 121
</span></span><span style=display:flex><span>[DatumReaderInstance][DEBUG] Using SpecificDatumReader for de-serializing Avro message, schema: {&#34;type&#34;:&#34;record&#34;,&#34;name&#34;:&#34;UnicornRideRequest&#34;,&#34;namespace&#34;:&#34;cloud.localstack.demos.gluemsk.schema&#34;,&#34;fields&#34;:[{&#34;name&#34;:&#34;request_id&#34;,&#34;type&#34;:&#34;int&#34;,&#34;doc&#34;:&#34;customer request id&#34;},{&#34;name&#34;:&#34;pickup_address&#34;,&#34;type&#34;:&#34;string&#34;,&#34;doc&#34;:&#34;customer pickup address&#34;},{&#34;name&#34;:&#34;destination_address&#34;,&#34;type&#34;:&#34;string&#34;,&#34;doc&#34;:&#34;customer destination address&#34;},{&#34;name&#34;:&#34;ride_fare&#34;,&#34;type&#34;:&#34;float&#34;,&#34;doc&#34;:&#34;ride fare amount (USD)&#34;},{&#34;name&#34;:&#34;ride_duration&#34;,&#34;type&#34;:&#34;int&#34;,&#34;doc&#34;:&#34;ride duration in minutes&#34;},{&#34;name&#34;:&#34;preferred_unicorn_color&#34;,&#34;type&#34;:{&#34;type&#34;:&#34;enum&#34;,&#34;name&#34;:&#34;UnicornPreferredColor&#34;,&#34;symbols&#34;:[&#34;WHITE&#34;,&#34;BLACK&#34;,&#34;RED&#34;,&#34;BLUE&#34;,&#34;GREY&#34;]},&#34;default&#34;:&#34;WHITE&#34;},{&#34;name&#34;:&#34;recommended_unicorn&#34;,&#34;type&#34;:{&#34;type&#34;:&#34;record&#34;,&#34;name&#34;:&#34;RecommendedUnicorn&#34;,&#34;fields&#34;:[{&#34;name&#34;:&#34;unicorn_id&#34;,&#34;type&#34;:&#34;int&#34;,&#34;doc&#34;:&#34;recommended unicorn id&#34;},{&#34;name&#34;:&#34;color&#34;,&#34;type&#34;:{&#34;type&#34;:&#34;enum&#34;,&#34;name&#34;:&#34;unicorn_color&#34;,&#34;symbols&#34;:[&#34;WHITE&#34;,&#34;RED&#34;,&#34;BLUE&#34;]}},{&#34;name&#34;:&#34;stars_rating&#34;,&#34;type&#34;:[&#34;null&#34;,&#34;int&#34;],&#34;doc&#34;:&#34;unicorn star ratings based on customers feedback&#34;,&#34;default&#34;:null}]}},{&#34;name&#34;:&#34;customer&#34;,&#34;type&#34;:{&#34;type&#34;:&#34;record&#34;,&#34;name&#34;:&#34;Customer&#34;,&#34;fields&#34;:[{&#34;name&#34;:&#34;customer_account_no&#34;,&#34;type&#34;:&#34;int&#34;,&#34;doc&#34;:&#34;customer account number&#34;},{&#34;name&#34;:&#34;first_name&#34;,&#34;type&#34;:&#34;string&#34;},{&#34;name&#34;:&#34;middle_name&#34;,&#34;type&#34;:[&#34;null&#34;,&#34;string&#34;],&#34;default&#34;:null},{&#34;name&#34;:&#34;last_name&#34;,&#34;type&#34;:&#34;string&#34;},{&#34;name&#34;:&#34;email_addresses&#34;,&#34;type&#34;:[&#34;null&#34;,{&#34;type&#34;:&#34;array&#34;,&#34;items&#34;:&#34;string&#34;}]},{&#34;name&#34;:&#34;customer_address&#34;,&#34;type&#34;:&#34;string&#34;,&#34;doc&#34;:&#34;customer address&#34;},{&#34;name&#34;:&#34;mode_of_payment&#34;,&#34;type&#34;:{&#34;type&#34;:&#34;enum&#34;,&#34;name&#34;:&#34;ModeOfPayment&#34;,&#34;symbols&#34;:[&#34;CARD&#34;,&#34;CASH&#34;]},&#34;default&#34;:&#34;CARD&#34;},{&#34;name&#34;:&#34;customer_rating&#34;,&#34;type&#34;:[&#34;null&#34;,&#34;int&#34;],&#34;default&#34;:null}]}}]})
</span></span><span style=display:flex><span>[AvroDeserializer][DEBUG] Finished de-serializing Avro message
</span></span><span style=display:flex><span>[GlueSchemaRegistryDeserializerFactory][DEBUG] Returning Avro de-serializer instance from GlueSchemaRegistryDeserializerFactory
</span></span><span style=display:flex><span>[GlueSchemaRegistryDefaultCompression][DEBUG] Decompression :: Compressed record length: 0KB
</span></span><span style=display:flex><span>[GlueSchemaRegistryDefaultCompression][DEBUG] Decompression :: Decompressed record length: 0KB
</span></span><span style=display:flex><span>[AvroDeserializer][DEBUG] Length of actual message: 121
</span></span><span style=display:flex><span>[AvroDeserializer][DEBUG] Finished de-serializing Avro message
</span></span></code></pre></div></li></ol><h2 id=schema-evolution>Schema Evolution</h2><p>In the course of this tutorial, we have implemented a Kafka producer and a consumer which integrate with the Glue Schema Registry. But the full potential of the Glue Schema Registry is unlocked when performing a schema evolution, i.e., when running producers and consumers with a new version of an already registered schema.</p><p>Therefore, we will run a few more interesting scenarios to illustrate the benefits of the Schema Registry:</p><ol><li>Running a producer which automatically registers a new, compatible schema version.</li><li>Running a producer which is rejected when trying to register a new, incompatible schema version.</li><li>Running an old consumer which is rejected since it is not compatible with the newly registered schema version.</li><li>Running an updated consumer which can consume the new schema / records.</li></ol><h3 id=producer-registering-a-new-schema-version>Producer registering a new schema version</h3><p>In this step, we will create a new producer which uses a new, <code>BACKWARD</code> compatible schema version. The complete module can be found in our <a href=https://github.com/localstack/localstack-pro-samples/blob/cd023a84a3b473984e9c34053d4feb7de8e038c1/glue-msk-schema-registry/producer-2/>samples repository (along with the rest of the code of this tutorial).</a></p><p>The producer should register the new schema version automatically on its own.</p><p>We create the new producer by executing the following steps:</p><ul><li>Copy the <code>producer</code> directory and rename it to <code>producer-2</code>.</li><li>Set a new artifact ID in the <code>pom.xml</code> of the module:<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>producer-2<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>  ...
</span></span></code></pre></div></li><li>Add the new module to the root <code>pom.xml</code>:<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;modules&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;module&gt;</span>producer<span style=color:#204a87;font-weight:700>&lt;/module&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;module&gt;</span>producer-2<span style=color:#204a87;font-weight:700>&lt;/module&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;module&gt;</span>consumer<span style=color:#204a87;font-weight:700>&lt;/module&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/modules&gt;</span>
</span></span></code></pre></div></li><li>Create a new version of the schema:<ul><li>Rename the schema to <code>unicorn_ride_request_v2.avsc</code>.</li><li>In the schema, remove the previously required field <code>customer</code>:<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ diff -u producer/src/main/resources/avro/unicorn_ride_request_v1.avsc producer-2/src/main/resources/avro/unicorn_ride_request_v2.avsc
</span></span><span style=display:flex><span>--- producer/src/main/resources/avro/unicorn_ride_request_v1.avsc	2022-05-13 08:27:08.219354922 +0200
</span></span><span style=display:flex><span>+++ producer-2/src/main/resources/avro/unicorn_ride_request_v2.avsc	2022-05-13 08:27:08.219354922 +0200
</span></span><span style=display:flex><span>@@ -20,23 +20,6 @@
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span>: <span style=color:#4e9a06>&#34;stars_rating&#34;</span>, <span style=color:#4e9a06>&#34;type&#34;</span>: <span style=color:#ce5c00;font-weight:700>[</span><span style=color:#4e9a06>&#34;null&#34;</span>, <span style=color:#4e9a06>&#34;int&#34;</span><span style=color:#ce5c00;font-weight:700>]</span>, <span style=color:#4e9a06>&#34;default&#34;</span>: null, <span style=color:#4e9a06>&#34;doc&#34;</span>: <span style=color:#4e9a06>&#34;unicorn star ratings based on customers feedback&#34;</span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>-    <span style=color:#ce5c00;font-weight:700>}</span>,
</span></span><span style=display:flex><span>-    <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>-      <span style=color:#4e9a06>&#34;name&#34;</span>: <span style=color:#4e9a06>&#34;customer&#34;</span>,
</span></span><span style=display:flex><span>-      <span style=color:#4e9a06>&#34;type&#34;</span>: <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>-        <span style=color:#4e9a06>&#34;type&#34;</span>: <span style=color:#4e9a06>&#34;record&#34;</span>,
</span></span><span style=display:flex><span>-        <span style=color:#4e9a06>&#34;name&#34;</span>: <span style=color:#4e9a06>&#34;Customer&#34;</span>,
</span></span><span style=display:flex><span>-        <span style=color:#4e9a06>&#34;fields&#34;</span>: <span style=color:#ce5c00;font-weight:700>[</span>
</span></span><span style=display:flex><span>-          <span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span>: <span style=color:#4e9a06>&#34;customer_account_no&#34;</span>,<span style=color:#4e9a06>&#34;type&#34;</span>: <span style=color:#4e9a06>&#34;int&#34;</span>, <span style=color:#4e9a06>&#34;doc&#34;</span>: <span style=color:#4e9a06>&#34;customer account number&#34;</span><span style=color:#ce5c00;font-weight:700>}</span>,
</span></span><span style=display:flex><span>-          <span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span>: <span style=color:#4e9a06>&#34;first_name&#34;</span>,<span style=color:#4e9a06>&#34;type&#34;</span>: <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#ce5c00;font-weight:700>}</span>,
</span></span><span style=display:flex><span>-          <span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span>: <span style=color:#4e9a06>&#34;middle_name&#34;</span>,<span style=color:#4e9a06>&#34;type&#34;</span>: <span style=color:#ce5c00;font-weight:700>[</span><span style=color:#4e9a06>&#34;null&#34;</span>,<span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#ce5c00;font-weight:700>]</span>, <span style=color:#4e9a06>&#34;default&#34;</span>: null<span style=color:#ce5c00;font-weight:700>}</span>,
</span></span><span style=display:flex><span>-          <span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span>: <span style=color:#4e9a06>&#34;last_name&#34;</span>,<span style=color:#4e9a06>&#34;type&#34;</span>: <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#ce5c00;font-weight:700>}</span>,
</span></span><span style=display:flex><span>-          <span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span>: <span style=color:#4e9a06>&#34;email_addresses&#34;</span>,<span style=color:#4e9a06>&#34;type&#34;</span>: <span style=color:#ce5c00;font-weight:700>[</span><span style=color:#4e9a06>&#34;null&#34;</span>, <span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;type&#34;</span>:<span style=color:#4e9a06>&#34;array&#34;</span>, <span style=color:#4e9a06>&#34;items&#34;</span>:<span style=color:#4e9a06>&#34;string&#34;</span> <span style=color:#ce5c00;font-weight:700>}]}</span>,
</span></span><span style=display:flex><span>-          <span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span>: <span style=color:#4e9a06>&#34;customer_address&#34;</span>,<span style=color:#4e9a06>&#34;type&#34;</span>: <span style=color:#4e9a06>&#34;string&#34;</span>,<span style=color:#4e9a06>&#34;doc&#34;</span>: <span style=color:#4e9a06>&#34;customer address&#34;</span><span style=color:#ce5c00;font-weight:700>}</span>,
</span></span><span style=display:flex><span>-          <span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span>: <span style=color:#4e9a06>&#34;mode_of_payment&#34;</span>,<span style=color:#4e9a06>&#34;type&#34;</span>: <span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;type&#34;</span>: <span style=color:#4e9a06>&#34;enum&#34;</span>,<span style=color:#4e9a06>&#34;name&#34;</span>: <span style=color:#4e9a06>&#34;ModeOfPayment&#34;</span>,<span style=color:#4e9a06>&#34;symbols&#34;</span>: <span style=color:#ce5c00;font-weight:700>[</span><span style=color:#4e9a06>&#34;CARD&#34;</span>,<span style=color:#4e9a06>&#34;CASH&#34;</span><span style=color:#ce5c00;font-weight:700>]}</span>, <span style=color:#4e9a06>&#34;default&#34;</span>: <span style=color:#4e9a06>&#34;CARD&#34;</span><span style=color:#ce5c00;font-weight:700>}</span>,
</span></span><span style=display:flex><span>-          <span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span>: <span style=color:#4e9a06>&#34;customer_rating&#34;</span>, <span style=color:#4e9a06>&#34;type&#34;</span>: <span style=color:#ce5c00;font-weight:700>[</span><span style=color:#4e9a06>&#34;null&#34;</span>, <span style=color:#4e9a06>&#34;int&#34;</span><span style=color:#ce5c00;font-weight:700>]</span>, <span style=color:#4e9a06>&#34;default&#34;</span>: null<span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>-        <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>-      <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div>This change is <code>BACKWARD</code> compatible, because an updated consumer can read records for both - the current and the previous - records (new consumers don&rsquo;t need the customer data, they don&rsquo;t care if it&rsquo;s present or not).</li></ul></li><li>Re-generate the Java classes for the schema:<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mvn clean generate-sources
</span></span></code></pre></div></li><li>Once the classes have been generatated, the producer code needs to be adjusted (remove the usage of <code>setCustomer</code> in the producer&rsquo;s <code>getRecord</code>, since the method does not exist anymore).</li><li>Configure the producer to automatically register its schema version in case it&rsquo;s not yet registered by setting the additional property <code>AWSSchemaRegistryConstants.SCHEMA_AUTO_REGISTRATION_SETTING</code> to <code>true</code>:<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000;font-weight:700>...</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>AWSSchemaRegistryConstants</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>COMPRESSION_TYPE</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>AWSSchemaRegistryConstants</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>COMPRESSION</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>ZLIB</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>name</span><span style=color:#000;font-weight:700>());</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#8f5902;font-style:italic>// Automatically register the new schema version of this producer!</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>put</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>AWSSchemaRegistryConstants</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>SCHEMA_AUTO_REGISTRATION_SETTING</span><span style=color:#000;font-weight:700>,</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#204a87;font-weight:700>true</span><span style=color:#000;font-weight:700>);</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>    </span><span style=color:#204a87;font-weight:700>return</span><span style=color:#f8f8f8;text-decoration:underline> </span><span style=color:#000>props</span><span style=color:#000;font-weight:700>;</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000;font-weight:700>}</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000;font-weight:700>...</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div></li></ul><p>Now we can run the new producer with the same bootstrap server address as before:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mvn clean install
</span></span><span style=display:flex><span>mvn -pl producer-2 exec:java -Dexec.args<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;--bootstrap-servers localhost:4511&#34;</span>
</span></span></code></pre></div><p>In the logs we can see that the producer registered a new schema version before successfully publishing the new records:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>...
</span></span><span style=display:flex><span>[AWSSchemaRegistryClient][INFO ] Registered the schema version with schema version id = 02922438-aa47-41e0-80e0-42238d07565f and with version number = 2 and status AVAILABLE
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><h3 id=producer-trying-to-register-an-incompatible-schema-version>Producer trying to register an incompatible schema version</h3><p>In our next scenario we will create a new producer which wants to register a schema which is <em>not</em> compatible to the schema in the registry. The producer will be rejected right when trying to register the new schema version, before even sending a record.</p><p>The complete module can be found in our <a href=https://github.com/localstack/localstack-pro-samples/blob/cd023a84a3b473984e9c34053d4feb7de8e038c1/glue-msk-schema-registry/producer-3/>samples repository (along with the rest of the code of this tutorial).</a></p><p>Similar to the previous scenario, we create a new producer by executing the following steps:</p><ul><li>Copy the <code>producer-2</code> directory and rename it to <code>producer-3</code>.</li><li>Set a new artifact ID in the <code>pom.xml</code> of the module:<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>producer-3<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>  ...
</span></span></code></pre></div></li><li>Add the new module to the root <code>pom.xml</code>:<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;modules&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;module&gt;</span>producer<span style=color:#204a87;font-weight:700>&lt;/module&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;module&gt;</span>producer-2<span style=color:#204a87;font-weight:700>&lt;/module&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;module&gt;</span>producer-3<span style=color:#204a87;font-weight:700>&lt;/module&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;module&gt;</span>consumer<span style=color:#204a87;font-weight:700>&lt;/module&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/modules&gt;</span>
</span></span></code></pre></div></li><li>Create a new version of the schema:<ul><li>Rename the schema to <code>unicorn_ride_request_v3.avsc</code>.</li><li>In the schema, add a new required field <code>unicorn_food</code>:<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ diff -u producer-2/src/main/resources/avro/unicorn_ride_request_v2.avsc producer-3/src/main/resources/avro/unicorn_ride_request_v3.avsc
</span></span><span style=display:flex><span>--- producer-2/src/main/resources/avro/unicorn_ride_request_v2.avsc	2022-05-13 08:27:08.219354922 +0200
</span></span><span style=display:flex><span>+++ producer-3/src/main/resources/avro/unicorn_ride_request_v3.avsc	2022-05-13 08:27:08.219354922 +0200
</span></span><span style=display:flex><span>@@ -20,6 +20,17 @@
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span>: <span style=color:#4e9a06>&#34;stars_rating&#34;</span>, <span style=color:#4e9a06>&#34;type&#34;</span>: <span style=color:#ce5c00;font-weight:700>[</span><span style=color:#4e9a06>&#34;null&#34;</span>, <span style=color:#4e9a06>&#34;int&#34;</span><span style=color:#ce5c00;font-weight:700>]</span>, <span style=color:#4e9a06>&#34;default&#34;</span>: null, <span style=color:#4e9a06>&#34;doc&#34;</span>: <span style=color:#4e9a06>&#34;unicorn star ratings based on customers feedback&#34;</span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>        <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>+    <span style=color:#ce5c00;font-weight:700>}</span>,
</span></span><span style=display:flex><span>+    <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>+      <span style=color:#4e9a06>&#34;name&#34;</span>: <span style=color:#4e9a06>&#34;unicorn_food&#34;</span>,
</span></span><span style=display:flex><span>+      <span style=color:#4e9a06>&#34;type&#34;</span>: <span style=color:#ce5c00;font-weight:700>{</span>
</span></span><span style=display:flex><span>+        <span style=color:#4e9a06>&#34;type&#34;</span>: <span style=color:#4e9a06>&#34;record&#34;</span>,
</span></span><span style=display:flex><span>+        <span style=color:#4e9a06>&#34;name&#34;</span>: <span style=color:#4e9a06>&#34;Food&#34;</span>,
</span></span><span style=display:flex><span>+        <span style=color:#4e9a06>&#34;fields&#34;</span>: <span style=color:#ce5c00;font-weight:700>[</span>
</span></span><span style=display:flex><span>+          <span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span>: <span style=color:#4e9a06>&#34;price&#34;</span>,<span style=color:#4e9a06>&#34;type&#34;</span>: <span style=color:#4e9a06>&#34;float&#34;</span>,<span style=color:#4e9a06>&#34;doc&#34;</span>: <span style=color:#4e9a06>&#34;price per pound of food (USD)&#34;</span><span style=color:#ce5c00;font-weight:700>}</span>,
</span></span><span style=display:flex><span>+          <span style=color:#ce5c00;font-weight:700>{</span><span style=color:#4e9a06>&#34;name&#34;</span>: <span style=color:#4e9a06>&#34;name&#34;</span>,<span style=color:#4e9a06>&#34;type&#34;</span>: <span style=color:#4e9a06>&#34;string&#34;</span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>+        <span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span>+      <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span>    <span style=color:#ce5c00;font-weight:700>}</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>]</span>
</span></span><span style=display:flex><span><span style=color:#ce5c00;font-weight:700>}</span>
</span></span></code></pre></div>This change is <em>not</em> <code>BACKWARD</code> compatible, because an updated consumer cannot read records for both - the current and the previous - records (new consumers would expect the <code>unicorn_food</code>, which is not present in old records).</li></ul></li><li>Re-generate the Java classes for the schema:<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mvn clean generate-sources
</span></span></code></pre></div></li><li>Once the classes have been generated, the producer code needs to be adjusted (set the new required <code>unicorn_food</code> in the producer&rsquo;s <code>getRecord</code>):<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-java data-lang=java><span style=display:flex><span><span style=color:#000;font-weight:700>...</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline>        </span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>setStarsRating</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>5</span><span style=color:#000;font-weight:700>).</span><span style=color:#c4a000>build</span><span style=color:#000;font-weight:700>())</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#8f5902;font-style:italic>// we removed the (previously required) customer data here in the new version of the producer (v1)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#8f5902;font-style:italic>// and added a new field without a default (which isn&#39;t backward compatible)</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>setUnicornFood</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>Food</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>newBuilder</span><span style=color:#000;font-weight:700>().</span><span style=color:#c4a000>setPrice</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>133</span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>7f</span><span style=color:#000;font-weight:700>).</span><span style=color:#c4a000>setName</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#34;Rainbow&#34;</span><span style=color:#000;font-weight:700>).</span><span style=color:#c4a000>build</span><span style=color:#000;font-weight:700>())</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000;font-weight:700>.</span><span style=color:#c4a000>build</span><span style=color:#000;font-weight:700>();</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span><span style=display:flex><span><span style=color:#f8f8f8;text-decoration:underline></span><span style=color:#000;font-weight:700>...</span><span style=color:#f8f8f8;text-decoration:underline>
</span></span></span></code></pre></div></li></ul><p>We can run the new producer with the same bootstrap server address as before:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mvn clean install
</span></span><span style=display:flex><span>mvn -pl producer-3 exec:java -Dexec.args<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;--bootstrap-servers localhost:4511&#34;</span>
</span></span></code></pre></div><p>In the logs we can see that the producer fails when trying to register its new, but incompatible, version of the schema:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>...
</span></span><span style=display:flex><span>[AWSSchemaRegistryClient][INFO ] Registered the schema version with schema version id = 8f625284-07b4-442e-83ae-395cd7853746 and with version number = 3 and status FAILURE
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>[WARNING]
</span></span><span style=display:flex><span>com.amazonaws.services.schemaregistry.exception.AWSSchemaRegistryException: Register schema :: Call failed when registering the schema with the schema registry for schema name = unicorn-ride-request-schema-avro
</span></span><span style=display:flex><span>    at com.amazonaws.services.schemaregistry.common.AWSSchemaRegistryClient.registerSchemaVersion (AWSSchemaRegistryClient.java:310)
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><h3 id=outdated-consumers>Outdated consumers</h3><p>We&rsquo;ve seen how the producer&rsquo;s schema evolution works in the previous scenarios. Now, we&rsquo;ll take a closer look at our consumer.</p><p>In our <a href=/tutorials/schema-evolution-glue-msk/#1-producer-registering-a-new-schema-version>first schema evolution scenario</a>, the producer registered a new version of the schema and afterwards published records with that schema. The <code>BACKWARD</code> schema compatibility guarantees that updated consumers can read older records, i.e., the consumers need to be updated before the producers.</p><p>Therefore, our old consumer will fail in consuming these records, because it is not compatible with the new schema registered by the new producer yet:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mvn -pl consumer exec:java -Dexec.args<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;--bootstrap-servers localhost:4511&#34;</span>
</span></span></code></pre></div><p>In the logs, we can see that the consumer fails because the AVRO schema used by the consumer is expecting a required field (<code>customer</code>):</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-plaintext data-lang=plaintext><span style=display:flex><span>[request][DEBUG] Sending Request: DefaultSdkHttpFullRequest(httpMethod=POST, protocol=https, host=localhost.localstack.cloud, port=4566, encodedPath=/, headers=[amz-sdk-invocation-id, Content-Length, Content-Type, User-Agent, X-Amz-Target], queryParameters=[])
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>[DatumReaderInstance][DEBUG] Using SpecificDatumReader for de-serializing Avro message, schema: {&#34;type&#34;:&#34;record&#34;,&#34;name&#34;:&#34;UnicornRideRequest&#34;,&#34;namespace&#34;:&#34;cloud.localstack.demos.gluemsk.schema&#34;,&#34;fields&#34;:[{&#34;name&#34;:&#34;request_id&#34;,&#34;type&#34;:&#34;int&#34;,&#34;doc&#34;:&#34;customer request id&#34;},{&#34;name&#34;:&#34;pickup_address&#34;,&#34;type&#34;:&#34;string&#34;,&#34;doc&#34;:&#34;customer pickup address&#34;},{&#34;name&#34;:&#34;destination_address&#34;,&#34;type&#34;:&#34;string&#34;,&#34;doc&#34;:&#34;customer destination address&#34;},{&#34;name&#34;:&#34;ride_fare&#34;,&#34;type&#34;:&#34;float&#34;,&#34;doc&#34;:&#34;ride fare amount (USD)&#34;},{&#34;name&#34;:&#34;ride_duration&#34;,&#34;type&#34;:&#34;int&#34;,&#34;doc&#34;:&#34;ride duration in minutes&#34;},{&#34;name&#34;:&#34;preferred_unicorn_color&#34;,&#34;type&#34;:{&#34;type&#34;:&#34;enum&#34;,&#34;name&#34;:&#34;UnicornPreferredColor&#34;,&#34;symbols&#34;:[&#34;WHITE&#34;,&#34;BLACK&#34;,&#34;RED&#34;,&#34;BLUE&#34;,&#34;GREY&#34;]},&#34;default&#34;:&#34;WHITE&#34;},{&#34;name&#34;:&#34;recommended_unicorn&#34;,&#34;type&#34;:{&#34;type&#34;:&#34;record&#34;,&#34;name&#34;:&#34;RecommendedUnicorn&#34;,&#34;fields&#34;:[{&#34;name&#34;:&#34;unicorn_id&#34;,&#34;type&#34;:&#34;int&#34;,&#34;doc&#34;:&#34;recommended unicorn id&#34;},{&#34;name&#34;:&#34;color&#34;,&#34;type&#34;:{&#34;type&#34;:&#34;enum&#34;,&#34;name&#34;:&#34;unicorn_color&#34;,&#34;symbols&#34;:[&#34;WHITE&#34;,&#34;RED&#34;,&#34;BLUE&#34;]}},{&#34;name&#34;:&#34;stars_rating&#34;,&#34;type&#34;:[&#34;null&#34;,&#34;int&#34;],&#34;doc&#34;:&#34;unicorn star ratings based on customers feedback&#34;,&#34;default&#34;:null}]}},{&#34;name&#34;:&#34;customer&#34;,&#34;type&#34;:{&#34;type&#34;:&#34;record&#34;,&#34;name&#34;:&#34;Customer&#34;,&#34;fields&#34;:[{&#34;name&#34;:&#34;customer_account_no&#34;,&#34;type&#34;:&#34;int&#34;,&#34;doc&#34;:&#34;customer account number&#34;},{&#34;name&#34;:&#34;first_name&#34;,&#34;type&#34;:&#34;string&#34;},{&#34;name&#34;:&#34;middle_name&#34;,&#34;type&#34;:[&#34;null&#34;,&#34;string&#34;],&#34;default&#34;:null},{&#34;name&#34;:&#34;last_name&#34;,&#34;type&#34;:&#34;string&#34;},{&#34;name&#34;:&#34;email_addresses&#34;,&#34;type&#34;:[&#34;null&#34;,{&#34;type&#34;:&#34;array&#34;,&#34;items&#34;:&#34;string&#34;}]},{&#34;name&#34;:&#34;customer_address&#34;,&#34;type&#34;:&#34;string&#34;,&#34;doc&#34;:&#34;customer address&#34;},{&#34;name&#34;:&#34;mode_of_payment&#34;,&#34;type&#34;:{&#34;type&#34;:&#34;enum&#34;,&#34;name&#34;:&#34;ModeOfPayment&#34;,&#34;symbols&#34;:[&#34;CARD&#34;,&#34;CASH&#34;]},&#34;default&#34;:&#34;CARD&#34;},{&#34;name&#34;:&#34;customer_rating&#34;,&#34;type&#34;:[&#34;null&#34;,&#34;int&#34;],&#34;default&#34;:null}]}}]})
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>[WARNING]
</span></span><span style=display:flex><span>org.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition unicorn-ride-request-topic-0 at offset 100. If needed, please seek past the record to continue consumption.
</span></span><span style=display:flex><span>Caused by: com.amazonaws.services.schemaregistry.exception.AWSSchemaRegistryException: Exception occurred while de-serializing Avro message
</span></span><span style=display:flex><span>    at com.amazonaws.services.schemaregistry.deserializers.avro.AvroDeserializer.deserialize (AvroDeserializer.java:103)
</span></span><span style=display:flex><span>...
</span></span><span style=display:flex><span>Caused by: org.apache.avro.AvroTypeException: Found cloud.localstack.demos.gluemsk.schema.UnicornRideRequest, expecting cloud.localstack.demos.gluemsk.schema.UnicornRideRequest, missing required field customer
</span></span><span style=display:flex><span>    at org.apache.avro.io.ResolvingDecoder.doAction (ResolvingDecoder.java:308)
</span></span><span style=display:flex><span>...
</span></span></code></pre></div><h3 id=updated-consumers>Updated consumers</h3><p>Finally, we will update our consumer such that it is compatible to the new version of the schema. The complete module can be found in our <a href=https://github.com/localstack/localstack-pro-samples/blob/cd023a84a3b473984e9c34053d4feb7de8e038c1/glue-msk-schema-registry/consumer-2/>samples repository (along with the rest of the code of this tutorial).</a></p><p>Similar to the previous producer scenarios, we create a new consumer by executing the following steps:</p><ul><li>Copy the <code>consumer</code> directory and rename it to <code>consumer-2</code>.</li><li>Set a new artifact ID in the <code>pom.xml</code> of the module:<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;artifactId&gt;</span>consumer-2<span style=color:#204a87;font-weight:700>&lt;/artifactId&gt;</span>
</span></span><span style=display:flex><span>  ...
</span></span></code></pre></div></li><li>Add the new module to the root <code>pom.xml</code>:<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-xml data-lang=xml><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;modules&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;module&gt;</span>producer<span style=color:#204a87;font-weight:700>&lt;/module&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;module&gt;</span>producer-2<span style=color:#204a87;font-weight:700>&lt;/module&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;module&gt;</span>producer-3<span style=color:#204a87;font-weight:700>&lt;/module&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;module&gt;</span>consumer<span style=color:#204a87;font-weight:700>&lt;/module&gt;</span>
</span></span><span style=display:flex><span>  <span style=color:#204a87;font-weight:700>&lt;module&gt;</span>consumer-2<span style=color:#204a87;font-weight:700>&lt;/module&gt;</span>
</span></span><span style=display:flex><span><span style=color:#204a87;font-weight:700>&lt;/modules&gt;</span>
</span></span></code></pre></div></li><li>Replace the <code>unicorn_ride_request_v1.avsc</code> with the new version used by <code>producer-2</code> (<code>unicorn_ride_request_v2.avsc</code>).</li><li>Re-generate the Java classes for the schema:<div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mvn clean generate-sources
</span></span></code></pre></div></li></ul><p>Our new consumer, based on the latest version of the schema, will be able to successfully consume the records published by the new producer:</p><div class=highlight><pre tabindex=0 style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mvn -pl consumer-2 exec:java -Dexec.args<span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;--bootstrap-servers localhost:4511&#34;</span>
</span></span></code></pre></div><h2 id=conclusion>Conclusion</h2><p>Apache Kafka is used as the core messaging system in complex environments, with independent producers and consumers. The individual development of these components make it hard to coordinate and evolve data schemas over time. Using the AWS Glue Schema Registry can help you to prevent the usage of incompatible schemas.</p><p>With LocalStack, emulating Amazon Managed Streaming for Kafka and AWS Glue Schema Registry, you can develop and test the next evolution of your data schema locally on your own machine.</p><br><div class=td-page-meta__lastmod>Last modified March 4, 2024: <a href=https://github.com/localstack/docs/commit/231f40dcbff45493e5f884e31ef9fe38b95590c2>Consistent service names in path and content (#1105) (231f40dcb)</a></div></div></main></div></div><footer class="footer-localstack d-print-none"><div class=container-fluid><div class=row><div class=col><div class=mb-3><a href=https://localstack.cloud><img class=footer-logo src=/images/logo.svg></a></div></div><div class=col><div class="text-end link-lists"><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-bs-toggle=tooltip data-placement=top title=Twitter aria-label=Twitter><a target=_blank rel=noopener href=https://twitter.com/localstack aria-label=Twitter><i class="fab fa-twitter"></i></a></li><li class="list-inline-item mx-2 h3" data-bs-toggle=tooltip data-placement=top title=Discussion aria-label=Discussion><a target=_blank rel=noopener href=https://discuss.localstack.cloud/ aria-label=Discussion><i class="fa fa-comments"></i></a></li><li class="list-inline-item mx-2 h3" data-bs-toggle=tooltip data-placement=top title="Stack Overflow" aria-label="Stack Overflow"><a target=_blank rel=noopener href=https://stackoverflow.com/questions/tagged/localstack aria-label="Stack Overflow"><i class="fab fa-stack-overflow"></i></a></li></ul><ul class="list-inline mb-0"><li class="list-inline-item mx-2 h3" data-bs-toggle=tooltip data-placement=top title=GitHub aria-label=GitHub><a target=_blank rel=noopener href=https://github.com/localstack/ aria-label=GitHub><i class="fab fa-github"></i></a></li><li class="list-inline-item mx-2 h3" data-bs-toggle=tooltip data-placement=top title="Issue tracker" aria-label="Issue tracker"><a target=_blank rel=noopener href=https://github.com/localstack/localstack/issues aria-label="Issue tracker"><i class="fa fa-bug"></i></a></li><li class="list-inline-item mx-2 h3" data-bs-toggle=tooltip data-placement=top title=Slack aria-label=Slack><a target=_blank rel=noopener href=https://localstack.cloud/slack aria-label=Slack><i class="fab fa-slack"></i></a></li></ul></div></div></div><div class=row><div class=col><hr><div class=row><div class=col><small>Copyright &copy; 2024 LocalStack All Rights Reserved</small></div><div class="col text-end"><small class=ms-1><a href=https://localstack.cloud/privacy-policy/ target=_blank rel=noopener>Privacy Policy</a></small></div></div></div></div></div></footer></div><script src=/js/main.min.1b64887c572e23a206e20c997f04baa7fda8d02b725cfd4a4f71f036f2391251.js integrity="sha256-G2SIfFcuI6IG4gyZfwS6p/2o0CtyXP1KT3HwNvI5ElE=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/@docsearch/js@3.6.0 integrity="sha512-FtDaTWf3IS29TLuYzTPlytjGqcXkwrzG9ivq7xXElnOZeiYTbcIy/hwXAgrrRNnI0+PfN+WFz4/+4phhJmuS8Q==" crossorigin=anonymous></script><script type=text/javascript>const containers=["#docsearch-0","#docsearch-1"];for(let e of containers)docsearch({container:e,appId:"XBW1JU7CW5",apiKey:"6b0341e2f50196d328d088dbb5cd6166",indexName:"localstack"})</script><script src=/js/tabpane-persist.js></script><script src=/js/global-script.js></script></body><style>.social-share>.reading-time{display:flex;align-items:center;margin:0}</style></html>